['text':' Input: heatmaps [size x size], boxes [x0, y0, x1, y1]','line_number':11,'multiline':False]['text':' Output: keypoints (#rois, 4, #keypoints)','line_number':12,'multiline':False]['text':' namespace','line_number':16,'multiline':False]['text':'*
Mask R-CNN uses bicubic upscaling before taking the maximum of the heat map
for keypoints. We would like to avoid bicubic upscaling, because it is
computationally expensive. This approach uses the Taylor expansion up to the
quadratic terms on approximation of the heatmap function.
*','line_number':18,'multiline':True]['text':' at least 2x2 for approx','line_number':34,'multiline':False]['text':' Wrap inputs in Eigen','line_number':41,'multiline':False]['text':' Calculate the softmax','line_number':49,'multiline':False]['text':' softmax output is expensive to compute, if should_output_softmax is not','line_number':54,'multiline':False]['text':' specified, don't populate it','line_number':55,'multiline':False]['text':' otherwise not initialized ','line_number':60,'multiline':True]['text':' Resize and wrap outputs in Eigen','line_number':62,'multiline':False]['text':' finding max value first (only maxCoeff() is vectorized, not','line_number':68,'multiline':False]['text':' maxCoeff(&index)), then find the index (equalness check is also fast)','line_number':69,'multiline':False]['text':' Populate outputs','line_number':81,'multiline':False]['text':' For each box, even skipped','line_number':82,'multiline':False]['text':' Extract max keypoints and probabilities from heatmaps','line_number':89,'multiline':False]['text':' initialize fmax values of local 3x3 grid','line_number':100,'multiline':False]['text':' when 3x3 grid going out-of-bound, mirroring around center','line_number':101,'multiline':False]['text':' b = -f'(0), A = f''(0) Hessian matrix','line_number':113,'multiline':False]['text':' Solve Ax=b','line_number':122,'multiline':False]['text':' NOLINTNEXTLINE(cppcoreguidelines-init-variables)','line_number':125,'multiline':False]['text':' clip delta if going out-of-range of 3x3 grid','line_number':133,'multiline':False]['text':' find maximum of delta scores','line_number':144,'multiline':False]['text':' namespace caffe2','line_number':161,'multiline':False]['text':' clang-format off','line_number':166,'multiline':False]['text':' clang-format on','line_number':176,'multiline':False]