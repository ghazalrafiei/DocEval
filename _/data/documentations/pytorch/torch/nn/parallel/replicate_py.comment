['text':' Check if we can safely replicate the module.','line_number':35,'multiline':False]['text':' there are two types of module:','line_number':36,'multiline':False]['text':' 1. python modules','line_number':37,'multiline':False]['text':' 2. ScriptModule','line_number':38,'multiline':False]['text':'','line_number':39,'multiline':False]['text':' currently a module cannot be replicated properly if the descendants of','line_number':40,'multiline':False]['text':' any ScriptModule contains python module (type 1 above)','line_number':41,'multiline':False]['text':' module.modules() contains module itself as the first element','line_number':44,'multiline':False]['text':' memoize visited modules','line_number':55,'multiline':False]['text':' since any unreplicatable module will cause the check to return','line_number':63,'multiline':False]['text':' False early, visited modules here can be safely ignored.','line_number':64,'multiline':False]['text':' Use the autograd function to broadcast if not detach','line_number':81,'multiline':False]['text':' This is a temporary fix for DDP. DDP needs to access the','line_number':135,'multiline':False]['text':' replicated model parameters. It used to do so through','line_number':136,'multiline':False]['text':' `mode.parameters()`. The fix added in #33907 for DP stops the','line_number':137,'multiline':False]['text':' `parameters()` API from exposing the replicated parameters.','line_number':138,'multiline':False]['text':' Hence, we add a `_former_parameters` dict here to support DDP.','line_number':139,'multiline':False]['text':' parameters in replicas are no longer leaves,','line_number':165,'multiline':False]['text':' so setattr them as non-parameter attributes','line_number':166,'multiline':False]['text':' expose the parameter for DDP','line_number':168,'multiline':False]['text':' type: ignore[assignment]','line_number':170,'multiline':False]