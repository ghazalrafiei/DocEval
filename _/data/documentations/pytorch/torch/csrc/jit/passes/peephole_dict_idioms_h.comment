['text':' Peephole Optimizes Dict Ops such as len() and __getitem__','line_number':8,'multiline':False]['text':' 1. getitem optimizations','line_number':9,'multiline':False]['text':' Given a function like this:','line_number':10,'multiline':False]['text':'     def foo():','line_number':11,'multiline':False]['text':'         d = {0 : 1}','line_number':12,'multiline':False]['text':'         x = d[0]','line_number':13,'multiline':False]['text':'         return x','line_number':14,'multiline':False]['text':' This pass produces (after dead code elimination):','line_number':15,'multiline':False]['text':'     def foo(a, b):','line_number':16,'multiline':False]['text':'         return 1','line_number':17,'multiline':False]['text':'','line_number':18,'multiline':False]['text':' This optimization can only happen if the dict is not modified','line_number':19,'multiline':False]['text':' and the dict has constant, non overlapping keys.','line_number':20,'multiline':False]['text':'','line_number':21,'multiline':False]['text':' 2. len optimizations','line_number':22,'multiline':False]['text':' Given a function like this:','line_number':23,'multiline':False]['text':'     def foo():','line_number':24,'multiline':False]['text':'         d = {0 : 1}','line_number':25,'multiline':False]['text':'         return len(d)','line_number':26,'multiline':False]['text':' This pass produces (after dead code elimination):','line_number':27,'multiline':False]['text':'     def foo():','line_number':28,'multiline':False]['text':'         return 1','line_number':29,'multiline':False]['text':'','line_number':30,'multiline':False]['text':' This has the same requirements as the getitem optimizations.','line_number':31,'multiline':False]['text':'','line_number':32,'multiline':False]['text':' Currently this is invoked as part of PeepholeOptimize','line_number':33,'multiline':False]['text':' return true if graph is modified.','line_number':34,'multiline':False]['text':' namespace jit','line_number':37,'multiline':False]['text':' namespace torch','line_number':38,'multiline':False]