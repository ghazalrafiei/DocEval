['text':' Introduction','line_number':8,'multiline':False]['text':'','line_number':9,'multiline':False]['text':' The conversion part is called inside the onnx pass.','line_number':10,'multiline':False]['text':' In onnx pass, _run_symbolic_function will be called for each node in','line_number':11,'multiline':False]['text':' topological order. When it reaches the placeholder node, this function will','line_number':12,'multiline':False]['text':' be invoked. It will convert the nodes inside the sub-block based on pattern.','line_number':13,'multiline':False]['text':' By that time, it will have shape/type of upstream operators available. After','line_number':14,'multiline':False]['text':' the conversion is complete, the placeholder node will be removed, and nodes','line_number':15,'multiline':False]['text':' inside its sub-block converted. NodeToONNX will be called for these','line_number':16,'multiline':False]['text':' nodes, and they will be converted from ATen operator to ONNX operator.','line_number':17,'multiline':False]['text':'','line_number':18,'multiline':False]['text':' Note: Edit Pattern Conversion','line_number':19,'multiline':False]['text':'','line_number':20,'multiline':False]['text':' Each pattern is differentiated by the name attribute of placeholder node.','line_number':21,'multiline':False]['text':' The placeholder node is part of torch IR graph, After this function, the aten','line_number':22,'multiline':False]['text':' nodes under placeholder node subblock will be converted to ONNX and appended','line_number':23,'multiline':False]['text':' to the new_block, which is under the new ONNX graph. For the pattern','line_number':24,'multiline':False]['text':' conversion code, it can be divided into three parts.','line_number':25,'multiline':False]['text':'      1. Nodes in this pattern should be captured inside the subblock of','line_number':26,'multiline':False]['text':'         Placeholder node after pattern encapsulation[see','line_number':27,'multiline':False]['text':'         pattern_encapsulation.h]. These nodes will be converted based on','line_number':28,'multiline':False]['text':'         pattern. This part of conversion is from aten to aten. It happens on','line_number':29,'multiline':False]['text':'         the torch IR graph inside placeholder node subblock.','line_number':30,'multiline':False]['text':'      2. The second part of conversion is to convert the aten nodes produced','line_number':31,'multiline':False]['text':'         into ONNX. This is done by calling NodeToONNX for each node. The new','line_number':32,'multiline':False]['text':'         ONNX nodes are appended to the new_block, which is under the new ONNX','line_number':33,'multiline':False]['text':'         graph.','line_number':34,'multiline':False]['text':'      3. The last part of conversion is to find and return, in the same order,','line_number':35,'multiline':False]['text':'         the ONNX outputs corresponding to the original output for the','line_number':36,'multiline':False]['text':'         placeholder node.','line_number':37,'multiline':False]['text':' namespace jit','line_number':43,'multiline':False]['text':' namespace torch','line_number':44,'multiline':False]