['text':' mypy: disable-error-code="method-assign"','line_number':1,'multiline':False]['text':' Get main_module path from fbcode','line_number':61,'multiline':False]['text':' Get cmd line path','line_number':66,'multiline':False]['text':' log.warning("Wrote isolation TARGETS file at %s", target_file)','line_number':99,'multiline':False]['text':' TODO - Assuming that all modules can be safely repr'd. Check if that assumption is correct.','line_number':155,'multiline':False]['text':' module should be a core torch.nn.Module, so all parameters','line_number':175,'multiline':False]['text':' should be on the same device.','line_number':176,'multiline':False]['text':' Serialize full data for small buffers','line_number':185,'multiline':False]['text':' TODO - Keep this code for now. But, I don't think we will need this.','line_number':210,'multiline':False]['text':' attrs = dir(gm)','line_number':211,'multiline':False]['text':' for attr in attrs:','line_number':212,'multiline':False]['text':'     if "_tensor_constant" in attr:','line_number':213,'multiline':False]['text':'         val = getattr(gm, attr)','line_number':214,'multiline':False]['text':'         model_str += f"    {attr} = {val!r}\n"','line_number':215,'multiline':False]['text':' subprocess is expensive','line_number':221,'multiline':False]['text':' TorchInductor returned callable expects lists. So, boxing the call.','line_number':319,'multiline':False]['text':' noqa: TRY200','line_number':383,'multiline':False]['text':' This means that the minified graph is bad/exposes a different problem.','line_number':389,'multiline':False]['text':' As we are checking accuracy here, lets log the exception and return True.','line_number':390,'multiline':False]['text':' If casting to fp64 for accuracy comparison, we need to','line_number':435,'multiline':False]['text':' replace dtype arguments embedded in the graph with fp64','line_number':436,'multiline':False]['text':' This means that the minified graph is bad/exposes a different problem.','line_number':474,'multiline':False]['text':' As we are checking accuracy here, lets log the exception and return False.','line_number':475,'multiline':False]['text':' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #','line_number':484,'multiline':False]['text':'                       REPRO SUPPORT CODE','line_number':485,'multiline':False]['text':' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #','line_number':486,'multiline':False]['text':' Helper functions for computing what the default values of tensor','line_number':489,'multiline':False]['text':' values should be.  These all coincide with factory functions, e.g., torch.empty','line_number':490,'multiline':False]['text':' TODO: Support bundling the entire repro into a zip file for ease of','line_number':526,'multiline':False]['text':' transferring around','line_number':527,'multiline':False]['text':' If None, we will generate random data instead.  It's important','line_number':530,'multiline':False]['text':' to natively support this use case as it will allow people to','line_number':531,'multiline':False]['text':' share repros without including the real data, if the problem','line_number':532,'multiline':False]['text':' reproduces even on random data.','line_number':533,'multiline':False]['text':' TODO: transfer it to the right device?  But failing this','line_number':553,'multiline':False]['text':' way would be very mysterious!  Would have been better','line_number':554,'multiline':False]['text':' not to store device in the serialized format...','line_number':555,'multiline':False]['text':' Fake up some autograd history in a very naughty way','line_number':585,'multiline':False]['text':' for BC','line_number':593,'multiline':False]['text':' for BC','line_number':597,'multiline':False]['text':' Here is our writer strategy:','line_number':600,'multiline':False]['text':'  1. We will stream all of the inputs to disk','line_number':601,'multiline':False]['text':'  2. You can now deterministically randomize the inputs, or reload','line_number':602,'multiline':False]['text':'     the inputs from disk','line_number':603,'multiline':False]['text':'  3. You can YOLO run the script without the inputs, in which case','line_number':604,'multiline':False]['text':'     we'll fill the inputs with random data and pray.  This is the','line_number':605,'multiline':False]['text':'     legacy behavior, but it's also useful if you want to find out','line_number':606,'multiline':False]['text':'     if we're so broken even random inputs trigger it','line_number':607,'multiline':False]['text':'  4. We could offer an in process "check if the randomized thing','line_number':608,'multiline':False]['text':'     works too" but this is delicate so we don't do it','line_number':609,'multiline':False]['text':' TODO: consider ensuring tensor and storage counters line up?','line_number':615,'multiline':False]['text':' In case we need to change the internal format of load_args','line_number':630,'multiline':False]['text':' in an FC-breaking way','line_number':631,'multiline':False]['text':' Storages are untyped, but we need to initialize them with data if','line_number':635,'multiline':False]['text':' we don't have the real data, so we give a hint saying what kind','line_number':636,'multiline':False]['text':' of initialization may be appropriate','line_number':637,'multiline':False]['text':'','line_number':638,'multiline':False]['text':' If we had a FakeTensor, device_hint tells us what device should be','line_number':639,'multiline':False]['text':' TODO: being optional on device is kind of pointless as the default','line_number':649,'multiline':False]['text':' is CPU but most repros we care about are CUDA','line_number':650,'multiline':False]['text':' NB: this is positional, must come first','line_number':673,'multiline':False]['text':' TODO: this doesn't actually symint atm','line_number':694,'multiline':False]