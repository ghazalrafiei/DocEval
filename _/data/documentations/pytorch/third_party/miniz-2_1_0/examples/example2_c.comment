['text':' example2.c - Simple demonstration of miniz.c's ZIP archive API's.','line_number':1,'multiline':False]['text':' Note this test deletes the test archive file "__mz_example2_test__.zip" in the current directory, then creates a new one with test data.','line_number':2,'multiline':False]['text':' Public domain, May 15 2011, Rich Geldreich, richgel99@gmail.com. See "unlicense" statement at the end of tinfl.c.','line_number':3,'multiline':False]['text':' Ensure we get the 64-bit variants of the CRT's file I/O calls','line_number':6,'multiline':False]['text':' The string to compress.','line_number':22,'multiline':False]['text':' Delete the test archive, so it doesn't keep growing as we run this test','line_number':52,'multiline':False]['text':' Append a bunch of text files to the test archive','line_number':55,'multiline':False]['text':' Add a new file to the archive. Note this is an IN-PLACE operation, so if it fails your archive is probably hosed (its central directory may not be complete) but it should be recoverable using zip -F or -FF. So use caution with this guy.','line_number':61,'multiline':False]['text':' A more robust way to add a file to an archive would be to read it into memory, perform the operation, then write a new archive out to a temp file and then delete/rename the files.','line_number':62,'multiline':False]['text':' Or, write a new archive to disk to a temp file, then delete/rename the files. For this test this API is fine.','line_number':63,'multiline':False]['text':' Add a directory entry for testing','line_number':72,'multiline':False]['text':' Now try to open the archive.','line_number':80,'multiline':False]['text':' Get and print information about each file in the archive.','line_number':90,'multiline':False]['text':' Close the archive, freeing any resources it was using','line_number':114,'multiline':False]['text':' Now verify the compressed data','line_number':117,'multiline':False]['text':' Try to extract all the files to the heap.','line_number':133,'multiline':False]['text':' Make sure the extraction really succeeded.','line_number':142,'multiline':False]['text':' We're done.','line_number':154,'multiline':False]['text':' Close the archive, freeing any resources it was using','line_number':158,'multiline':False]