['text':'!/usr/bin/env python3','line_number':1,'multiline':False]['text':' parse arguments','line_number':28,'multiline':False]['text':' Filters that ignores cublas/cudnn errors','line_number':48,'multiline':False]['text':' TODO (@zasdfgbnm): When can we remove this? Will cublas/cudnn run error-free under cuda-memcheck?','line_number':49,'multiline':False]['text':' in case the simple parser fails parsing the output of cuda memcheck','line_number':54,'multiline':False]['text':' then this error is never ignored.','line_number':55,'multiline':False]['text':' Set environment PYTORCH_CUDA_MEMCHECK=1 to allow skipping some tests','line_number':63,'multiline':False]['text':' Discover tests:','line_number':66,'multiline':False]['text':' To get a list of tests, run:','line_number':67,'multiline':False]['text':' pytest --setup-only test/test_torch.py','line_number':68,'multiline':False]['text':' and then parse the output','line_number':69,'multiline':False]['text':' Do a simple filtering:','line_number':80,'multiline':False]['text':' if 'cpu' or 'CPU' is in the name and 'cuda' or 'CUDA' is not in the name, then skip it','line_number':81,'multiline':False]['text':' Split all tests into chunks, and only on the selected chunk','line_number':88,'multiline':False]['text':' Run tests:','line_number':95,'multiline':False]['text':' Since running cuda-memcheck on PyTorch unit tests is very slow, these tests must be run in parallel.','line_number':96,'multiline':False]['text':' This is done by using the coroutine feature in new Python versions.  A number of coroutines are created;','line_number':97,'multiline':False]['text':' they create subprocesses and awaiting them to finish. The number of running subprocesses could be','line_number':98,'multiline':False]['text':' specified by the user and by default is the same as the number of CPUs in the machine.','line_number':99,'multiline':False]['text':' These subprocesses are balanced across different GPUs on the system by assigning one devices per process,','line_number':100,'multiline':False]['text':' or as specified by the user','line_number':101,'multiline':False]['text':' create a fake progress bar that does not display anything','line_number':109,'multiline':False]