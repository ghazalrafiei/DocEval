['text':' a generic function to set constants for parameters so we have fixed result','line_number':11,'multiline':False]['text':' for deterministic test','line_number':12,'multiline':False]['text':' a generic function to provide consistent encoder/decoder layer for all the','line_number':24,'multiline':False]['text':' transformer tests','line_number':25,'multiline':False]['text':' activation is always ReLU here and it can be adjusted later depending on','line_number':35,'multiline':False]['text':' the usage','line_number':36,'multiline':False]['text':' set constant weights of the model','line_number':48,'multiline':False]['text':' this is a deterministic test for TransformerEncoderLayer','line_number':57,'multiline':False]['text':' relu test case 1','line_number':66,'multiline':False]['text':'equal_nan=','line_number':74,'multiline':True]['text':' all 0 values are NOT masked. This should't mask anything','line_number':76,'multiline':False]['text':'src_mask=','line_number':80,'multiline':True]['text':'src_key_padding_mask=','line_number':81,'multiline':True]['text':'equal_nan=','line_number':85,'multiline':True]['text':' all 1 values are masked. Since there is only 1 input embedding this will','line_number':87,'multiline':False]['text':' result in nan.','line_number':88,'multiline':False]['text':'src_mask=','line_number':92,'multiline':True]['text':'src_key_padding_mask=','line_number':93,'multiline':True]['text':' relu test case 2','line_number':97,'multiline':False]['text':'equal_nan=','line_number':107,'multiline':True]['text':' all 0 values are NOT masked','line_number':109,'multiline':False]['text':'src_mask=','line_number':113,'multiline':True]['text':'src_key_padding_mask=','line_number':114,'multiline':True]['text':'equal_nan=','line_number':118,'multiline':True]['text':' mask with 1 and 0','line_number':120,'multiline':False]['text':'src_mask=','line_number':124,'multiline':True]['text':'src_key_padding_mask=','line_number':125,'multiline':True]['text':'equal_nan=','line_number':133,'multiline':True]['text':' relu test case 3','line_number':135,'multiline':False]['text':'equal_nan=','line_number':158,'multiline':True]['text':' all 0 values are NOT masked','line_number':160,'multiline':False]['text':'src_mask=','line_number':164,'multiline':True]['text':'src_key_padding_mask=','line_number':165,'multiline':True]['text':'equal_nan=','line_number':169,'multiline':True]['text':' mask with 0s and 1s','line_number':171,'multiline':False]['text':'src_mask=','line_number':177,'multiline':True]['text':'src_key_padding_mask=','line_number':178,'multiline':True]['text':'equal_nan=','line_number':194,'multiline':True]['text':' gelu test case 1','line_number':196,'multiline':False]['text':'equal_nan=','line_number':204,'multiline':True]['text':' gelu test case 2','line_number':206,'multiline':False]['text':'equal_nan=','line_number':229,'multiline':True]['text':'is_cuda=','line_number':234,'multiline':True]['text':'use_callable_activation=','line_number':234,'multiline':True]['text':'is_cuda=','line_number':236,'multiline':True]['text':'use_callable_activation=','line_number':236,'multiline':True]['text':'is_cuda=','line_number':241,'multiline':True]['text':'use_callable_activation=','line_number':241,'multiline':True]['text':'is_cuda=','line_number':243,'multiline':True]['text':'use_callable_activation=','line_number':243,'multiline':True]['text':' deterministic input','line_number':257,'multiline':False]['text':'equal_nan=','line_number':271,'multiline':True]['text':' deterministic input','line_number':273,'multiline':False]['text':'equal_nan=','line_number':288,'multiline':True]['text':' deterministic input','line_number':290,'multiline':False]['text':'equal_nan=','line_number':306,'multiline':True]['text':' deterministic input','line_number':308,'multiline':False]['text':'equal_nan=','line_number':336,'multiline':True]['text':' key_padding_mask','line_number':338,'multiline':False]['text':'equal_nan=','line_number':358,'multiline':True]['text':' key_padding_mask','line_number':360,'multiline':False]['text':'equal_nan=','line_number':380,'multiline':True]['text':' memory_key_padding_mask','line_number':382,'multiline':False]['text':'equal_nan=','line_number':407,'multiline':True]['text':' memory_key_padding_mask','line_number':409,'multiline':False]['text':'equal_nan=','line_number':435,'multiline':True]['text':'is_cuda=','line_number':440,'multiline':True]['text':'use_callable_activation=','line_number':440,'multiline':True]['text':'is_cuda=','line_number':442,'multiline':True]['text':'use_callable_activation=','line_number':442,'multiline':True]['text':'is_cuda=','line_number':447,'multiline':True]['text':'use_callable_activation=','line_number':447,'multiline':True]['text':'is_cuda=','line_number':449,'multiline':True]['text':'use_callable_activation=','line_number':449,'multiline':True]['text':' deterministic input','line_number':469,'multiline':False]['text':'equal_nan=','line_number':483,'multiline':True]['text':' deterministic input','line_number':485,'multiline':False]['text':'equal_nan=','line_number':500,'multiline':True]['text':' deterministic input','line_number':502,'multiline':False]['text':'equal_nan=','line_number':518,'multiline':True]['text':' deterministic input','line_number':520,'multiline':False]['text':'equal_nan=','line_number':548,'multiline':True]['text':'is_cuda=','line_number':553,'multiline':True]['text':'use_callable_activation=','line_number':553,'multiline':True]['text':'is_cuda=','line_number':555,'multiline':True]['text':'use_callable_activation=','line_number':555,'multiline':True]['text':'is_cuda=','line_number':560,'multiline':True]['text':'use_callable_activation=','line_number':560,'multiline':True]['text':'is_cuda=','line_number':562,'multiline':True]['text':'use_callable_activation=','line_number':562,'multiline':True]['text':' this is a deterministic test for TransformerEncoderLayer','line_number':568,'multiline':False]['text':'equal_nan=','line_number':604,'multiline':True]['text':' all 0 values are NOT masked','line_number':606,'multiline':False]['text':'src_mask=','line_number':610,'multiline':True]['text':'src_key_padding_mask=','line_number':611,'multiline':True]['text':'equal_nan=','line_number':615,'multiline':True]['text':' mask with 0s and 1s','line_number':617,'multiline':False]['text':'src_mask=','line_number':623,'multiline':True]['text':'src_key_padding_mask=','line_number':624,'multiline':True]['text':'equal_nan=','line_number':640,'multiline':True]['text':' test case 2, multiple layers no norm','line_number':642,'multiline':False]['text':'src_mask=','line_number':649,'multiline':True]['text':'src_key_padding_mask=','line_number':650,'multiline':True]['text':'equal_nan=','line_number':666,'multiline':True]['text':'src_mask=','line_number':674,'multiline':True]['text':'src_key_padding_mask=','line_number':675,'multiline':True]['text':'equal_nan=','line_number':691,'multiline':True]['text':' test case 3, multiple layers with norm','line_number':693,'multiline':False]['text':'src_mask=','line_number':702,'multiline':True]['text':'src_key_padding_mask=','line_number':703,'multiline':True]['text':'equal_nan=','line_number':719,'multiline':True]['text':'src_mask=','line_number':728,'multiline':True]['text':'src_key_padding_mask=','line_number':729,'multiline':True]['text':'equal_nan=','line_number':745,'multiline':True]['text':'is_cuda=','line_number':750,'multiline':True]['text':'use_callable_activation=','line_number':750,'multiline':True]['text':'is_cuda=','line_number':752,'multiline':True]['text':'use_callable_activation=','line_number':752,'multiline':True]['text':'is_cuda=','line_number':757,'multiline':True]['text':'use_callable_activation=','line_number':757,'multiline':True]['text':'is_cuda=','line_number':759,'multiline':True]['text':'use_callable_activation=','line_number':759,'multiline':True]['text':' this is a deterministic test for TransformerDecoder','line_number':842,'multiline':False]['text':'equal_nan=','line_number':869,'multiline':True]['text':' deterministic input','line_number':871,'multiline':False]['text':'equal_nan=','line_number':886,'multiline':True]['text':' deterministic input','line_number':888,'multiline':False]['text':'equal_nan=','line_number':904,'multiline':True]['text':' deterministic input','line_number':906,'multiline':False]['text':'equal_nan=','line_number':934,'multiline':True]['text':' key_padding_mask','line_number':936,'multiline':False]['text':'equal_nan=','line_number':956,'multiline':True]['text':' key_padding_mask','line_number':958,'multiline':False]['text':'equal_nan=','line_number':978,'multiline':True]['text':' memory_key_padding_mask','line_number':980,'multiline':False]['text':'equal_nan=','line_number':1005,'multiline':True]['text':' memory_key_padding_mask','line_number':1007,'multiline':False]['text':'equal_nan=','line_number':1033,'multiline':True]['text':' multiple layers no norm','line_number':1035,'multiline':False]['text':'equal_nan=','line_number':1052,'multiline':True]['text':' multiple layers no norm','line_number':1054,'multiline':False]['text':' deterministic input','line_number':1059,'multiline':False]['text':'equal_nan=','line_number':1087,'multiline':True]['text':' multiple layers with norm','line_number':1089,'multiline':False]['text':'equal_nan=','line_number':1108,'multiline':True]['text':' multiple layers with norm','line_number':1110,'multiline':False]['text':' deterministic input','line_number':1116,'multiline':False]['text':'equal_nan=','line_number':1144,'multiline':True]['text':' gelu activation test cases','line_number':1146,'multiline':False]['text':' deterministic input','line_number':1153,'multiline':False]['text':'equal_nan=','line_number':1165,'multiline':True]['text':' deterministic input','line_number':1167,'multiline':False]['text':'equal_nan=','line_number':1182,'multiline':True]['text':' deterministic input','line_number':1184,'multiline':False]['text':'equal_nan=','line_number':1200,'multiline':True]['text':' deterministic input','line_number':1202,'multiline':False]['text':'equal_nan=','line_number':1230,'multiline':True]['text':' Multiple layers no norm','line_number':1232,'multiline':False]['text':'equal_nan=','line_number':1264,'multiline':True]['text':' Multiple layers with norm','line_number':1266,'multiline':False]['text':'equal_nan=','line_number':1301,'multiline':True]['text':'is_cuda=','line_number':1306,'multiline':True]['text':'use_callable_activation=','line_number':1306,'multiline':True]['text':'is_cuda=','line_number':1308,'multiline':True]['text':'use_callable_activation=','line_number':1308,'multiline':True]['text':'is_cuda=','line_number':1313,'multiline':True]['text':'use_callable_activation=','line_number':1313,'multiline':True]['text':'is_cuda=','line_number':1315,'multiline':True]['text':'use_callable_activation=','line_number':1315,'multiline':True]['text':' this is a deterministic test for Transformere','line_number':1367,'multiline':False]['text':' transformer created encoder/decoder','line_number':1372,'multiline':False]['text':' transformer with customized encoder/decoder','line_number':1392,'multiline':False]['text':' test cases','line_number':1418,'multiline':False]['text':'equal_nan=','line_number':1441,'multiline':True]['text':'equal_nan=','line_number':1457,'multiline':True]['text':'equal_nan=','line_number':1488,'multiline':True]['text':'is_cuda=','line_number':1492,'multiline':True]['text':'use_callable_activation=','line_number':1492,'multiline':True]['text':'is_cuda=','line_number':1493,'multiline':True]['text':'use_callable_activation=','line_number':1493,'multiline':True]['text':'is_cuda=','line_number':1497,'multiline':True]['text':'use_callable_activation=','line_number':1497,'multiline':True]['text':'is_cuda=','line_number':1498,'multiline':True]['text':'use_callable_activation=','line_number':1498,'multiline':True]