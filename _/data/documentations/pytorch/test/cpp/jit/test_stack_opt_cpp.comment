['text':' After replacing `aten::stack` with `prim::VarStack` we should have the','line_number':45,'multiline':False]['text':' following graph:','line_number':46,'multiline':False]['text':'','line_number':47,'multiline':False]['text':'  graph(%0 : ...,','line_number':48,'multiline':False]['text':'        %1 : ...):','line_number':49,'multiline':False]['text':'    %zero : int = prim:Constant[value=0]()','line_number':50,'multiline':False]['text':'    %varstack : Tensor = prim::VarStack(%0, %1, %2, %3, %4, %5, %zero)','line_number':51,'multiline':False]['text':'    return (%varstack)','line_number':52,'multiline':False]['text':'exactly','line_number':54,'multiline':True]['text':'exactly','line_number':55,'multiline':True]['text':'exactly','line_number':56,'multiline':True]['text':' After full stack optimization we should have the following graph:','line_number':90,'multiline':False]['text':'','line_number':91,'multiline':False]['text':'  graph(%0 : ...,','line_number':92,'multiline':False]['text':'        %1 : ...,','line_number':93,'multiline':False]['text':'        %2 : ...,','line_number':94,'multiline':False]['text':'        %3 : ....):','line_number':95,'multiline':False]['text':'    %zero : int = prim:Constant[value=0]()','line_number':96,'multiline':False]['text':'    %varcat1 : Tensor = prim::VarStack(%0, %1, %zero)','line_number':97,'multiline':False]['text':'    %varcat2 : Tensor = prim::VarStack(%2, %3, %zero)','line_number':98,'multiline':False]['text':'    return (%varcat1, %varcat2)','line_number':99,'multiline':False]['text':'exactly','line_number':101,'multiline':True]['text':'exactly','line_number':102,'multiline':True]['text':'exactly','line_number':103,'multiline':True]['text':' After replacing `aten::stack` with `prim::VarStack` we should have the','line_number':130,'multiline':False]['text':' following graph:','line_number':131,'multiline':False]['text':'','line_number':132,'multiline':False]['text':'  graph(%0 : ...,','line_number':133,'multiline':False]['text':'        %1 : ...):','line_number':134,'multiline':False]['text':'    %zero : int = prim:Constant[value=0]()','line_number':135,'multiline':False]['text':'    %input : Tensor[] = prim::ListConstruct(%0, %1)','line_number':136,'multiline':False]['text':'    %varcat : Tensor = prim::VarStack(%0, %1, %zero)','line_number':137,'multiline':False]['text':'    return (%varcat, %input)','line_number':138,'multiline':False]['text':'exactly','line_number':140,'multiline':True]['text':'exactly','line_number':141,'multiline':True]['text':'exactly','line_number':142,'multiline':True]['text':' The input list to `aten::stack` is mutated only after `aten::stack` op. So,','line_number':172,'multiline':False]['text':' it should have been replaced with `prim::VarStack`. The transformed graph','line_number':173,'multiline':False]['text':' should look like the following:','line_number':174,'multiline':False]['text':'','line_number':175,'multiline':False]['text':'  graph(%0 : ...,','line_number':176,'multiline':False]['text':'        %1 : ...,','line_number':177,'multiline':False]['text':'        %2 : ...):','line_number':178,'multiline':False]['text':'    %3 : int = prim:Constant[value=0]()','line_number':179,'multiline':False]['text':'    %4 : Tensor[] = prim::ListConstruct(%0, %1)','line_number':180,'multiline':False]['text':'    %7 : Tensor = prim::VarStack(%0, %1, %3)','line_number':181,'multiline':False]['text':'    %6 : Tensor = aten::append(%4, %2)','line_number':182,'multiline':False]['text':'    return (%7, %4)','line_number':183,'multiline':False]['text':'exactly','line_number':185,'multiline':True]['text':'exactly','line_number':186,'multiline':True]['text':'exactly','line_number':187,'multiline':True]['text':' No transformation should have happened since the `prim::ListConstruct` is','line_number':218,'multiline':False]['text':' mutated before `aten::stack`.','line_number':219,'multiline':False]['text':'exactly','line_number':221,'multiline':True]['text':'exactly','line_number':222,'multiline':True]['text':'exactly','line_number':223,'multiline':True]['text':' The mutation of the list must be removed and the `aten::stack` op must','line_number':233,'multiline':False]['text':' be replaced with the `prim::VarStack` op in the graph. The transformed','line_number':234,'multiline':False]['text':' graph should look like the following:','line_number':235,'multiline':False]['text':'','line_number':236,'multiline':False]['text':'  graph(%0 : ...,','line_number':237,'multiline':False]['text':'        %1 : ...,','line_number':238,'multiline':False]['text':'        %2 : ...):','line_number':239,'multiline':False]['text':'    %3 : int = prim:Constant[value=0]()','line_number':240,'multiline':False]['text':'    %7 : Tensor = prim::VarStack(%0, %1, %2, %3)','line_number':241,'multiline':False]['text':'    return (%7)','line_number':242,'multiline':False]['text':'exactly','line_number':244,'multiline':True]['text':'exactly','line_number':245,'multiline':True]['text':'exactly','line_number':246,'multiline':True]['text':' All the mutations of the list must be removed and the `aten::stack` ops','line_number':286,'multiline':False]['text':' must be replaced with `prim::VarStack` ops in the graph. The transformed','line_number':287,'multiline':False]['text':' graph should look like the following:','line_number':288,'multiline':False]['text':'','line_number':289,'multiline':False]['text':'  graph(%0 : ...,','line_number':290,'multiline':False]['text':'        %1 : ...,','line_number':291,'multiline':False]['text':'        %2 : ...,','line_number':292,'multiline':False]['text':'        %3 : ...,','line_number':293,'multiline':False]['text':'        %4 : ...):','line_number':294,'multiline':False]['text':'    %10 : int = prim:Constant[value=0]()','line_number':295,'multiline':False]['text':'    %5 : Tensor = prim::VarStack(%0, %1, %10)','line_number':296,'multiline':False]['text':'    %6 : Tensor = prim::VarStack(%0, %1, %2, %10)','line_number':297,'multiline':False]['text':'    %7 : Tensor = prim::VarStack(%0, %1, %2, %3, %10)','line_number':298,'multiline':False]['text':'    %8 : Tensor = prim::VarStack(%0, %1, %2, %3, %4, %10)','line_number':299,'multiline':False]['text':'    return (%5, %6, %7, %8)','line_number':300,'multiline':False]['text':'exactly','line_number':302,'multiline':True]['text':'exactly','line_number':303,'multiline':True]['text':'exactly','line_number':304,'multiline':True]['text':' namespace jit','line_number':308,'multiline':False]['text':' namespace torch','line_number':309,'multiline':False]