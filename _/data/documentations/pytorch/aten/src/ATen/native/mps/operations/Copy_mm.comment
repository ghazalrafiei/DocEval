['text':'  Copyright Â© 2022 Apple Inc.','line_number':1,'multiline':False]['text':' Copy sourceBuffer into destBuffer, casting sourceBuffer to dst.scalar_type().','line_number':25,'multiline':False]['text':' The shapes and dtypes are taken from dst and src, but their storage pointers are not used.','line_number':26,'multiline':False]['text':' 4 bytes alignment required on macos for blits.','line_number':106,'multiline':False]['text':' Return the casted tensor directly if there's no destination offset','line_number':118,'multiline':False]['text':' In case of dtype change, first convert src inplace','line_number':128,'multiline':False]['text':' If there's anything wrong with source, we shouldn't return dst_ silently and must error out.','line_number':136,'multiline':False]['text':' Copies tensor from cpu to mps backed by identical strided-contiguous data','line_number':153,'multiline':False]['text':' Typecast to dst_ if needed and expand, which is a no-op','line_number':187,'multiline':False]['text':' If src is not densely mapped in storage it must be cloned','line_number':190,'multiline':False]['text':' It does not mean that tensor is contiguous, but rather','line_number':191,'multiline':False]['text':' that it could be represented as 1d view','line_number':192,'multiline':False]['text':' If src and dst_ strides do not match, it means that','line_number':199,'multiline':False]['text':' either dst_ is not representable as 1d view or its stride order is different','line_number':200,'multiline':False]['text':' in that case create an empty storage like src, copy it to device and then do','line_number':201,'multiline':False]['text':' reshaping on the device','line_number':202,'multiline':False]['text':' we don't have tensors info for profiling here','line_number':212,'multiline':False]['text':' If dst is contiguous and there is no byte offset, we can save directly the result of','line_number':224,'multiline':False]['text':' gather into dst. This reduces the overhead of doing an additional blit for most cases','line_number':225,'multiline':False]['text':' the copy_cast path requires storage_offset to be applied before casting','line_number':233,'multiline':False]['text':' Scatter to `dst` if the memory is not contiguous','line_number':254,'multiline':False]['text':' If the memory is not contiguous, it means that the tensor has strides and we would not be','line_number':255,'multiline':False]['text':' able to do the copy using a single blit','line_number':256,'multiline':False]['text':' for GPU to GPU copies we only encode to stream's command buffer (no flushing)','line_number':266,'multiline':False]['text':' namespace mps','line_number':324,'multiline':False]['text':' namespace at::native','line_number':334,'multiline':False]