['text':'!/bin/bash','line_number':1,'multiline':False]['text':'#############################################################################','line_number':4,'multiline':False]['text':' Master script to build PyTorch Android library with Java bindings.','line_number':5,'multiline':False]['text':'#############################################################################','line_number':6,'multiline':False]['text':' Example usage:','line_number':7,'multiline':False]['text':' - Build default AARs:','line_number':8,'multiline':False]['text':'   scripts/build_pytorch_android.sh','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' - Build for specific ABI(s):','line_number':11,'multiline':False]['text':'   scripts/build_pytorch_android.sh armeabi-v7a','line_number':12,'multiline':False]['text':'   scripts/build_pytorch_android.sh arm64-v8a,x86,x86_64','line_number':13,'multiline':False]['text':'','line_number':14,'multiline':False]['text':' Script's workflow:','line_number':15,'multiline':False]['text':' 1. Builds libtorch for android for specified android abisi (by default for all 4).','line_number':16,'multiline':False]['text':' Custom list of android abis can be specified as a bash argument as comma separated list.','line_number':17,'multiline':False]['text':' For example just for testing on android x86 emulator we need only x86 build.','line_number':18,'multiline':False]['text':' ./scripts/build_pytorch_android.sh x86','line_number':19,'multiline':False]['text':' 2. Creates symbolic links to android/pytorch_android/src/main/jniLibs/${abi} for libtorch build output,','line_number':20,'multiline':False]['text':' android/pytorch_android/src/main/cpp/libtorch_include/${abi} for headers.','line_number':21,'multiline':False]['text':' 3. Runs pyotrch_android gradle build:','line_number':22,'multiline':False]['text':' gradle assembleRelease','line_number':23,'multiline':False]['text':' To set proxy for gradle add following lines to ./gradle/gradle.properties:','line_number':37,'multiline':False]['text':' systemProp.http.proxyHost=...','line_number':38,'multiline':False]['text':' systemProp.http.proxyPort=8080','line_number':39,'multiline':False]['text':' systemProp.https.proxyHost=...','line_number':40,'multiline':False]['text':' systemProp.https.proxyPort=8080','line_number':41,'multiline':False]['text':' Skipping clean task here as android gradle plugin 3.3.2 exteralNativeBuild has problems','line_number':44,'multiline':False]['text':' with it when abiFilters are specified.','line_number':45,'multiline':False]