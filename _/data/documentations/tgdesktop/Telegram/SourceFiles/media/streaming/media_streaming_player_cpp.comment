['text':'
This file is part of Telegram Desktop,
the official desktop application for the Telegram messaging service.

For license and copyright information please follow this link:
https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
','line_number':1,'multiline':True]['text':' for SupportsSpeedControl()','line_number':14,'multiline':False]['text':' for DocumentData::duration()','line_number':16,'multiline':False]['text':' 1000 ms per second.','line_number':25,'multiline':False]['text':' If we played for 3 seconds and got stuck it looks like we're loading','line_number':27,'multiline':False]['text':' slower than we're playing, so load full file in that case.','line_number':28,'multiline':False]['text':'constexpr auto kLoadFullIfStuckAfterPlayback = 3 * crl::time(1000);','line_number':29,'multiline':False]['text':' namespace','line_number':82,'multiline':False]['text':'for (const auto &packet : list) {','line_number':362,'multiline':False]['text':'	// Maybe it is enough to count by list.back()?.. hope so.','line_number':363,'multiline':False]['text':'	accumulate_max(','line_number':364,'multiline':False]['text':'		_durationByLastAudioPacket,','line_number':365,'multiline':False]['text':'		durationByPacket(*_audio, packet));','line_number':366,'multiline':False]['text':'}','line_number':367,'multiline':False]['text':'for (const auto &packet : list) {','line_number':382,'multiline':False]['text':'	// Maybe it is enough to count by list.back()?.. hope so.','line_number':383,'multiline':False]['text':'	accumulate_max(','line_number':384,'multiline':False]['text':'		_durationByLastVideoPacket,','line_number':385,'multiline':False]['text':'		durationByPacket(*_video, packet));','line_number':386,'multiline':False]['text':'}','line_number':387,'multiline':False]['text':' Free non-needed packets.','line_number':402,'multiline':False]['text':' We've set this value on the first cycle.','line_number':462,'multiline':False]['text':' Not ready yet.','line_number':497,'multiline':False]['text':' Audio was stopped before it was ready.','line_number':506,'multiline':False]['text':' Don't keep the reference to the video cover.','line_number':510,'multiline':False]['text':' Looping video with audio is not supported for now.','line_number':534,'multiline':False]['text':' Save previous 'receivedTill' values if we seek inside the range.','line_number':562,'multiline':False]['text':' We looped, so it already holds full stream duration.','line_number':591,'multiline':False]['text':' We looped, so it already holds full stream duration.','line_number':605,'multiline':False]['text':' Audio is ready.','line_number':635,'multiline':False]['text':'if (_pausedByWaitingForData','line_number':660,'multiline':False]['text':'	&& _pausedTime - _startedTime > kLoadFullIfStuckAfterPlayback) {','line_number':661,'multiline':False]['text':'	_loadFull = true;','line_number':662,'multiline':False]['text':'}','line_number':663,'multiline':False]['text':' The order of field destruction is important.','line_number':1008,'multiline':False]['text':'','line_number':1009,'multiline':False]['text':' We are forced to maintain the correct order in the stop() method,','line_number':1010,'multiline':False]['text':' because it can be called even before the player destruction.','line_number':1011,'multiline':False]['text':'','line_number':1012,'multiline':False]['text':' So instead of maintaining it in the class definition as well we','line_number':1013,'multiline':False]['text':' simply call stop() here, after that the destruction is trivial.','line_number':1014,'multiline':False]['text':' namespace Streaming','line_number':1018,'multiline':False]['text':' namespace Media','line_number':1019,'multiline':False]