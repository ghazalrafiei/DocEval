['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]['text':'*
 * This module contains utility functions related to the environment, cwd and paths.
 ','line_number':6,'multiline':True]['text':' On Windows apply the new values ignoring case, while still retaining','line_number':27,'multiline':False]['text':' the case of the original key.','line_number':28,'multiline':False]['text':' 'off'','line_number':106,'multiline':False]['text':' Fallback to en_US if the locale is unknown','line_number':113,'multiline':False]['text':' The local may only contain the language, not the variant, if this is the case guess the','line_number':117,'multiline':False]['text':' variant such that it can be used as a valid $LANG variable. The language variant chosen','line_number':118,'multiline':False]['text':' is the original and/or most prominent with help from','line_number':119,'multiline':False]['text':' https://stackoverflow.com/a/2502675/1156119','line_number':120,'multiline':False]['text':' The list of locales was generated by running `locale -a` on macOS','line_number':121,'multiline':False]['text':' de: 'AT',','line_number':130,'multiline':False]['text':' de: 'CH',','line_number':131,'multiline':False]['text':' en: 'AU',','line_number':134,'multiline':False]['text':' en: 'CA',','line_number':135,'multiline':False]['text':' en: 'GB',','line_number':136,'multiline':False]['text':' en: 'IE',','line_number':137,'multiline':False]['text':' en: 'NZ',','line_number':138,'multiline':False]['text':' fr: 'BE',','line_number':144,'multiline':False]['text':' fr: 'CA',','line_number':145,'multiline':False]['text':' fr: 'CH',','line_number':146,'multiline':False]['text':' it: 'CH',','line_number':153,'multiline':False]['text':' nl: 'BE',','line_number':159,'multiline':False]['text':' pt: 'PT',','line_number':164,'multiline':False]['text':' Ensure the variant is uppercase to be a valid $LANG','line_number':179,'multiline':False]['text':' If there was no custom cwd or it was relative with no workspace','line_number':214,'multiline':False]['text':' Create a terminal environment based on settings, launch config and permissions','line_number':251,'multiline':False]['text':' strictEnv is true, only use the requested env (ignoring null entries)','line_number':254,'multiline':False]['text':' Merge process env with the env from config and from shellLaunchConfig','line_number':257,'multiline':False]['text':' Resolve env vars from config and shell','line_number':262,'multiline':False]['text':' Sanitize the environment, removing any undesirable VS Code and Electron environment','line_number':272,'multiline':False]['text':' variables','line_number':273,'multiline':False]['text':' Merge config (settings) and ShellLaunchConfig environments','line_number':276,'multiline':False]['text':' Adding other env keys necessary to create the process','line_number':280,'multiline':False]['text':'*
 * Takes a path and returns the properly escaped path to send to a given shell. On Windows, this
 * included trying to prepare the path for WSL if needed.
 *
 * @param originalPath The path to be escaped and formatted.
 * @param executable The executable off the shellLaunchConfig.
 * @param title The terminal's title.
 * @param shellType The type of shell the path is being sent to.
 * @param backend The backend for the terminal.
 * @param isWindowsFrontend Whether the frontend is Windows, this is only exposed for injection via
 * tests.
 * @returns An escaped version of the path to be execuded in the terminal.
 ','line_number':286,'multiline':True]['text':' Apply backend OS-specific formatting to the path since URI.fsPath uses the frontend's OS','line_number':305,'multiline':False]['text':'g, '\\');','line_number':309,'multiline':False]['text':' fallback to last active workspace if cwd is not available or it is not in workspace','line_number':366,'multiline':False]['text':' TOOD: last active workspace is known to be unreliable, we should remove this fallback eventually','line_number':367,'multiline':False]