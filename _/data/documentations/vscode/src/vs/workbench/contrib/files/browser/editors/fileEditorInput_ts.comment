['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]['text':'*
 * A file editor input is the input type for the file editor of file system resources.
 ','line_number':35,'multiline':True]['text':' Attach to model that matches our resource once created','line_number':127,'multiline':False]['text':' If a file model already exists, make sure to wire it in','line_number':130,'multiline':False]['text':' Once the text file model is created, we keep it inside','line_number':138,'multiline':False]['text':' the input to be able to implement some methods properly','line_number':139,'multiline':False]['text':' Clear any old','line_number':149,'multiline':False]['text':' re-emit some events from the model','line_number':152,'multiline':False]['text':' important: treat save errors as potential dirty change because','line_number':156,'multiline':False]['text':' a file that is in save conflict or error will report dirty even','line_number':157,'multiline':False]['text':' if auto save is turned on.','line_number':158,'multiline':False]['text':' remove model association once it gets disposed','line_number':161,'multiline':False]['text':' block for specific schemes we consider to be owning','line_number':174,'multiline':False]['text':' block for specific schemes we consider to be owning','line_number':205,'multiline':False]['text':' encoding is a good hint to open the file as text','line_number':263,'multiline':False]['text':' languages are a good hint to open the file as text','line_number':288,'multiline':False]['text':' contents is a good hint to open the file as text','line_number':295,'multiline':False]['text':' require the model to be dirty and not in conflict or error state','line_number':313,'multiline':False]['text':' Note: currently not checking for ModelState.PENDING_SAVE for a reason','line_number':316,'multiline':False]['text':' because we currently miss an event for this state change on editors','line_number':317,'multiline':False]['text':' and it could result in bad UX where an editor can be closed even though','line_number':318,'multiline':False]['text':' it shows up as dirty and has not finished saving yet.','line_number':319,'multiline':False]['text':' a short auto save is configured, treat this as being saved','line_number':322,'multiline':False]['text':' Resolve as binary','line_number':338,'multiline':False]['text':' Resolve as text','line_number':343,'multiline':False]['text':' Unset preferred contents after having applied it once','line_number':350,'multiline':False]['text':' to prevent this property to stick. We still want future','line_number':351,'multiline':False]['text':' `resolve` calls to fetch the contents from disk.','line_number':352,'multiline':False]['text':' Resolve resource via text file service and only allow','line_number':356,'multiline':False]['text':' to open binary files if we are instructed so','line_number':357,'multiline':False]['text':' trigger a reload of the model if it exists already but do not wait to show the model','line_number':362,'multiline':False]['text':' This is a bit ugly, because we first resolve the model and then resolve a model reference. the reason being that binary','line_number':368,'multiline':False]['text':' or very large files do not resolve to a text file model but should be opened as binary files without text. First calling into','line_number':369,'multiline':False]['text':' resolve() ensures we are not creating model references for these kind of resources.','line_number':370,'multiline':False]['text':' In addition we have a bit of payload to take into account (encoding, reload) that the text resolver does not handle yet.','line_number':371,'multiline':False]['text':' It is possible that this input was disposed before the model','line_number':378,'multiline':False]['text':' finished resolving. As such, we need to make sure to dispose','line_number':379,'multiline':False]['text':' the model reference to not leak it.','line_number':380,'multiline':False]['text':' Handle binary files with binary model','line_number':388,'multiline':False]['text':' Bubble any other error up','line_number':393,'multiline':False]['text':' only if dirty and not too large','line_number':436,'multiline':False]['text':' Model','line_number':469,'multiline':False]['text':' Model reference','line_number':472,'multiline':False]