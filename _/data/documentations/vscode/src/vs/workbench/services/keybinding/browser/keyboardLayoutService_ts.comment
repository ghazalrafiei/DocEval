['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]['text':' keyboard mapper','line_number':35,'multiline':False]['text':' keymap infos','line_number':41,'multiline':False]['text':' private _notificationService: INotificationService,','line_number':76,'multiline':False]['text':' private _storageService: IStorageService,','line_number':77,'multiline':False]['text':' private _commandService: ICommandService','line_number':78,'multiline':False]['text':' Update user keyboard map settings','line_number':89,'multiline':False]['text':' let score = matchedKeyboardLayout.score;','line_number':192,'multiline':False]['text':' Due to https://bugs.chromium.org/p/chromium/issues/detail?id=977609, any key after a dead key will generate a wrong mapping,','line_number':194,'multiline':False]['text':' we shoud avoid yielding the false error.','line_number':195,'multiline':False]['text':' if (keymap && score < 0) {','line_number':196,'multiline':False]['text':' const donotAskUpdateKey = 'missing.keyboardlayout.donotask';','line_number':197,'multiline':False]['text':' if (this._storageService.getBoolean(donotAskUpdateKey, StorageScope.APPLICATION)) {','line_number':198,'multiline':False]['text':' 	return;','line_number':199,'multiline':False]['text':' }','line_number':200,'multiline':False]['text':' the keyboard layout doesn't actually match the key event or the keymap from chromium','line_number':202,'multiline':False]['text':' this._notificationService.prompt(','line_number':203,'multiline':False]['text':' 	Severity.Info,','line_number':204,'multiline':False]['text':' 	nls.localize('missing.keyboardlayout', 'Fail to find matching keyboard layout'),','line_number':205,'multiline':False]['text':' 	[{','line_number':206,'multiline':False]['text':' 		label: nls.localize('keyboardLayoutMissing.configure', "Configure"),','line_number':207,'multiline':False]['text':' 		run: () => this._commandService.executeCommand('workbench.action.openKeyboardLayoutPicker')','line_number':208,'multiline':False]['text':' 	}, {','line_number':209,'multiline':False]['text':' 		label: nls.localize('neverAgain', "Don't Show Again"),','line_number':210,'multiline':False]['text':' 		isSecondary: true,','line_number':211,'multiline':False]['text':' 		run: () => this._storageService.store(donotAskUpdateKey, true, StorageScope.APPLICATION)','line_number':212,'multiline':False]['text':' 	}]','line_number':213,'multiline':False]['text':' );','line_number':214,'multiline':False]['text':' console.warn('Active keymap/keyevent does not match current keyboard layout', JSON.stringify(keymap), this._activeKeymapInfo ? JSON.stringify(this._activeKeymapInfo.layout) : '');','line_number':216,'multiline':False]['text':' return;','line_number':218,'multiline':False]['text':' }','line_number':219,'multiline':False]['text':' might be false positive','line_number':274,'multiline':False]['text':' Forcefully set to use keyCode','line_number':285,'multiline':False]['text':' Looks like reading the mappings failed (most likely Mac + Japanese/Chinese keyboard layouts)','line_number':330,'multiline':False]['text':'#region Browser API','line_number':337,'multiline':False]['text':' The value is empty when the key is not a printable character, we skip validation.','line_number':360,'multiline':False]['text':' TODO, this assumption is wrong as `browserEvent.key` doesn't necessarily equal expectedValue from real keymap','line_number':388,'multiline':False]['text':' const matchedKeyboardLayout = this.getMatchedKeymapInfo(ret);','line_number':412,'multiline':False]['text':' if (matchedKeyboardLayout) {','line_number':414,'multiline':False]['text':' 	return matchedKeyboardLayout.result.mapping;','line_number':415,'multiline':False]['text':' }','line_number':416,'multiline':False]['text':' return null;','line_number':418,'multiline':False]['text':' getLayoutMap can throw if invoked from a nested browsing context','line_number':421,'multiline':False]['text':'#endregion','line_number':445,'multiline':False]['text':' super(notificationService, storageService, commandService);','line_number':450,'multiline':False]['text':' set keyboard layout','line_number':546,'multiline':False]['text':' Configuration','line_number':633,'multiline':False]