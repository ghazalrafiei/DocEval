['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]['text':' Error cases','line_number':198,'multiline':False]['text':' Check if the sessions we have are valid','line_number':209,'multiline':False]['text':' Clearing the session preference is usually paired with createIfNone, so just remove the preference and','line_number':213,'multiline':False]['text':' defer to the rest of the logic in this function to choose the session.','line_number':214,'multiline':False]['text':' If we have an existing session preference, use that. If not, we'll return any valid session at the end of this function.','line_number':217,'multiline':False]['text':' We may need to prompt because we don't have a valid session','line_number':231,'multiline':False]['text':' modal flows','line_number':232,'multiline':False]['text':' We only want to show the "recreating session" prompt if we are using forceNewSession & there are sessions','line_number':237,'multiline':False]['text':' that we will be "forcing through".','line_number':238,'multiline':False]['text':' For the silent flows, if we have a session, even though it may not be the user's preference, we'll return it anyway because it might be for a specific','line_number':266,'multiline':False]['text':' set of scopes.','line_number':267,'multiline':False]['text':' Migration. If we have a valid session, but no preference, we'll set the preference to the valid session.','line_number':270,'multiline':False]['text':' TODO: Remove this after in a few releases.','line_number':271,'multiline':False]['text':' passive flows (silent or default)','line_number':282,'multiline':False]['text':' If there is a potential session, but the extension doesn't have access to it, use the "grant access" flow,','line_number':284,'multiline':False]['text':' otherwise request a new one.','line_number':285,'multiline':False]