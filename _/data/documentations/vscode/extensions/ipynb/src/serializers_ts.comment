['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]['text':'*
 * Sort the JSON to minimize unnecessary SCM changes.
 * Jupyter notbeooks/labs sorts the JSON keys in alphabetical order.
 * https://github.com/microsoft/vscode-python/issues/13155
 ','line_number':35,'multiline':True]['text':' it contains the cell id, and the cell metadata, along with other nb cell metadata','line_number':59,'multiline':False]['text':' promote the cell attachments to the top level','line_number':61,'multiline':False]['text':' This cannot be empty.','line_number':68,'multiline':False]['text':' cell current language is the same as the preferred cell language in the document, flush the vscode custom language id metadata','line_number':77,'multiline':False]['text':' This cannot be empty.','line_number':99,'multiline':False]['text':' Each line should be a separate entry, but end with a \n if not last entry','line_number':116,'multiline':False]['text':' Skip last one if empty (it's the only one that could be length 0)','line_number':125,'multiline':False]['text':' Possible some other extension added some output (do best effort to translate & save in ipynb).','line_number':133,'multiline':False]['text':' In which case metadata might not contain `outputType`.','line_number':134,'multiline':False]['text':' This can never be undefined.','line_number':152,'multiline':False]['text':' This can never be undefined.','line_number':163,'multiline':False]['text':' This can never be undefined, only a number or `null`.','line_number':165,'multiline':False]['text':' This can never be undefined.','line_number':176,'multiline':False]['text':' In the case of .NET & other kernels, we need to ensure we save ipynb correctly.','line_number':191,'multiline':False]['text':' Hence if we have stream output, save the output as Jupyter `stream` else `display_data`','line_number':192,'multiline':False]['text':' Unless we already know its an unknown output type.','line_number':193,'multiline':False]['text':' If saving as `stream` ensure the mandatory properties are set.','line_number':198,'multiline':False]['text':' If saving as `display_data` ensure the mandatory properties are set.','line_number':201,'multiline':False]['text':' Account for transient data as well','line_number':227,'multiline':False]['text':' `transient.display_id` is used to update cell output in other cells, at least thats one use case we know of.','line_number':228,'multiline':False]['text':' it should have at least one output item','line_number':236,'multiline':False]['text':' Bug in VS Code.','line_number':238,'multiline':False]['text':' VS Code needs an `Error` object which requires a `stack` property as a string.','line_number':253,'multiline':False]['text':' Its possible the format could change when converting from `traceback` to `string` and back again to `string`','line_number':254,'multiline':False]['text':' When .NET stores errors in output (with their .NET kernel),','line_number':255,'multiline':False]['text':' stack is empty, hence store the message instead of stack (so that somethign gets displayed in ipynb).','line_number':256,'multiline':False]['text':' Ensure each line is a separate entry in an array (ending with \n).','line_number':283,'multiline':False]['text':' If the last item in `outputs` is not empty and the first item in `lines` is not empty, then concate them.','line_number':285,'multiline':False]['text':' As they are part of the same line.','line_number':286,'multiline':False]['text':' Skip last one if empty (it's the only one that could be length 0)','line_number':299,'multiline':False]['text':' Images in Jupyter are stored in base64 encoded format.','line_number':325,'multiline':False]['text':' VS Code expects bytes when rendering images.','line_number':326,'multiline':False]['text':' This cannot be empty.','line_number':350,'multiline':False]['text':' Source is usually a single string on input. Convert back to an array','line_number':362,'multiline':False]['text':' Remove outputs and execution_count from non code cells','line_number':368,'multiline':False]['text':' Clean outputs from code cells','line_number':373,'multiline':False]