['text':'!/usr/bin/env bash','line_number':1,'multiline':False]['text':' Copyright 2014 The Kubernetes Authors.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]['text':' limitations under the License.','line_number':15,'multiline':False]['text':' start the cache mutation detector by default so that cache mutators will be found','line_number':27,'multiline':False]['text':' panic the server on watch decode errors since they are considered coder mistakes','line_number':31,'multiline':False]['text':' TODO: This timeout should really be lower, this is a *long* time to test one','line_number':62,'multiline':False]['text':' package, however pkg/api/testing in particular will fail with a lower timeout','line_number':63,'multiline':False]['text':' currently. We should attempt to lower this over time.','line_number':64,'multiline':False]['text':' set to 'y' to enable coverage collection','line_number':66,'multiline':False]['text':' The directory to save test coverage reports to, if generating them. If unset,','line_number':68,'multiline':False]['text':' a semi-predictable temporary directory will be used.','line_number':69,'multiline':False]['text':' How many 'go test' instances to run simultaneously when running tests in','line_number':71,'multiline':False]['text':' coverage mode.','line_number':72,'multiline':False]['text':' use KUBE_RACE="" to disable the race detector','line_number':74,'multiline':False]['text':' this is defaulted to "-race" in make test as well','line_number':75,'multiline':False]['text':' NOTE: DO NOT ADD A COLON HERE. KUBE_RACE="" is meaningful!','line_number':76,'multiline':False]['text':' Set to the goveralls binary path to report coverage results to Coveralls.io.','line_number':78,'multiline':False]['text':' once we have multiple group supports','line_number':80,'multiline':False]['text':' Create a junit-style XML test report in this directory if set.','line_number':81,'multiline':False]['text':' If KUBE_JUNIT_REPORT_DIR is unset, and ARTIFACTS is set, then have them match.','line_number':83,'multiline':False]['text':' Set to 'y' to keep the verbose stdout from tests when KUBE_JUNIT_REPORT_DIR is','line_number':87,'multiline':False]['text':' set.','line_number':88,'multiline':False]['text':' Use eval to preserve embedded quoted strings.','line_number':137,'multiline':False]['text':' Used to filter verbose test output.','line_number':141,'multiline':False]['text':' The junit report tool needs full test case information to produce a','line_number':145,'multiline':False]['text':' meaningful report.','line_number':146,'multiline':False]['text':' Show only summary lines by matching lines like "status package/test"','line_number':150,'multiline':False]['text':' Filter out arguments that start with "-" and move them to goflags.','line_number':158,'multiline':False]['text':'testcases[@]} -eq 0 ]]; then','line_number':167,'multiline':False]['text':' Because k8s sets a localized $GOPATH for testing, seeing the actual','line_number':196,'multiline':False]['text':' directory can be confusing. Instead, just show $GOPATH if it exists in the','line_number':197,'multiline':False]['text':' $specified_package_path.','line_number':198,'multiline':False]['text':' If we're not collecting coverage, run all requested tests with one 'go test'','line_number':262,'multiline':False]['text':' command, which is much faster.','line_number':263,'multiline':False]['text':' Create coverage report directories.','line_number':277,'multiline':False]['text':' Name for each individual coverage profile','line_number':283,'multiline':False]['text':' Run all specified tests, collecting coverage results. Go currently doesn't','line_number':287,'multiline':False]['text':' support collecting coverage across multiple packages at once, so we must issue','line_number':288,'multiline':False]['text':' separate 'go test' commands for each package and then combine at the end.','line_number':289,'multiline':False]['text':' To speed things up considerably, we can at least use xargs -P to run multiple','line_number':290,'multiline':False]['text':' 'go test' commands at once.','line_number':291,'multiline':False]['text':' To properly parse the test results if generating a JUnit test report, we','line_number':292,'multiline':False]['text':' must make sure the output from PARALLEL runs is not mixed. To achieve this,','line_number':293,'multiline':False]['text':' we spawn a subshell for each PARALLEL process, redirecting the output to','line_number':294,'multiline':False]['text':' separate files.','line_number':295,'multiline':False]['text':' ignore paths:','line_number':297,'multiline':False]['text':' vendor/k8s.io/code-generator/cmd/generator: is fragile when run under coverage, so ignore it for now.','line_number':298,'multiline':False]['text':'                            https://github.com/kubernetes/kubernetes/issues/24967','line_number':299,'multiline':False]['text':' vendor/k8s.io/client-go/1.4/rest: causes cover internal errors','line_number':300,'multiline':False]['text':'                            https://github.com/golang/go/issues/16540','line_number':301,'multiline':False]['text':' The combined coverage profile needs to start with a line indicating which','line_number':326,'multiline':False]['text':' coverage mode was used (set, count, or atomic). This line is included in','line_number':327,'multiline':False]['text':' each of the coverage profiles generated when running 'go test -cover', but','line_number':328,'multiline':False]['text':' we strip these lines out when combining so that there's only one.','line_number':329,'multiline':False]['text':' Include all coverage reach data in the combined profile, but exclude the','line_number':332,'multiline':False]['text':' 'mode' lines, as there should be only one.','line_number':333,'multiline':False]['text':' several unittests panic when httptest cannot open more sockets','line_number':357,'multiline':False]['text':' due to the low default files limit on OS X.  Warn about low limit.','line_number':358,'multiline':False]['text':' We might run the tests for multiple versions, but we want to report only','line_number':370,'multiline':False]['text':' one of them to coveralls. Here we report coverage from the last run.','line_number':371,'multiline':False]