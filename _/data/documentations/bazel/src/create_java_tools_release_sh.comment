['text':'!/bin/bash','line_number':1,'multiline':False]['text':' Copyright 2019 The Bazel Authors. All rights reserved.','line_number':2,'multiline':False]['text':'','line_number':3,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]['text':'','line_number':7,'multiline':False]['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]['text':'','line_number':9,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]['text':' limitations under the License.','line_number':14,'multiline':False]['text':' A script that creates java_tools release candidates or release artifacts.','line_number':16,'multiline':False]['text':'','line_number':17,'multiline':False]['text':' Before creating a release candidate the script assumes that the java_tools','line_number':18,'multiline':False]['text':' binaries pipeline was previously run and generated java_tools artifacts at','line_number':19,'multiline':False]['text':' a commit hash.','line_number':20,'multiline':False]['text':'','line_number':21,'multiline':False]['text':' The script is using gsutil to copy artifacts.','line_number':22,'multiline':False]['text':'','line_number':23,'multiline':False]['text':' Mandatory flags:','line_number':24,'multiline':False]['text':' --java_tools_version  The version number of the java_tools to be released.','line_number':25,'multiline':False]['text':' --rc                  The release candidate number of current release.','line_number':26,'multiline':False]['text':'                       If --release true then --rc is the number of the rc to','line_number':27,'multiline':False]['text':'                       be released.','line_number':28,'multiline':False]['text':'                       If --release false then --rc is the number of the rc to','line_number':29,'multiline':False]['text':'                       be created.','line_number':30,'multiline':False]['text':' --release             "true" if the script has to create the release artifact','line_number':31,'multiline':False]['text':'                       or "false" if the script has to create a release','line_number':32,'multiline':False]['text':'                       candidate.','line_number':33,'multiline':False]['text':' --commit_hash         The commit hash where the java_tools binaries pipeline','line_number':34,'multiline':False]['text':'                       was run. Mandatory only if --release false.','line_number':35,'multiline':False]['text':'','line_number':36,'multiline':False]['text':' Usage examples:','line_number':37,'multiline':False]['text':'','line_number':38,'multiline':False]['text':' To create the first release candidate for a new java_tools version 2.1 and','line_number':39,'multiline':False]['text':' JDK11, that was built at commit_hash 123456:','line_number':40,'multiline':False]['text':'','line_number':41,'multiline':False]['text':' src/create_java_tools_release.sh --commit_hash 123456 \','line_number':42,'multiline':False]['text':'     --java_tools_version 2.1 --rc 1 --release false','line_number':43,'multiline':False]['text':'','line_number':44,'multiline':False]['text':' To release the release candidate created above:','line_number':45,'multiline':False]['text':'','line_number':46,'multiline':False]['text':' src/create_java_tools_release.sh \','line_number':47,'multiline':False]['text':'     --java_tools_version 2.1 --rc 1 --release true','line_number':48,'multiline':False]['text':' Parsing the flags.','line_number':52,'multiline':False]['text':' Create a tmp directory to download the artifacts from GCS and compute their','line_number':65,'multiline':False]['text':' sha256sum.','line_number':66,'multiline':False]['text':' Make release candidate the release artifact for the current platform.','line_number':79,'multiline':False]['text':' Don't overwrite existing file.','line_number':80,'multiline':False]['text':' Make the generated artifact a release candidate for the current platform.','line_number':89,'multiline':False]['text':' Don't overwrite existing file.','line_number':90,'multiline':False]['text':' Download the file locally to compute its sha256sum (needed to update the','line_number':97,'multiline':False]['text':' java_tools in Bazel).','line_number':98,'multiline':False]['text':' Don't overwrite existing file.','line_number':99,'multiline':False]['text':' Make release candidate the release artifact for the current platform.','line_number':113,'multiline':False]['text':' Don't overwrite existing file.','line_number':114,'multiline':False]['text':' Copy the associated zip file that contains the sources of the release zip.','line_number':117,'multiline':False]['text':' Don't overwrite existing file.','line_number':118,'multiline':False]['text':' Copy the associated zip file that contains the sources of the release zip.','line_number':129,'multiline':False]['text':' Don't overwrite existing file.','line_number':130,'multiline':False]['text':' Download the file locally to compute its sha256sum (needed to update the','line_number':138,'multiline':False]['text':' java_tools in Bazel).','line_number':139,'multiline':False]['text':' Don't overwrite existing file.','line_number':140,'multiline':False]