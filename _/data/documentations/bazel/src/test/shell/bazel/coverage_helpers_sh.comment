['text':'!/bin/bash','line_number':1,'multiline':False]['text':' Copyright 2023 The Bazel Authors. All rights reserved.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]['text':' limitations under the License.','line_number':15,'multiline':False]['text':' Outputs the major version of gcov.','line_number':19,'multiline':False]['text':' Returns 1 if gcov is not installed or a version before 7.0 was found.','line_number':20,'multiline':False]['text':' Extract gcov's version: the output of `gcov --version` contains the','line_number':27,'multiline':False]['text':' version as a set of major-minor-patch numbers, of which we extract','line_number':28,'multiline':False]['text':' the major version.','line_number':29,'multiline':False]['text':' gcov --version outputs a line like:','line_number':30,'multiline':False]['text':'   gcov (Debian 7.3.0-5) 7.3.0','line_number':31,'multiline':False]['text':' llvm-cov gcov --version outputs a line like:','line_number':32,'multiline':False]['text':'   LLVM version 9.0.1','line_number':33,'multiline':False]['text':' Disable llvm-cov for now - coverage tests on OSX don't work','line_number':40,'multiline':False]['text':' TODO(cmita): Fix and enable.','line_number':41,'multiline':False]['text':' Returns 0 if gcov is not installed or if a version before 7.0 was found.','line_number':47,'multiline':False]['text':' Returns 1 otherwise.','line_number':48,'multiline':False]['text':' Inverts the return value of get_gcov_version','line_number':49,'multiline':False]['text':' Asserts if the given expected coverage result is included in the given output','line_number':58,'multiline':False]['text':' file.','line_number':59,'multiline':False]['text':'','line_number':60,'multiline':False]['text':' - expected_coverage The expected result that must be included in the output.','line_number':61,'multiline':False]['text':' - output_file       The location of the coverage output file.','line_number':62,'multiline':False]['text':' Replace newlines with commas to facilitate the assertion.','line_number':67,'multiline':False]['text':' strip any trailing commas','line_number':70,'multiline':False]['text':' Asserts if the given expected coverage result is included in the given output','line_number':82,'multiline':False]['text':' file, accounting for the fact that branch coverage is disabled for gcov v7','line_number':83,'multiline':False]['text':'','line_number':84,'multiline':False]['text':' - expected coverage The expected result that must be included in the output.','line_number':85,'multiline':False]['text':' - output_file       The location of the coverage output file.','line_number':86,'multiline':False]['text':' we disable branch coverage when using gcov 7 so we should strip all branch','line_number':91,'multiline':False]['text':' information from the "expected" result before checking.','line_number':92,'multiline':False]['text':' Returns the path of the code coverage report that was generated by Bazel by','line_number':100,'multiline':False]['text':' looking at the current $TEST_log. The method fails if TEST_log does not','line_number':101,'multiline':False]['text':' contain any coverage report for a passed test.','line_number':102,'multiline':False]