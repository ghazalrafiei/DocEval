['text':' Copyright 2017 The Bazel Authors. All rights reserved.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':3,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':4,'multiline':False]['text':' You may obtain a copy of the License at','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':9,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':10,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':11,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':12,'multiline':False]['text':' limitations under the License.','line_number':13,'multiline':False]['text':' //:A export symbols by itself using __declspec(dllexport), so it doesn't','line_number':134,'multiline':False]['text':' need Bazel to export symbols using DEF file.','line_number':135,'multiline':False]['text':' TODO(pcloudy): change suffixes to .lib and .dll after making DLL','line_number':138,'multiline':False]['text':' extensions correct on Windows.','line_number':139,'multiline':False]['text':' An empty DEF file should be generated for //:A','line_number':146,'multiline':False]['text':' //:B doesn't export symbols by itself, so it need Bazel to export symbols','line_number':153,'multiline':False]['text':' using DEF file.','line_number':154,'multiline':False]['text':' TODO(pcloudy): change suffixes to .lib and .dll after making DLL','line_number':157,'multiline':False]['text':' extensions correct on Windows.','line_number':158,'multiline':False]['text':' DEF file should be generated for //:B','line_number':164,'multiline':False]['text':' Test build //:B if windows_export_all_symbols feature is disabled by','line_number':167,'multiline':False]['text':' no_windows_export_all_symbols.','line_number':168,'multiline':False]['text':' An empty DEF file should be generated for //:B','line_number':180,'multiline':False]['text':' Since linkstatic=0 is specified for //:C, it's dependencies should be','line_number':188,'multiline':False]['text':' dynamically linked.','line_number':189,'multiline':False]['text':' TODO(pcloudy): change suffixes to .lib and .dll after making DLL','line_number':192,'multiline':False]['text':' extensions correct on','line_number':193,'multiline':False]['text':' Windows.','line_number':194,'multiline':False]['text':' a_import_library','line_number':195,'multiline':False]['text':' a_shared_library','line_number':197,'multiline':False]['text':' a_def_file','line_number':199,'multiline':False]['text':' b_import_library','line_number':201,'multiline':False]['text':' b_shared_library','line_number':203,'multiline':False]['text':' b_def_file','line_number':205,'multiline':False]['text':' c_exe','line_number':207,'multiline':False]['text':' Test if A.dll and B.dll are copied to the directory of main.exe','line_number':224,'multiline':False]['text':' Run the binary to see if it runs successfully','line_number':230,'multiline':False]['text':' Transitively depends on //:A','line_number':242,'multiline':False]['text':' //main:main depends on both //lib:A and //:A','line_number':248,'multiline':False]['text':' Run the binary to see if it runs successfully','line_number':251,'multiline':False]['text':' There are 2 A_{hash}.dll since //main:main depends on both //lib:A and','line_number':255,'multiline':False]['text':' //:A','line_number':256,'multiline':False]['text':' There is only 1 B_{hash}.dll','line_number':259,'multiline':False]['text':' Transitively depends on //:A','line_number':271,'multiline':False]['text':' Building //main:main should succeed','line_number':285,'multiline':False]['text':' Run the main_bin binary to see if it runs successfully','line_number':289,'multiline':False]['text':' There is only 1 A_{hash}.dll since //main:main depends transitively on','line_number':292,'multiline':False]['text':' //:A','line_number':293,'multiline':False]['text':' There is only 1 B_{hash}.dll','line_number':296,'multiline':False]['text':' Building //main:other_main should succeed','line_number':300,'multiline':False]['text':' Run the other_main_bin binary to see if it runs successfully','line_number':308,'multiline':False]['text':' There are 2 A_{hash}.dll since //main:main depends on //:A','line_number':310,'multiline':False]['text':' and //main:other_main depends on //lib:A','line_number':311,'multiline':False]['text':' Test if A.dll is copied to the directory of main.exe','line_number':359,'multiline':False]['text':' Run the binary to see if it runs successfully','line_number':364,'multiline':False]['text':' By default, it should link to msvcrt dynamically.','line_number':372,'multiline':False]['text':' Test build in debug mode.','line_number':387,'multiline':False]['text':' With static_link_msvcrt feature, it should link to msvcrt statically.','line_number':406,'multiline':False]['text':' Test build in debug mode.','line_number':423,'multiline':False]['text':' Transitively depends on //:A','line_number':448,'multiline':False]['text':' A.dll and B.dll should not be copied.','line_number':468,'multiline':False]['text':' Transitively depends on //:A','line_number':483,'multiline':False]['text':' A.dll and B.dll should be built and copied because they belong to','line_number':510,'multiline':False]['text':' runtime_dynamic_libraries output group.','line_number':511,'multiline':False]['text':' hello_A and hello_B should not be exported.','line_number':514,'multiline':False]['text':' The copy should succeed since //main:main.dll is only supposed to refer to','line_number':519,'multiline':False]['text':' main.dll, A.dll and B.dll should be in a separate output group.','line_number':520,'multiline':False]['text':' Transitively depends on //:A','line_number':532,'multiline':False]['text':' Although windows_export_all_symbols is not specified for this target,','line_number':543,'multiline':False]['text':' we should still be able to get the DEF file by def_file output group.','line_number':544,'multiline':False]['text':' Although windows_export_all_symbols is not specified for this target,','line_number':566,'multiline':False]['text':' we should still be able to build a DLL without any symbol exported.','line_number':567,'multiline':False]['text':' Test specifying DEF file in cc_binary','line_number':601,'multiline':False]['text':' hello_A should not be exported','line_number':607,'multiline':False]['text':' hello_B should be exported','line_number':609,'multiline':False]['text':' Test exporting symbols using custom DEF file in cc_library.','line_number':634,'multiline':False]['text':' Auto-generating DEF file should be disabled when custom DEF file specified','line_number':635,'multiline':False]['text':' Rename DLL should be disabled when when custom DEF file specified','line_number':636,'multiline':False]['text':' Test specifying DEF file in cc_binary','line_number':651,'multiline':False]['text':' Even though A.dll is in the same package as bin.exe, it still should','line_number':720,'multiline':False]['text':' be copied to the output directory of bin.exe.','line_number':721,'multiline':False]['text':' Regression test for https://github.com/bazelbuild/bazel/issues/9172','line_number':792,'multiline':False]['text':' Regression test for https://github.com/bazelbuild/bazel/issues/9321','line_number':804,'multiline':False]['text':' Test build without debug and optimize modes.','line_number':965,'multiline':False]['text':' Test build in debug mode.','line_number':979,'multiline':False]['text':' Test build in optimize mode.','line_number':993,'multiline':False]['text':' Test build without debug and optimize modes.','line_number':1032,'multiline':False]['text':' Test build in debug mode.','line_number':1048,'multiline':False]['text':' Test build in optimize mode.','line_number':1063,'multiline':False]['text':' Creates a command that is longer than 32767 characters, which is','line_number':1112,'multiline':False]['text':' the maximum length of a command line on Windows.','line_number':1113,'multiline':False]