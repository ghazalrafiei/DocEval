['text':' Copyright 2016 The Bazel Authors. All rights reserved.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':3,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':4,'multiline':False]['text':' You may obtain a copy of the License at','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':9,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':10,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':11,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':12,'multiline':False]['text':' limitations under the License.','line_number':13,'multiline':False]['text':' Must be included before anything else.','line_number':18,'multiline':False]['text':' A subclass of the OutputJar which concatenates the contents of each','line_number':69,'multiline':False]['text':' entry in the data/ directory from the input archives.','line_number':70,'multiline':False]['text':'input_jar_path','line_number':74,'multiline':True]['text':' The contents of the data/<FILE> on the output is the','line_number':80,'multiline':False]['text':' concatenation of the data/<FILE> files from all inputs.','line_number':81,'multiline':False]['text':' No inputs at all.','line_number':140,'multiline':False]['text':' Verify that each entry has a reasonable timestamp.','line_number':162,'multiline':False]['text':' Current time, rounded to even number of seconds because MSDOS timestamp','line_number':170,'multiline':False]['text':' does this, too.','line_number':171,'multiline':False]['text':' Unpack MSDOS file timestamp. See the comment about its format in','line_number':178,'multiline':False]['text':' output_jar.cc.','line_number':179,'multiline':False]['text':' Without --normalize option all the entries should have reasonably','line_number':192,'multiline':False]['text':' current timestamp (which we arbitrarily choose to be <5 minutes).','line_number':193,'multiline':False]['text':' The first entry should be for the META-INF/ directory, and it should','line_number':198,'multiline':False]['text':' contain a single extra field 0xCAFE. Although','line_number':199,'multiline':False]['text':' https://bugs.openjdk.java.net/browse/JDK-6808540 claims that this extra','line_number':200,'multiline':False]['text':' field is optional, 'file' utility in Linux relies on to distinguish','line_number':201,'multiline':False]['text':' jar from zip.','line_number':202,'multiline':False]['text':' Source jars.','line_number':222,'multiline':False]['text':' Verify --java_launcher argument','line_number':260,'multiline':False]['text':' check that the offset of the first entry equals launcher size.','line_number':266,'multiline':False]['text':' --cds_archive option','line_number':281,'multiline':False]['text':' check META-INF/MANIFEST.MF attribute','line_number':289,'multiline':False]['text':' check build-data.properties entry','line_number':303,'multiline':False]['text':' --jdk_lib_modules option','line_number':311,'multiline':False]['text':' Test META-INF/MANIFEST.MF attributes.','line_number':319,'multiline':False]['text':' --cds_archive & --jdk_lib_modules options','line_number':344,'multiline':False]['text':' Test META-INF/MANIFEST.MF attributes.','line_number':359,'multiline':False]['text':' --main_class option.','line_number':403,'multiline':False]['text':' --output_jar_creator option','line_number':416,'multiline':False]['text':' --deploy_manifest_lines option.','line_number':429,'multiline':False]['text':' --extra_build_info option','line_number':444,'multiline':False]['text':' --build_info_file and --extra_build_info options.','line_number':454,'multiline':False]['text':' --resources option.','line_number':473,'multiline':False]['text':' The output should have 'res1' entry containing the concatenation of the','line_number':486,'multiline':False]['text':' 'res11' and 'res12' files.','line_number':487,'multiline':False]['text':' The output should have res2 path entry and contents.','line_number':491,'multiline':False]['text':' The output should contain entries for parent directories','line_number':511,'multiline':False]['text':' The output should contain entries for the directory','line_number':535,'multiline':False]['text':' --classpath_resources','line_number':551,'multiline':False]['text':' Duplicate entries for --resources or --classpath_resources','line_number':561,'multiline':False]['text':' Extra combiners','line_number':583,'multiline':False]['text':' Test ExtraHandler override.','line_number':597,'multiline':False]['text':' --include_headers','line_number':616,'multiline':False]['text':' --normalize','line_number':645,'multiline':False]['text':' Creates output jar containing entries from all possible sources:','line_number':647,'multiline':False]['text':'  * archives created by java_library rule, by jar tool, by zip','line_number':648,'multiline':False]['text':'  * resource files','line_number':649,'multiline':False]['text':'  * classpath resource files','line_number':650,'multiline':False]['text':'  *','line_number':651,'multiline':False]['text':' TODO(asmundak): check the following generated entries, too:','line_number':677,'multiline':False]['text':'  * services','line_number':678,'multiline':False]['text':'  * spring.schemas','line_number':679,'multiline':False]['text':'  * spring.handlers','line_number':680,'multiline':False]['text':'  * protobuf.meta','line_number':681,'multiline':False]['text':'  * extra combiner','line_number':682,'multiline':False]['text':' Scan all entries, verify that *.class entries have timestamp','line_number':694,'multiline':False]['text':' 01/01/2010 00:00:02 and the rest have the timestamp of 01/01/2010 00:00:00.','line_number':695,'multiline':False]['text':' Zip creates Unix timestamps, too. Check that normalization removes them.','line_number':718,'multiline':False]['text':' --add_missing_directories','line_number':727,'multiline':False]['text':' Scan all entries, verify that *.class entries have timestamp','line_number':747,'multiline':False]['text':' 01/01/2010 00:00:02 and the rest have the timestamp of 01/01/2010 00:00:00.','line_number':748,'multiline':False]['text':' Zip creates Unix timestamps, too. Check that normalization removes them.','line_number':775,'multiline':False]['text':' The files names META-INF/services/<something> are concatenated.','line_number':802,'multiline':False]['text':' The files named META-INF/spring.handlers are concatenated.','line_number':803,'multiline':False]['text':' The files named META-INF/spring.schemas are concatenated.','line_number':804,'multiline':False]['text':' We have to be in the output directory if we want to have entries in the','line_number':813,'multiline':False]['text':' archive to start with META-INF. The resulting zip will contain 4 entries:','line_number':814,'multiline':False]['text':'   META-INF/services/spi.DateProvider','line_number':815,'multiline':False]['text':'   META-INF/services/spi.TimeProvider','line_number':816,'multiline':False]['text':'   META-INF/spring.handlers','line_number':817,'multiline':False]['text':'   META-INF/spring.schemas','line_number':818,'multiline':False]['text':' Create the second zip, with 3 files:','line_number':824,'multiline':False]['text':'   META-INF/services/spi.DateProvider.','line_number':825,'multiline':False]['text':'   META-INF/spring.handlers','line_number':826,'multiline':False]['text':'   META-INF/spring.schemas','line_number':827,'multiline':False]['text':' The output jar should contain two service entries. The contents of the','line_number':836,'multiline':False]['text':' META-INF/services/spi.DateProvider should be the concatenation of the','line_number':837,'multiline':False]['text':' contents of this entry from both archives. And it should also contain','line_number':838,'multiline':False]['text':' spring.handlers and spring.schemas entries.','line_number':839,'multiline':False]['text':' Test that in the absence of the compression option all the plain files in','line_number':853,'multiline':False]['text':' the output archive are not compressed but just stored.','line_number':854,'multiline':False]['text':' Each file entry is compressed, each directory entry is uncompressed.','line_number':863,'multiline':False]['text':' Test --compression option. If enabled, all file entries are compressed','line_number':871,'multiline':False]['text':' while all directory entries remain uncompressed.','line_number':872,'multiline':False]['text':' Each file entry is compressed, each directory entry is uncompressed.','line_number':881,'multiline':False]['text':' Test --dontchangecompression option. If enabled, existing file entries are','line_number':894,'multiline':False]['text':' copied as is, and created entries are compressed.','line_number':895,'multiline':False]['text':' Test --compression option. If enabled, all file entries are compressed','line_number':896,'multiline':False]['text':' while all directory entries remain uncompressed.','line_number':897,'multiline':False]['text':' All created file entries are compressed, and so are all the file','line_number':910,'multiline':False]['text':' entries from the input jar created by the java_library rule. Only','line_number':911,'multiline':False]['text':' the file entries from the 'stored_jar' should be uncompressed, and','line_number':912,'multiline':False]['text':' it contains a single one:','line_number':913,'multiline':False]['text':' Test --exclude_build_data option when none of the source archives contain','line_number':931,'multiline':False]['text':' build-data.properties file: no such file in the output archive.','line_number':932,'multiline':False]['text':' Test --exclude_build_data option when a source archive contains','line_number':947,'multiline':False]['text':' build-data.properties file, it should be then copied to the output.','line_number':948,'multiline':False]['text':' Test that the entries with suffixes in --nocompressed_suffixes are','line_number':961,'multiline':False]['text':' not compressed. This applies both to the source archives' entries and','line_number':962,'multiline':False]['text':' standalone files.','line_number':963,'multiline':False]['text':' --multi_release option.','line_number':998,'multiline':False]['text':' --multi_release option doesn't override --deploy_manifest_lines.','line_number':1011,'multiline':False]['text':' --hermetic_java_home','line_number':1024,'multiline':False]['text':' --add_exports and --add_opens options combines with --deploy_manifest_lines.','line_number':1037,'multiline':False]['text':' Deduplicate --add_exports','line_number':1056,'multiline':False]['text':' Tokenize, sort, and deduplicate existing Add-Exports lines','line_number':1070,'multiline':False]['text':' namespace','line_number':1085,'multiline':False]