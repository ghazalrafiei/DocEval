['text':'!/bin/bash','line_number':1,'multiline':False]['text':' Copyright 2015 The Bazel Authors. All rights reserved.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]['text':' limitations under the License.','line_number':15,'multiline':False]['text':' Some common method for release scripts','line_number':19,'multiline':False]['text':' A release candidate is created from a branch named "release-%name%"','line_number':21,'multiline':False]['text':' where %name% is the name of the release. Once promoted to a release,','line_number':22,'multiline':False]['text':' A tag %name% will be created from this branch and the corresponding','line_number':23,'multiline':False]['text':' branch removed.','line_number':24,'multiline':False]['text':' The last commit of the release branch is always a commit containing','line_number':25,'multiline':False]['text':' the release notes in the commit message and updating the CHANGELOG.md.','line_number':26,'multiline':False]['text':' This last commit will be cherry-picked back in the master branch','line_number':27,'multiline':False]['text':' when the release candidate is promoted to a release.','line_number':28,'multiline':False]['text':' To follow tracks and to support how CI systems fetch the refs, we','line_number':29,'multiline':False]['text':' store two commit notes: the release name and the candidate number.','line_number':30,'multiline':False]['text':' Get the short hash of a commit','line_number':32,'multiline':False]['text':' Get the subject (first line of the commit message) of a commit','line_number':37,'multiline':False]['text':' Returns the branch name of the current git repository','line_number':42,'multiline':False]['text':' Returns the tag name of the current git repository','line_number':47,'multiline':False]['text':' Show the commit message of the ref specified in argument','line_number':52,'multiline':False]['text':' Extract the release candidate number from the git branch name','line_number':57,'multiline':False]['text':' Match rcX and return X','line_number':59,'multiline':False]['text':' Extract the release name from the git branch name','line_number':63,'multiline':False]['text':' Match branch name release-X.X.X[-pre.XXXXXXXX.X]rcY and return X.X.X[-pre.XXXXXXXX.X]','line_number':65,'multiline':False]['text':' or match tag name X.X.X[-pre.XXXXXXXX.X] and return X.X.X[-pre.XXXXXXXX.X]','line_number':66,'multiline':False]['text':' Returns whether this is a rolling release (or an RCs of one)','line_number':70,'multiline':False]['text':' Returns the name of the LTS release that belongs to the current rolling release','line_number':79,'multiline':False]['text':' Get the list of commit hashes between two revisions','line_number':85,'multiline':False]['text':' Extract the full release name from the branch name or tag name','line_number':93,'multiline':False]['text':' Returns the info from the branch of the release. It is the current branch','line_number':104,'multiline':False]['text':' but it errors out if the current branch is not a release branch. This','line_number':105,'multiline':False]['text':' method returns the tag of the release and the number of the current','line_number':106,'multiline':False]['text':' candidate in this release.','line_number':107,'multiline':False]['text':' fmt behaves differently on *BSD and on GNU/Linux, use fold.','line_number':117,'multiline':False]