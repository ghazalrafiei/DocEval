['text':'','line_number':1,'multiline':False]['text':' Log module','line_number':2,'multiline':False]['text':'','line_number':3,'multiline':False]['text':' How Linux printk() handles recursion, buffering, etc:','line_number':4,'multiline':False]['text':' https://lwn.net/Articles/780556/','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':'/ Cached location of the expanded log file path decided by log_path_init().','line_number':32,'multiline':False]['text':'/ Initializes the log file path and sets $NVIM_LOG_FILE if empty.','line_number':59,'multiline':False]['text':'/','line_number':60,'multiline':False]['text':'/ Tries $NVIM_LOG_FILE, or falls back to $XDG_STATE_HOME/nvim/log. Failed','line_number':61,'multiline':False]['text':'/ initialization indicates either a bug in expand_env() or both $NVIM_LOG_FILE','line_number':62,'multiline':False]['text':'/ and $HOME environment variables are undefined.','line_number':63,'multiline':False]['text':' Make $XDG_STATE_HOME if it does not exist.','line_number':72,'multiline':False]['text':' Invalid $NVIM_LOG_FILE or failed to expand; fall back to default.','line_number':80,'multiline':False]['text':' Fall back to .nvimlog','line_number':84,'multiline':False]['text':' Fall back to stderr','line_number':88,'multiline':False]['text':' AFTER init_homedir ("~", XDG) and set_init_1 (env vars). 22b52dd462e5 #11501','line_number':105,'multiline':False]['text':'/ Logs a message to $NVIM_LOG_FILE.','line_number':120,'multiline':False]['text':'/','line_number':121,'multiline':False]['text':'/ @param log_level  Log level (see log.h)','line_number':122,'multiline':False]['text':'/ @param context    Description of a shared context or subsystem','line_number':123,'multiline':False]['text':'/ @param func_name  Function name, or NULL','line_number':124,'multiline':False]['text':'/ @param line_num   Source line number, or -1','line_number':125,'multiline':False]['text':'/ @param eol        Append linefeed "\n"','line_number':126,'multiline':False]['text':'/ @param fmt        printf-style format string','line_number':127,'multiline':False]['text':'/','line_number':128,'multiline':False]['text':'/ @return true if log was emitted normally, false if failed or recursive','line_number':129,'multiline':False]['text':' Showed recursion message?','line_number':135,'multiline':False]['text':' set_init_1 may try logging before we are ready. 6f27f5ef91b3 #10183','line_number':138,'multiline':False]['text':' This should rarely happen (callsites are compiled out), but to be sure.','line_number':143,'multiline':False]['text':' TODO(bfredl): allow log levels to be configured at runtime','line_number':144,'multiline':False]['text':' Logging after we've already started freeing all our memory will only cause','line_number':151,'multiline':False]['text':' pain.  We need access to VV_PROGPATH, homedir, etc.','line_number':152,'multiline':False]['text':'/ Open the log file for appending.','line_number':210,'multiline':False]['text':'/','line_number':211,'multiline':False]['text':'/ @return Log file, or stderr on failure','line_number':212,'multiline':False]['text':' May happen if:','line_number':223,'multiline':False]['text':'  - fopen() failed','line_number':224,'multiline':False]['text':'  - LOG() is called before log_init()','line_number':225,'multiline':False]['text':'  - Directory does not exist','line_number':226,'multiline':False]['text':'  - File is not writable','line_number':227,'multiline':False]['text':' Must fit in `cmdbuf` below.','line_number':245,'multiline':False]['text':' 64-bit pointer 0xNNNNNNNNNNNNNNNN with leading space.','line_number':250,'multiline':False]['text':' Now we have a command string like:','line_number':254,'multiline':False]['text':'    addr2line -e /path/to/exe -f -p 0x123 0x456 ...','line_number':255,'multiline':False]['text':' Name of the Nvim instance that produced the log.','line_number':297,'multiline':False]['text':' Format the timestamp.','line_number':308,'multiline':False]['text':' Get a name for this Nvim instance.','line_number':324,'multiline':False]['text':' TODO(justinmk): expose this as v:name ?','line_number':325,'multiline':False]['text':' Parent servername.','line_number':327,'multiline':False]['text':' Servername. Empty until starting=false.','line_number':329,'multiline':False]['text':' "/c" indicates child.','line_number':332,'multiline':False]['text':' Print the log message.','line_number':341,'multiline':False]['text':' No v:servername yet. Clear `name` so that the next log can try again.','line_number':351,'multiline':False]