['text':' drawline.c: Functions for drawing window lines on the screen.','line_number':1,'multiline':False]['text':' This is the middle level, drawscreen.c is the top and grid.c the lower level.','line_number':2,'multiline':False]['text':' character used when a double-width character doesn't fit.','line_number':52,'multiline':False]['text':'/ possible draw states in win_line(), drawn in sequence.','line_number':54,'multiline':False]['text':' nothing done yet','line_number':56,'multiline':False]['text':' cmdline window column','line_number':57,'multiline':False]['text':' 'foldcolumn'','line_number':58,'multiline':False]['text':' column for signs','line_number':59,'multiline':False]['text':' line number','line_number':60,'multiline':False]['text':' 'statuscolumn'','line_number':61,'multiline':False]['text':' 'breakindent'','line_number':62,'multiline':False]['text':' 'showbreak' or 'diff'','line_number':63,'multiline':False]['text':' text in the line','line_number':64,'multiline':False]['text':'/ structure with variables passed between win_line() and other functions','line_number':67,'multiline':False]['text':'/< what to draw next','line_number':69,'multiline':False]['text':'/< line number to be drawn','line_number':71,'multiline':False]['text':'/< fold info for this line','line_number':72,'multiline':False]['text':'/< first row in the window to be drawn','line_number':74,'multiline':False]['text':'/< row in the window, excl w_winrow','line_number':75,'multiline':False]['text':'/< virtual column, before wrapping','line_number':77,'multiline':False]['text':'/< visual column on screen, after wrapping','line_number':78,'multiline':False]['text':'/< nonexistent columns added to "col" to force wrapping','line_number':79,'multiline':False]['text':'/< offset for concealed characters','line_number':80,'multiline':False]['text':'/< offset relative start of line','line_number':82,'multiline':False]['text':'/< set when 'cursorline' active','line_number':84,'multiline':False]['text':'/< attribute for the whole line','line_number':85,'multiline':False]['text':'/< low-priority attribute for the line','line_number':86,'multiline':False]['text':'/< start of inverting','line_number':88,'multiline':False]['text':'/< end of inverting','line_number':89,'multiline':False]['text':'/< virtual column after showbreak','line_number':91,'multiline':False]['text':'/< overlong line, skipping first x chars','line_number':92,'multiline':False]['text':'/< attributes for next character','line_number':94,'multiline':False]['text':'/< number of extra bytes','line_number':96,'multiline':False]['text':'/< chars with special attr','line_number':97,'multiline':False]['text':'/< string of extra chars, plus NUL, only used','line_number':98,'multiline':False]['text':'/< when c_extra and c_final are NUL','line_number':99,'multiline':False]['text':'/< attributes for p_extra','line_number':100,'multiline':False]['text':'/< extra chars, all the same','line_number':101,'multiline':False]['text':'/< final char, mandatory if set','line_number':102,'multiline':False]['text':'/< number of chars in fdc which will be closing','line_number':104,'multiline':False]['text':'/< n_extra set for inline virtual text','line_number':106,'multiline':False]['text':' saved "extra" items for when draw_state becomes WL_LINE (again)','line_number':108,'multiline':False]['text':'/< sign, line number and 'fdc' must fit in here','line_number':116,'multiline':False]['text':'/< type of diff highlighting','line_number':118,'multiline':False]['text':'/< nr of virtual lines','line_number':120,'multiline':False]['text':'/< nr of filler lines to be drawn','line_number':121,'multiline':False]['text':'/< nr of filler lines still to do + 1','line_number':122,'multiline':False]['text':'/< sign attributes for the sign column','line_number':123,'multiline':False]['text':'/ do consider wrapping in linebreak mode only after encountering','line_number':124,'multiline':False]['text':'/ a non whitespace char','line_number':125,'multiline':False]['text':'/< nr of cells to skip for w_leftcol','line_number':134,'multiline':False]['text':'/< or w_skipcol or concealing','line_number':135,'multiline':False]['text':'/< nr of skipped cells for virtual text','line_number':136,'multiline':False]['text':'/< to be added to wlv.vcol later','line_number':137,'multiline':False]['text':'/ Advance **color_cols','line_number':165,'multiline':False]['text':'/','line_number':166,'multiline':False]['text':'/ @return  true when there are columns to draw.','line_number':167,'multiline':False]['text':'/ Used when 'cursorlineopt' contains "screenline": compute the margins between','line_number':176,'multiline':False]['text':'/ which the highlighting is used.','line_number':177,'multiline':False]['text':' cache previous calculations depending on w_virtcol','line_number':180,'multiline':False]['text':' cache values','line_number':211,'multiline':False]['text':'/ Put a single char from an UTF-8 buffer into a line buffer.','line_number':219,'multiline':False]['text':'/','line_number':220,'multiline':False]['text':'/ If `*pp` is a double-width char and only one cell is left, emit a space,','line_number':221,'multiline':False]['text':'/ and don't advance *pp','line_number':222,'multiline':False]['text':'/','line_number':223,'multiline':False]['text':'/ Handles composing chars','line_number':224,'multiline':False]['text':' Out of window, don't draw at all.','line_number':290,'multiline':False]['text':' send mark position to UI','line_number':299,'multiline':False]['text':' deactivate','line_number':309,'multiline':False]['text':'/ Return true if CursorLineSign highlight is to be used.','line_number':362,'multiline':False]['text':'/ Setup for drawing the 'foldcolumn', if there is one.','line_number':372,'multiline':False]['text':' Use a separate buffer as `extra_buf` might be in use.','line_number':380,'multiline':False]['text':'/ Fills the foldcolumn at "p" for window "wp".','line_number':394,'multiline':False]['text':'/ Only to be called when 'foldcolumn' > 0.','line_number':395,'multiline':False]['text':'/','line_number':396,'multiline':False]['text':'/ @param[out] p  Char array to write into','line_number':397,'multiline':False]['text':'/ @param lnum    Absolute current line number','line_number':398,'multiline':False]['text':'/ @param closed  Whether it is in 'foldcolumn' mode','line_number':399,'multiline':False]['text':'/','line_number':400,'multiline':False]['text':'/ Assume monocell characters','line_number':401,'multiline':False]['text':'/ @return number of chars added to \param p','line_number':402,'multiline':False]['text':' available cell width','line_number':406,'multiline':False]['text':' Init to all spaces.','line_number':411,'multiline':False]['text':' If the column is too narrow, we start at the lowest level that','line_number':416,'multiline':False]['text':' fits and use numbers to indicate the depth.','line_number':417,'multiline':False]['text':' rollback previous write','line_number':447,'multiline':False]['text':'/ Get information needed to display the sign in line "wlv->lnum" in window "wp".','line_number':463,'multiline':False]['text':'/ If "nrcol" is true, the sign is going to be displayed in the number column.','line_number':464,'multiline':False]['text':'/ Otherwise the sign is going to be displayed in the sign column. If there is no','line_number':465,'multiline':False]['text':'/ sign, draw blank cells instead.','line_number':466,'multiline':False]['text':' Spaces + sign:    "  " + ">>"     + ' '','line_number':477,'multiline':False]['text':' 'number' + 'norelativenumber'','line_number':502,'multiline':False]['text':' 'relativenumber', don't use negative numbers','line_number':505,'multiline':False]['text':' 'number' + 'relativenumber'','line_number':508,'multiline':False]['text':'/ Return true if CursorLineNr highlight is to be used for the number column.','line_number':517,'multiline':False]['text':'/ - 'cursorline' must be set','line_number':518,'multiline':False]['text':'/ - "wlv->lnum" must be the cursor line','line_number':519,'multiline':False]['text':'/ - 'cursorlineopt' has "number"','line_number':520,'multiline':False]['text':'/ - don't highlight filler lines (when in diff mode)','line_number':521,'multiline':False]['text':'/ - When line is wrapped and 'cursorlineopt' does not have "line", only highlight the line number','line_number':522,'multiline':False]['text':'/   itself on the first screenline of the wrapped line, otherwise highlight the number column of','line_number':523,'multiline':False]['text':'/   all screenlines of the wrapped line.','line_number':524,'multiline':False]['text':' TODO(vim): Can we use CursorLine instead of CursorLineNr','line_number':538,'multiline':False]['text':' when CursorLineNr isn't set?','line_number':539,'multiline':False]['text':' Use LineNrAbove','line_number':545,'multiline':False]['text':' Use LineNrBelow','line_number':549,'multiline':False]['text':'/ Display the absolute or relative line number.  After the first row fill with','line_number':557,'multiline':False]['text':'/ blanks when the 'n' flag isn't in 'cpo'.','line_number':558,'multiline':False]['text':' there is no line number in a wrapped line when "n" is in','line_number':565,'multiline':False]['text':' 'cpoptions', but 'breakindent' assumes it anyway.','line_number':566,'multiline':False]['text':' If 'signcolumn' is set to 'number' and a sign is present in "lnum",','line_number':568,'multiline':False]['text':' then display the sign instead of the line number.','line_number':569,'multiline':False]['text':' Draw the line number (empty space after wrapping).','line_number':573,'multiline':False]['text':' reverse line numbers','line_number':582,'multiline':False]['text':'/ Prepare and build the 'statuscolumn' string for line "lnum" in window "wp".','line_number':602,'multiline':False]['text':'/ Fill "stcp" with the built status column string and attributes.','line_number':603,'multiline':False]['text':'/ This can be called three times per win_line(), once for virt_lines, once for','line_number':604,'multiline':False]['text':'/ the start of the buffer line "lnum" and once for the wrapped lines.','line_number':605,'multiline':False]['text':'/','line_number':606,'multiline':False]['text':'/ @param[out] stcp  Status column attributes','line_number':607,'multiline':False]['text':' When called for the first non-filler row of line "lnum" set num v:vars','line_number':610,'multiline':False]['text':' When a buffer's line count has changed, make a best estimate for the full','line_number':613,'multiline':False]['text':' width of the status column by building with "w_nrwidth_line_count". Add','line_number':614,'multiline':False]['text':' potentially truncated width and rebuild before drawing anything.','line_number':615,'multiline':False]['text':' Add truncated width to avoid unnecessary redraws','line_number':621,'multiline':False]['text':' Force a redraw in case of error or when truncated','line_number':633,'multiline':False]['text':' Avoid truncating 'statuscolumn'','line_number':635,'multiline':False]['text':' 'statuscolumn' reset due to error','line_number':638,'multiline':False]['text':' Reset text/highlight pointer and current attr for new line','line_number':646,'multiline':False]['text':' Fill up with ' '','line_number':654,'multiline':False]['text':'/ Get information needed to display the next segment in the 'statuscolumn'.','line_number':660,'multiline':False]['text':'/ If not yet at the end, prepare for next segment and decrement "wlv->draw_state".','line_number':661,'multiline':False]['text':'/','line_number':662,'multiline':False]['text':'/ @param stcp  Status column attributes','line_number':663,'multiline':False]['text':'/ @param[in,out]  wlv','line_number':664,'multiline':False]['text':' Prepare for next highlight section if not yet at the end','line_number':675,'multiline':False]['text':' Skip over empty highlight sections','line_number':683,'multiline':False]['text':' draw indent after showbreak value','line_number':696,'multiline':False]['text':' after the showbreak, draw the breakindent','line_number':699,'multiline':False]['text':' draw 'breakindent': indent wrapped text accordingly','line_number':703,'multiline':False]['text':' if wlv->need_showbreak is set, breakindent also applies','line_number':706,'multiline':False]['text':' Correct end of highlighted area for 'breakindent',','line_number':726,'multiline':False]['text':' required wen 'linebreak' is also set.','line_number':727,'multiline':False]['text':' TODO(bfredl): check this doesn't inhibit TUI-style','line_number':738,'multiline':False]['text':'               clear-to-end-of-line.','line_number':739,'multiline':False]['text':' Draw "deleted" diff line(s)','line_number':745,'multiline':False]['text':' Draw 'showbreak' at the start of each broken line.','line_number':759,'multiline':False]['text':' Correct start of highlighted area for 'showbreak'.','line_number':770,'multiline':False]['text':' Correct end of highlighted area for 'showbreak',','line_number':775,'multiline':False]['text':' required when 'linebreak' is also set.','line_number':776,'multiline':False]['text':' Combine 'showbreak' with 'cursorline', prioritizing 'showbreak'.','line_number':780,'multiline':False]['text':' We make a compromise here (#7383):','line_number':791,'multiline':False]['text':'  * low-priority CursorLine if fg is not set','line_number':792,'multiline':False]['text':'  * high-priority ("same as Vim" priority) CursorLine if fg is set','line_number':793,'multiline':False]['text':'/ Checks if there is more inline virtual text that need to be drawn.','line_number':806,'multiline':False]['text':' need to find inline virtual text','line_number':832,'multiline':False]['text':' no more inline virtual text here','line_number':852,'multiline':False]['text':' already inside existing inline virtual text with multiple chunks','line_number':856,'multiline':False]['text':' If the text didn't reach until the first window','line_number':871,'multiline':False]['text':' column we need to skip cells.','line_number':872,'multiline':False]['text':' FIXME: this should use virt_text_width instead','line_number':874,'multiline':False]['text':' Skipped cells needed to be accounted for in vcol.','line_number':881,'multiline':False]['text':' the whole text is left of the window, drop','line_number':885,'multiline':False]['text':' it and advance to the next one','line_number':886,'multiline':False]['text':' Skipped cells needed to be accounted for in vcol.','line_number':888,'multiline':False]['text':' go to the start so the next virtual text chunk can be selected.','line_number':892,'multiline':False]['text':' find start of trailing whitespace','line_number':905,'multiline':False]['text':' find end of leading whitespace','line_number':921,'multiline':False]['text':' in a line full of spaces all of them are treated as trailing','line_number':928,'multiline':False]['text':' keep track of the first column not filled with spaces','line_number':931,'multiline':False]['text':'/ Start a screen line at column zero.','line_number':939,'multiline':False]['text':' reset the drawing state for the start of a wrapped line','line_number':947,'multiline':False]['text':'/ Called when wlv->draw_state is set to WL_LINE.','line_number':961,'multiline':False]['text':' Continue item from end of wrapped line.','line_number':965,'multiline':False]['text':'/ Display line "lnum" of window "wp" on the screen.','line_number':978,'multiline':False]['text':'/ wp->w_virtcol needs to be valid.','line_number':979,'multiline':False]['text':'/','line_number':980,'multiline':False]['text':'/ @param lnum         line to display','line_number':981,'multiline':False]['text':'/ @param startrow     first row relative to window grid','line_number':982,'multiline':False]['text':'/ @param endrow       last grid row to be redrawn','line_number':983,'multiline':False]['text':'/ @param number_only  only update the number column','line_number':984,'multiline':False]['text':'/ @param spv          'spell' related variables kept between calls for "wp"','line_number':985,'multiline':False]['text':'/ @param foldinfo     fold info for this line','line_number':986,'multiline':False]['text':'/ @param[in, out] providers  decoration providers active this line','line_number':987,'multiline':False]['text':'/                            items will be disables if they cause errors','line_number':988,'multiline':False]['text':'/                            or explicitly return `false`.','line_number':989,'multiline':False]['text':'/','line_number':990,'multiline':False]['text':'/ @return             the number of last row the line occupies.','line_number':991,'multiline':False]['text':' variables passed between functions','line_number':995,'multiline':False]['text':' "wlv.vcol" of previous character','line_number':997,'multiline':False]['text':' current line','line_number':998,'multiline':False]['text':' current position in "line"','line_number':999,'multiline':False]['text':' grid specific to the window','line_number':1000,'multiline':False]['text':' used for p_extra when displaying curwin->w_p_lcs_chars.eol','line_number':1002,'multiline':False]['text':' at end-of-line','line_number':1003,'multiline':False]['text':' char_attr saved for n_attr','line_number':1006,'multiline':False]['text':' chars with overruling special attr','line_number':1007,'multiline':False]['text':' char_attr saved for n_attr3','line_number':1008,'multiline':False]['text':' start of inverting after cursor','line_number':1010,'multiline':False]['text':' don't invert the cursor','line_number':1011,'multiline':False]['text':' char_attr has priority','line_number':1016,'multiline':False]['text':' Visual or incsearch highlighting in this line','line_number':1017,'multiline':False]['text':' attributes for Visual and incsearch highlighting','line_number':1018,'multiline':False]['text':' attributes desired by highlighting','line_number':1019,'multiline':False]['text':' attributes desired by 'hlsearch'','line_number':1020,'multiline':False]['text':' saved attr for 'cursorcolumn'','line_number':1021,'multiline':False]['text':' attributes desired by syntax and extmarks','line_number':1022,'multiline':False]['text':' this buffer has syntax highl.','line_number':1023,'multiline':False]['text':' attributes for folded line','line_number':1024,'multiline':False]['text':' 1 if highlighted char after EOL','line_number':1026,'multiline':False]['text':' highlight colorcolumn','line_number':1027,'multiline':False]['text':' pointer to according columns array','line_number':1028,'multiline':False]['text':' text with start of the next line','line_number':1030,'multiline':False]['text':' column where nextline[] starts','line_number':1031,'multiline':False]['text':' index in nextline[] where next line','line_number':1032,'multiline':False]['text':' starts','line_number':1033,'multiline':False]['text':' attributes desired by spelling','line_number':1034,'multiline':False]['text':' last byte with same spell_attr','line_number':1035,'multiline':False]['text':' checked column for current line','line_number':1036,'multiline':False]['text':' has syntax or linebreak','line_number':1037,'multiline':False]['text':' attributes desired by multibyte','line_number':1038,'multiline':False]['text':' multi-byte byte length','line_number':1039,'multiline':False]['text':' decoded multi-byte character','line_number':1040,'multiline':False]['text':' complete screen char','line_number':1041,'multiline':False]['text':' first col of changed area','line_number':1042,'multiline':False]['text':' last col of changed area','line_number':1043,'multiline':False]['text':' in multiple consecutive spaces','line_number':1044,'multiline':False]['text':' position in lcs-multispace string','line_number':1045,'multiline':False]['text':' if search_attr is from :match','line_number':1049,'multiline':False]['text':' this buffer has decoration','line_number':1050,'multiline':False]['text':' search_attr to be used when n_extra goes to zero','line_number':1052,'multiline':False]['text':' idem for area_attr','line_number':1053,'multiline':False]['text':' idem for decor_attr','line_number':1054,'multiline':False]['text':' offset for window columns','line_number':1057,'multiline':False]['text':' whether in Visual selection, for virtual text','line_number':1058,'multiline':False]['text':' call decor_recheck_draw_col() at next char','line_number':1059,'multiline':False]['text':' Hold value returned by get_foldtext','line_number':1061,'multiline':False]['text':' 'cursorlineopt' has "screenline" and cursor is in this line','line_number':1065,'multiline':False]['text':' margin columns for the screen line, needed for when 'cursorlineopt'','line_number':1067,'multiline':False]['text':' contains "screenline"','line_number':1068,'multiline':False]['text':'/< cchar for match functions','line_number':1072,'multiline':False]['text':' To speed up the loop below, set extra_check when there is linebreak,','line_number':1108,'multiline':False]['text':' trailing white space and/or syntax processing to be done.','line_number':1109,'multiline':False]['text':' Prepare for syntax highlighting in this line.  When there is an','line_number':1113,'multiline':False]['text':' error, stop syntax highlighting.','line_number':1114,'multiline':False]['text':' Check for columns to display for 'colorcolumn'.','line_number':1137,'multiline':False]['text':' handle Visual active in this window','line_number':1143,'multiline':False]['text':' Visual is after curwin->w_cursor','line_number':1148,'multiline':False]['text':' Visual is before curwin->w_cursor','line_number':1152,'multiline':False]['text':' block mode','line_number':1158,'multiline':False]['text':' non-block mode','line_number':1164,'multiline':False]['text':' linewise','line_number':1168,'multiline':False]['text':' Check if the char under the cursor should be inverted (highlighted).','line_number':1196,'multiline':False]['text':' if inverting in this line set area_highlighting','line_number':1202,'multiline':False]['text':' handle 'incsearch' and ":s///c" highlighting','line_number':1207,'multiline':False]['text':' do at least one character; happens when past end of line','line_number':1224,'multiline':False]['text':' added line','line_number':1240,'multiline':False]['text':' changed text','line_number':1242,'multiline':False]['text':' changed line','line_number':1244,'multiline':False]['text':' added line','line_number':1247,'multiline':False]['text':' Cursor line highlighting for 'cursorline' in the current window.','line_number':1263,'multiline':False]['text':' Do not show the cursor line in the text when Visual mode is active,','line_number':1265,'multiline':False]['text':' because it's not clear what is selected then.','line_number':1266,'multiline':False]['text':' TODO(bfredl, vigoux): line_attr should not take priority over decoration!','line_number':1280,'multiline':False]['text':' Draw the 'statuscolumn' if option is set.','line_number':1285,'multiline':False]['text':' Highlight the current line in the quickfix window.','line_number':1305,'multiline':False]['text':' Prepare for spell checking.','line_number':1320,'multiline':False]['text':' When a word wrapped from the previous line the start of the','line_number':1323,'multiline':False]['text':' current line is valid.','line_number':1324,'multiline':False]['text':' Previous line was not spell checked, check for capital. This happens','line_number':1328,'multiline':False]['text':' for the first line in an updated region or after a closed fold.','line_number':1329,'multiline':False]['text':' Get the start of the next line, so that words that wrap to the','line_number':1337,'multiline':False]['text':' next line are found too: "et<line-break>al.".','line_number':1338,'multiline':False]['text':' Trick: skip a few chars for C/shell/Vim comments','line_number':1339,'multiline':False]['text':' If current line is empty, check first word in next line for capital.','line_number':1348,'multiline':False]['text':' For checking first word with a capital skip white space.','line_number':1354,'multiline':False]['text':' Copy the end of the current line into nextline[].','line_number':1358,'multiline':False]['text':' No next line or it is empty.','line_number':1360,'multiline':False]['text':' Short line, use it completely and append the start of the','line_number':1366,'multiline':False]['text':' next line.','line_number':1367,'multiline':False]['text':' Long line, use only the last SPWORDLEN bytes.','line_number':1373,'multiline':False]['text':' start of trailing spaces','line_number':1384,'multiline':False]['text':' start of leading spaces','line_number':1385,'multiline':False]['text':' 'eol'  until it's been used','line_number':1387,'multiline':False]['text':' 'prec' until it's been used','line_number':1388,'multiline':False]['text':' 'nowrap' or 'wrap' and a single line that doesn't fit: Advance to the','line_number':1403,'multiline':False]['text':' first character to be displayed.','line_number':1404,'multiline':False]['text':' When:','line_number':1448,'multiline':False]['text':' - 'cuc' is set, or','line_number':1449,'multiline':False]['text':' - 'colorcolumn' is set, or','line_number':1450,'multiline':False]['text':' - 'virtualedit' is set, or','line_number':1451,'multiline':False]['text':' - the visual mode is active,','line_number':1452,'multiline':False]['text':' the end of the line may be before the start of the displayed part.','line_number':1453,'multiline':False]['text':' Handle a character that's not completely on the screen: Put ptr at','line_number':1461,'multiline':False]['text':' that character but skip the first few screen characters.','line_number':1462,'multiline':False]['text':' Adjust for when the inverted text is before the screen,','line_number':1472,'multiline':False]['text':' and when the start of the inverted text is before the screen.','line_number':1473,'multiline':False]['text':' When w_skipcol is non-zero, first line needs 'showbreak'','line_number':1480,'multiline':False]['text':' When spell checking a word we need to figure out the start of the','line_number':1484,'multiline':False]['text':' word and if it's badly spelled or not.','line_number':1485,'multiline':False]['text':' spell_move_to() may call ml_get() and make "line" invalid','line_number':1496,'multiline':False]['text':' no bad word found at line start, don't check until end of a','line_number':1501,'multiline':False]['text':' word','line_number':1502,'multiline':False]['text':' bad word found, use attributes until end of word','line_number':1506,'multiline':False]['text':' Turn index into actual attributes.','line_number':1510,'multiline':False]['text':' Need to restart syntax highlighting for this line.','line_number':1517,'multiline':False]['text':' Correct highlighting for cursor that can't be disabled.','line_number':1524,'multiline':False]['text':' Avoids having to check this for each character.','line_number':1525,'multiline':False]['text':' highlighting starts at cursor, let it start just after the','line_number':1529,'multiline':False]['text':' cursor','line_number':1530,'multiline':False]['text':' restart highlighting after the cursor','line_number':1534,'multiline':False]['text':' "line" may have been updated','line_number':1548,'multiline':False]['text':' won't highlight after TERM_ATTRS_MAX columns','line_number':1553,'multiline':False]['text':' Repeat for the whole displayed line.','line_number':1563,'multiline':False]['text':'/< match wants to conceal','line_number':1565,'multiline':False]['text':' Skip this quickly when working on the text.','line_number':1570,'multiline':False]['text':' Draw the cmdline character.','line_number':1581,'multiline':False]['text':' Skip the column states if there is a "virt_left_col" line.','line_number':1599,'multiline':False]['text':' Skip fold, sign and number states if 'statuscolumn' is set.','line_number':1602,'multiline':False]['text':' sign column, this is hit until sign_idx reaches count','line_number':1612,'multiline':False]['text':' Show the sign column when desired.','line_number':1614,'multiline':False]['text':' Show the line number, if desired.','line_number':1627,'multiline':False]['text':' Draw the 'statuscolumn' if option is set.','line_number':1634,'multiline':False]['text':' Get the line again as evaluating 'statuscolumn' may free it.','line_number':1643,'multiline':False]['text':' Check if 'breakindent' applies and show it.','line_number':1659,'multiline':False]['text':' May change wlv.draw_state to WL_BRI or WL_BRI - 1.','line_number':1660,'multiline':False]['text':' hide virt_text on text hidden by 'nowrap' or 'smoothscroll'','line_number':1674,'multiline':False]['text':' use wlv.saved_ values','line_number':1677,'multiline':False]['text':' When still displaying '$' of change command, stop at cursor','line_number':1687,'multiline':False]['text':' don't clear anything after wlv.col','line_number':1695,'multiline':False]['text':' Pretend we have finished updating the window.  Except when','line_number':1697,'multiline':False]['text':' 'cursorcolumn' is set.','line_number':1698,'multiline':False]['text':' Duplicate the Visual area check after this block,','line_number':1721,'multiline':False]['text':' but don't check inside p_extra here.','line_number':1722,'multiline':False]['text':' restore search_attr and area_attr when n_extra is down to zero','line_number':1747,'multiline':False]['text':' TODO(bfredl): this is ugly as fuck. look if we can do this some other way.','line_number':1748,'multiline':False]['text':' handle Visual or match highlighting in this line','line_number':1765,'multiline':False]['text':' not at margin','line_number':1772,'multiline':False]['text':' start highlighting','line_number':1774,'multiline':False]['text':' stop highlighting','line_number':1779,'multiline':False]['text':' Check for start/end of 'hlsearch' and other matches.','line_number':1784,'multiline':False]['text':' After end, check for start/end of next match.','line_number':1785,'multiline':False]['text':' When another match, have to check for start again.','line_number':1786,'multiline':False]['text':' "line" may have been changed','line_number':1791,'multiline':False]['text':' Do not allow a conceal over EOL otherwise EOL will be missed','line_number':1793,'multiline':False]['text':' and bad things happen.','line_number':1794,'multiline':False]['text':' When there is extra text (eg: virtual text) it gets the','line_number':1801,'multiline':False]['text':' diff highlighting for the line, but not for changed text.','line_number':1802,'multiline':False]['text':' changed text','line_number':1805,'multiline':False]['text':' changed line','line_number':1809,'multiline':False]['text':' Overlay CursorLine onto diff-mode highlight.','line_number':1812,'multiline':False]['text':' Low-priority CursorLine','line_number':1814,'multiline':False]['text':' Decide which of the highlight attributes to use.','line_number':1821,'multiline':False]['text':' let search highlight show in Visual area if possible','line_number':1827,'multiline':False]['text':' Use wlv.line_attr when not in the Visual or 'incsearch' area','line_number':1837,'multiline':False]['text':' (area_attr may be 0 when "noinvcur" is set).','line_number':1838,'multiline':False]['text':' Get the line again as evaluating 'foldtext' may free it.','line_number':1863,'multiline':False]['text':' Fill rest of line with 'fold'.','line_number':1869,'multiline':False]['text':' Truncate the folding.','line_number':1876,'multiline':False]['text':' Get the next character to put on the screen.','line_number':1880,'multiline':False]['text':'','line_number':1881,'multiline':False]['text':' The "p_extra" points to the extra stuff that is inserted to','line_number':1882,'multiline':False]['text':' represent special characters (non-printable stuff) and other','line_number':1883,'multiline':False]['text':' things.  When all characters are the same, c_extra is used.','line_number':1884,'multiline':False]['text':' If c_final is set, it will compulsorily be used at the end.','line_number':1885,'multiline':False]['text':' "p_extra" must end in a NUL to avoid utfc_ptr2len() reads past','line_number':1886,'multiline':False]['text':' "p_extra[n_extra]".','line_number':1887,'multiline':False]['text':' For the '$' of the 'list' option, n_extra == 1, p_extra == "".','line_number':1888,'multiline':False]['text':' mb_l=0 at the end-of-line NUL','line_number':1898,'multiline':False]['text':' If a double-width char doesn't fit display a '>' in the last column.','line_number':1903,'multiline':False]['text':' Don't advance the pointer but put the character at the start of the next line.','line_number':1904,'multiline':False]['text':' Only restore search_attr and area_attr after "n_extra" in','line_number':1923,'multiline':False]['text':' the next screen line is also done.','line_number':1924,'multiline':False]['text':' wlv.extra_attr should be used at this position but not','line_number':1941,'multiline':False]['text':' any further.','line_number':1942,'multiline':False]['text':' skip writing the buffer line itself','line_number':1949,'multiline':False]['text':' first byte of next char','line_number':1954,'multiline':False]['text':' no more cells to skip','line_number':1957,'multiline':False]['text':' Get a character from the line itself.','line_number':1961,'multiline':False]['text':' Overlong encoded ASCII or ASCII with composing char','line_number':1965,'multiline':False]['text':' is displayed normally, except a NUL.','line_number':1966,'multiline':False]['text':' Illegal UTF-8 byte: display as <xx>.','line_number':1974,'multiline':False]['text':' Non-printable character : display as ? or fullwidth ?.','line_number':1975,'multiline':False]['text':' reverse','line_number':1977,'multiline':False]['text':' save current attr','line_number':1990,'multiline':False]['text':' at the NUL at end-of-line','line_number':1992,'multiline':False]['text':' If a double-width char doesn't fit display a '>' in the','line_number':1995,'multiline':False]['text':' last column; the character is displayed at the start of the','line_number':1996,'multiline':False]['text':' next line.','line_number':1997,'multiline':False]['text':' Put pointer back so that the character will be','line_number':2003,'multiline':False]['text':' displayed at the start of the next line.','line_number':2004,'multiline':False]['text':' If a double-width char doesn't fit at the left side display a '<' in','line_number':2011,'multiline':False]['text':' the first column.  Don't do this for unprintable characters.','line_number':2012,'multiline':False]['text':' save current attr','line_number':2023,'multiline':False]['text':' Get extmark and syntax attributes, unless still at the start of the line','line_number':2033,'multiline':False]['text':' (double-wide char that doesn't fit).','line_number':2034,'multiline':False]['text':' Get the syntax attribute for the character.  If there','line_number':2037,'multiline':False]['text':' is an error, disable syntax highlighting.','line_number':2038,'multiline':False]['text':' Need to get the line again, a multi-line regexp may','line_number':2056,'multiline':False]['text':' have made it invalid.','line_number':2057,'multiline':False]['text':' no concealing past the end of the line, it interferes','line_number':2061,'multiline':False]['text':' with line highlighting.','line_number':2062,'multiline':False]['text':' extmarks take preceedence over syntax.c','line_number':2067,'multiline':False]['text':' Check spelling (unless at the end of the line).','line_number':2089,'multiline':False]['text':' Only do this when there is no syntax highlighting, the','line_number':2090,'multiline':False]['text':' @Spell cluster is not used or the current syntax item','line_number':2091,'multiline':False]['text':' contains the @Spell cluster.','line_number':2092,'multiline':False]['text':' do not calculate cap_col at the end of the line or when','line_number':2096,'multiline':False]['text':' only white space is following','line_number':2097,'multiline':False]['text':' Use nextline[] if possible, it has the start of the','line_number':2103,'multiline':False]['text':' next line concatenated.','line_number':2104,'multiline':False]['text':' In Insert mode only highlight a word that','line_number':2116,'multiline':False]['text':' doesn't touch the cursor.','line_number':2117,'multiline':False]['text':' Remember that the good word continues at the','line_number':2130,'multiline':False]['text':' start of the next line.','line_number':2131,'multiline':False]['text':' Turn index into actual attributes.','line_number':2136,'multiline':False]['text':' Remember that the word in the next line','line_number':2143,'multiline':False]['text':' must start with a capital.','line_number':2144,'multiline':False]['text':' Compute the actual column.','line_number':2148,'multiline':False]['text':' we don't want linebreak to apply for lines that start with','line_number':2166,'multiline':False]['text':' leading spaces, followed by long letters (since it would add','line_number':2167,'multiline':False]['text':' a break at the beginning of a line and this might be unexpected)','line_number':2168,'multiline':False]['text':'','line_number':2169,'multiline':False]['text':' So only allow to linebreak, once we have found chars not in','line_number':2170,'multiline':False]['text':' 'breakat' in the line.','line_number':2171,'multiline':False]['text':' Found last space before word: check for line break.','line_number':2176,'multiline':False]['text':' do not want virtual text to be counted here','line_number':2184,'multiline':False]['text':' Do not continue search/match highlighting over the','line_number':2190,'multiline':False]['text':' line break, but for TABs the highlighting should','line_number':2191,'multiline':False]['text':' include the complete width of the character','line_number':2192,'multiline':False]['text':' See "Tab alignment" below.','line_number':2204,'multiline':False]['text':' 'list': Change char 160 to 'nbsp' and space to 'space'.','line_number':2221,'multiline':False]['text':' But not when the character is followed by a composing','line_number':2222,'multiline':False]['text':' character (use mb_l to check that).','line_number':2223,'multiline':False]['text':' save current attr','line_number':2243,'multiline':False]['text':' save current attr','line_number':2265,'multiline':False]['text':' Handling of non-printable characters.','line_number':2270,'multiline':False]['text':' when getting a character from the file, we may have to','line_number':2272,'multiline':False]['text':' turn it into something else on the way to putting it on the screen.','line_number':2273,'multiline':False]['text':' removed showbreak length','line_number':2276,'multiline':False]['text':' Only adjust the tab_len, when at the first column after the','line_number':2279,'multiline':False]['text':' showbreak value was drawn.','line_number':2280,'multiline':False]['text':' tab amount depends on current column','line_number':2284,'multiline':False]['text':' there are characters to conceal','line_number':2296,'multiline':False]['text':' boguscols before FIX_FOR_BOGUSCOLS macro from above.','line_number':2299,'multiline':False]['text':' If wlv.n_extra > 0, it gives the number of chars','line_number':2306,'multiline':False]['text':' to use for a tab, else we need to calculate the','line_number':2307,'multiline':False]['text':' width for a tab.','line_number':2308,'multiline':False]['text':' if tab3 is given, use it for the last char','line_number':2329,'multiline':False]['text':' n_extra will be increased by FIX_FOX_BOGUSCOLS','line_number':2337,'multiline':False]['text':' macro below, so need to adjust for that here','line_number':2338,'multiline':False]['text':' Tab alignment should be identical regardless of','line_number':2348,'multiline':False]['text':' 'conceallevel' value. So tab compensates of all','line_number':2349,'multiline':False]['text':' previous concealed characters, and thus resets','line_number':2350,'multiline':False]['text':' vcol_off and boguscols accumulated so far in the','line_number':2351,'multiline':False]['text':' line. Note that the tab can be longer than','line_number':2352,'multiline':False]['text':' 'tabstop' when there are concealed characters.','line_number':2353,'multiline':False]['text':' Make sure, the highlighting for the tab char will be','line_number':2356,'multiline':False]['text':' correctly set further below (effectively reverts the','line_number':2357,'multiline':False]['text':' FIX_FOR_BOGSUCOLS macro).','line_number':2358,'multiline':False]['text':' using p_extra from above','line_number':2369,'multiline':False]['text':' save current attr','line_number':2376,'multiline':False]['text':' Display a '$' after the line or highlight an extra','line_number':2393,'multiline':False]['text':' character if the line break is included.','line_number':2394,'multiline':False]['text':' For a diff line the highlighting continues after the "$".','line_number':2395,'multiline':False]['text':' In virtualedit, visual selections may extend beyond end of line','line_number':2399,'multiline':False]['text':' put it back at the NUL','line_number':2412,'multiline':False]['text':' reverse "<12>"','line_number':2422,'multiline':False]['text':' NOLINT(runtime/printf)','line_number':2432,'multiline':False]['text':' save current attr','line_number':2443,'multiline':False]['text':' put it back at the NUL','line_number':2453,'multiline':False]['text':' First time at this concealed item: display one','line_number':2470,'multiline':False]['text':' character.','line_number':2471,'multiline':False]['text':' not showing the '>', put pointer back to avoid getting stuck','line_number':2514,'multiline':False]['text':' end of printing from buffer content','line_number':2517,'multiline':False]['text':' In the cursor line and we may be concealing characters: correct','line_number':2519,'multiline':False]['text':' the cursor column when we reach its position.','line_number':2520,'multiline':False]['text':' Don't override visual selection highlighting.','line_number':2531,'multiline':False]['text':' search_attr_from_match can be restored now that the extra_attr has been applied','line_number':2537,'multiline':False]['text':' Handle the case where we are in column 0 but not on the first','line_number':2542,'multiline':False]['text':' character of the line and the user wants us to show us a','line_number':2543,'multiline':False]['text':' special character (via 'listchars' option "precedes:<char>".','line_number':2544,'multiline':False]['text':' Double-width character being overwritten by the "precedes"','line_number':2554,'multiline':False]['text':' character, need to fill up half the character.','line_number':2555,'multiline':False]['text':' save current attr','line_number':2563,'multiline':False]['text':' overwriting char_attr','line_number':2564,'multiline':False]['text':' At end of the text line or just after the last character.','line_number':2568,'multiline':False]['text':' flag to indicate whether prevcol equals startcol of search_hl or','line_number':2570,'multiline':False]['text':' one of the matches','line_number':2571,'multiline':False]['text':' Invert at least one char, used for Visual and empty line or','line_number':2575,'multiline':False]['text':' highlight match at end of line. If it's beyond the last','line_number':2576,'multiline':False]['text':' char on the screen, just overwrite that one (tricky!)  Not','line_number':2577,'multiline':False]['text':' needed when a '$' was displayed for 'list'.','line_number':2578,'multiline':False]['text':' highlight 'hlsearch' match at end of line','line_number':2584,'multiline':False]['text':' At the window boundary, highlight the last character','line_number':2592,'multiline':False]['text':' instead (better than nothing).','line_number':2593,'multiline':False]['text':' Add a blank character to highlight.','line_number':2597,'multiline':False]['text':' Use attributes from match with highest priority among','line_number':2601,'multiline':False]['text':' 'search_hl' and the match list.','line_number':2602,'multiline':False]['text':' At end of the text line.','line_number':2622,'multiline':False]['text':' Highlight 'cursorcolumn' & 'colorcolumn' past end of the line.','line_number':2624,'multiline':False]['text':' check if line ends before left margin','line_number':2631,'multiline':False]['text':' Get rid of the boguscols now, we want to draw until the right','line_number':2635,'multiline':False]['text':' edge for 'cursorcolumn'.','line_number':2636,'multiline':False]['text':' Make sure alignment is the same regardless','line_number':2645,'multiline':False]['text':' if listchars=eol:X is used or not.','line_number':2646,'multiline':False]['text':' determine rightmost colorcolumn to possibly draw','line_number':2667,'multiline':False]['text':' TODO(bfredl): integrate with the common beyond-the-end-loop','line_number':2720,'multiline':False]['text':' terminal buffers may need to highlight beyond the end of the logical line','line_number':2722,'multiline':False]['text':' Update w_cline_height and w_cline_folded if the cursor line was','line_number':2740,'multiline':False]['text':' updated (saves a call to plines_win() later).','line_number':2741,'multiline':False]['text':' Show "extends" character from 'listchars' if beyond the line end and','line_number':2752,'multiline':False]['text':' 'list' is set.','line_number':2753,'multiline':False]['text':' Tricky: there might be a virtual text just _after_ the last char','line_number':2762,'multiline':False]['text':' advance to the next 'colorcolumn'','line_number':2775,'multiline':False]['text':' Highlight the cursor column if 'cursorcolumn' is set.  But don't','line_number':2780,'multiline':False]['text':' highlight the cursor position itself.','line_number':2781,'multiline':False]['text':' Also highlight the 'colorcolumn' if it is different than','line_number':2782,'multiline':False]['text':' 'cursorcolumn'','line_number':2783,'multiline':False]['text':' Also highlight the 'colorcolumn' if 'breakindent' and/or 'showbreak'','line_number':2784,'multiline':False]['text':' options are set','line_number':2785,'multiline':False]['text':' Apply lowest-priority line attr now, so everything can override it.','line_number':2804,'multiline':False]['text':' Store character to be displayed.','line_number':2813,'multiline':False]['text':' Skip characters that are left of the screen for 'nowrap'.','line_number':2814,'multiline':False]['text':' Store the character.','line_number':2816,'multiline':False]['text':' Need to fill two screen columns.','line_number':2839,'multiline':False]['text':' UTF-8: Put a 0 in the second screen char.','line_number':2842,'multiline':False]['text':' When "wlv.tocol" is halfway through a character, set it to the end','line_number':2852,'multiline':False]['text':' of the character, otherwise highlighting won't stop.','line_number':2853,'multiline':False]['text':' Special voodoo required if 'wrap' is on.','line_number':2867,'multiline':False]['text':'','line_number':2868,'multiline':False]['text':' Advance the column indicator to force the line','line_number':2869,'multiline':False]['text':' drawing to wrap early. This will make the line','line_number':2870,'multiline':False]['text':' take up the same screen space when parts are concealed,','line_number':2871,'multiline':False]['text':' so that cursor line computations aren't messed up.','line_number':2872,'multiline':False]['text':'','line_number':2873,'multiline':False]['text':' To avoid the fictitious advance of 'wlv.col' causing','line_number':2874,'multiline':False]['text':' trailing junk to be written out of the screen line','line_number':2875,'multiline':False]['text':' we are building, 'boguscols' keeps track of the number','line_number':2876,'multiline':False]['text':' of bad columns we have advanced.','line_number':2877,'multiline':False]['text':' Need to fill two screen columns.','line_number':2887,'multiline':False]['text':' The skipped cells need to be accounted for in vcol.','line_number':2905,'multiline':False]['text':' Only advance the "wlv.vcol" when after the 'number' or','line_number':2911,'multiline':False]['text':' 'relativenumber' column.','line_number':2912,'multiline':False]['text':' restore attributes after "predeces" in 'listchars'','line_number':2922,'multiline':False]['text':' restore attributes after last 'listchars' or 'number' char','line_number':2927,'multiline':False]['text':' At the end of screen line: might need to peek for decorations just after','line_number':2933,'multiline':False]['text':' this position.','line_number':2934,'multiline':False]['text':' Check position/hiding of virtual text again on next screen line.','line_number':2937,'multiline':False]['text':' Without wrapping, we might need to display right_align and win_col','line_number':2940,'multiline':False]['text':' virt_text for the entire text line.','line_number':2941,'multiline':False]['text':' At end of screen line and there is more to come: Display the line','line_number':2946,'multiline':False]['text':' so far.  If there is no more to display it is caught above.','line_number':2947,'multiline':False]['text':' Wrapping enabled.','line_number':2956,'multiline':False]['text':' Not drawing diff filler lines.','line_number':2957,'multiline':False]['text':' Haven't printed the lcs_eol character.','line_number':2958,'multiline':False]['text':' Not the last line being displayed.','line_number':2959,'multiline':False]['text':' Window spans the width of the screen,','line_number':2960,'multiline':False]['text':' or has dedicated grid.','line_number':2961,'multiline':False]['text':' Not right-to-left.','line_number':2962,'multiline':False]['text':' unused','line_number':2976,'multiline':False]['text':' Force a redraw of the first column of the next line.','line_number':2979,'multiline':False]['text':' When not wrapping and finished diff lines, or when displayed','line_number':2987,'multiline':False]['text':' '$' and highlighting until last column, break here.','line_number':2988,'multiline':False]['text':' When the window is too narrow draw all "@" lines.','line_number':2993,'multiline':False]['text':' When line got too long for screen break here.','line_number':3000,'multiline':False]['text':' don't draw status column if "n" is in 'cpo'','line_number':3014,'multiline':False]['text':' re-evaluate with new v:virtnum','line_number':3016,'multiline':False]['text':' When the filler lines are actually below the last line of the','line_number':3021,'multiline':False]['text':' file, don't draw the line itself, break here.','line_number':3022,'multiline':False]['text':' for every character in the line','line_number':3027,'multiline':False]['text':' Take care of putting "<<<" on the first line for 'smoothscroll'.','line_number':3047,'multiline':False]['text':' do not overwrite the 'showbreak' text with "<<<"','line_number':3049,'multiline':False]['text':' do not overwrite the 'listchars' "precedes" text with "<<<"','line_number':3051,'multiline':False]['text':' do not overwrite the line number, change "123 text" to "123<<<xt".','line_number':3055,'multiline':False]['text':' When the first half of a double-width character is','line_number':3063,'multiline':False]['text':' overwritten, change the second half to a space.','line_number':3064,'multiline':False]