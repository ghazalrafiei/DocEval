['text':'
htop - LinuxProcessTable.c
(C) 2014 Hisham H. Muhammad
Released under the GNU GPLv2+, see the COPYING file
in the source distribution for its full text.
','line_number':1,'multiline':True]['text':' IWYU pragma: keep','line_number':8,'multiline':False]['text':' needed for GNU/hurd to get PATH_MAX  // IWYU pragma: keep','line_number':54,'multiline':False]['text':' Not exposed yet. Defined at include/linux/sched.h ','line_number':62,'multiline':True]['text':' only currently supported mode ','line_number':68,'multiline':True]['text':' to upper','line_number':111,'multiline':False]['text':' switch letters and digits','line_number':112,'multiline':False]['text':' skip first token','line_number':147,'multiline':False]['text':' skip spaces','line_number':148,'multiline':False]['text':' mark beginning of path','line_number':149,'multiline':False]['text':' find end of path','line_number':150,'multiline':False]['text':' clear and skip','line_number':151,'multiline':False]['text':' save','line_number':152,'multiline':False]['text':' skip spaces','line_number':153,'multiline':False]['text':' mark beginning of major','line_number':154,'multiline':False]['text':' find end of major','line_number':155,'multiline':False]['text':' clear and skip','line_number':156,'multiline':False]['text':' save','line_number':157,'multiline':False]['text':' skip spaces','line_number':158,'multiline':False]['text':' mark beginning of minorFrom','line_number':159,'multiline':False]['text':'find end of minorFrom','line_number':160,'multiline':False]['text':' if has range','line_number':161,'multiline':False]['text':' clear and skip','line_number':162,'multiline':False]['text':' save','line_number':163,'multiline':False]['text':' mark beginning of minorTo','line_number':164,'multiline':False]['text':' find end of minorTo','line_number':165,'multiline':False]['text':' clear and skip','line_number':166,'multiline':False]['text':' save','line_number':167,'multiline':False]['text':' no range','line_number':168,'multiline':False]['text':' clear and skip','line_number':169,'multiline':False]['text':' save','line_number':170,'multiline':False]['text':' save','line_number':171,'multiline':False]['text':' go to end of line','line_number':173,'multiline':False]['text':' skip','line_number':174,'multiline':False]['text':' Test /proc/PID/smaps_rollup availability (faster to parse, Linux 4.14+)','line_number':212,'multiline':False]['text':' Taken from: https://github.com/torvalds/linux/blob/64570fbc14f8d7cb3fe3995f20e26bc25ce4b2cc/fs/proc/array.c#L120 ','line_number':240,'multiline':True]['text':' (1) pid   -  %d ','line_number':268,'multiline':True]['text':' (2) comm  -  (%s) ','line_number':274,'multiline':True]['text':' (3) state  -  %c ','line_number':284,'multiline':True]['text':' (4) ppid  -  %d ','line_number':288,'multiline':True]['text':' (5) pgrp  -  %d ','line_number':292,'multiline':True]['text':' (6) session  -  %d ','line_number':296,'multiline':True]['text':' (7) tty_nr  -  %d ','line_number':300,'multiline':True]['text':' (8) tpgid  -  %d ','line_number':304,'multiline':True]['text':' (9) flags  -  %u ','line_number':308,'multiline':True]['text':' (10) minflt  -  %lu ','line_number':312,'multiline':True]['text':' (11) cminflt  -  %lu ','line_number':316,'multiline':True]['text':' (12) majflt  -  %lu ','line_number':320,'multiline':True]['text':' (13) cmajflt  -  %lu ','line_number':324,'multiline':True]['text':' (14) utime  -  %lu ','line_number':328,'multiline':True]['text':' (15) stime  -  %lu ','line_number':332,'multiline':True]['text':' (16) cutime  -  %ld ','line_number':336,'multiline':True]['text':' (17) cstime  -  %ld ','line_number':340,'multiline':True]['text':' (18) priority  -  %ld ','line_number':344,'multiline':True]['text':' (19) nice  -  %ld ','line_number':348,'multiline':True]['text':' (20) num_threads  -  %ld ','line_number':352,'multiline':True]['text':' Skip (21) itrealvalue  -  %ld ','line_number':356,'multiline':True]['text':' (22) starttime  -  %llu ','line_number':359,'multiline':True]['text':' Skip (23) - (38) ','line_number':367,'multiline':True]['text':' (39) processor  -  %d ','line_number':374,'multiline':True]['text':' Ignore further fields ','line_number':377,'multiline':True]['text':' HAVE_ANCIENT_VSERVER ','line_number':454,'multiline':True]['text':' HAVE_VSERVER ','line_number':455,'multiline':True]['text':' Note: Linux Kernel documentation states that /proc/<pid>/io may be racy','line_number':512,'multiline':False]['text':' on 32-bit machines. (Documentation/filesystems/proc.rst)','line_number':513,'multiline':False]['text':'ms to s','line_number':524,'multiline':True]['text':'ms to s','line_number':532,'multiline':True]['text':' Short circuit test: Look for a slash','line_number':594,'multiline':False]['text':' Parse format: "%Lx-%Lx %4s %x %2x:%2x %Ld"','line_number':598,'multiline':False]['text':' Skip parsing this hex value','line_number':618,'multiline':False]['text':'Minor shortcut: Once we know there's no file for this region, we skip','line_number':630,'multiline':False]['text':' Virtualbox maps /dev/zero for memory allocation. That results in
          * false positive, so ignore. ','line_number':659,'multiline':True]['text':' unused since Linux 2.6; always 0 ','line_number':696,'multiline':True]['text':' unused since Linux 2.6; always 0 ','line_number':698,'multiline':True]['text':'http://elixir.free-electrons.com/linux/v4.10/source/fs/proc/task_mmu.c#L719','line_number':712,'multiline':False]['text':'kernel will return data in chunks of size PAGE_SIZE or less.','line_number':713,'multiline':False]['text':' Partial line, skip to end of this line','line_number':725,'multiline':False]['text':' Partial line, skip to end of this line','line_number':770,'multiline':False]['text':'Sanity Check: Should never reach here, or the implementation is missing something!','line_number':820,'multiline':False]['text':'CCGROUP is alias to normal CGROUP if shortening fails','line_number':896,'multiline':False]['text':'CCGROUP is alias to normal CGROUP if shortening fails','line_number':913,'multiline':False]['text':'CONTAINER is just "N/A" if shortening fails','line_number':925,'multiline':False]['text':' space for two numeric values and fixed length strings','line_number':951,'multiline':False]['text':' The xxx_delay_total values wrap around on overflow.','line_number':1037,'multiline':False]['text':' (Linux Kernel "Documentation/accounting/taskstats-struct.rst")','line_number':1038,'multiline':False]['text':' max cmdline length on Linux','line_number':1099,'multiline':False]['text':' newline used as delimiter - when forming the mergedCommand, newline is
       * converted to space by Process_makeCommandStr ','line_number':1111,'multiline':True]['text':' Record some information for the argument parsing heuristic below. ','line_number':1116,'multiline':True]['text':' htop considers the next character after the last / that is before
          * basenameOffset, as the start of the basename in cmdline - see
          * Process_writeCommand ','line_number':1128,'multiline':True]['text':' Argument parsing heuristic.
       *
       * This heuristic is used for processes that rewrite their command line.
       * Normally the command line is split by using NUL bytes between each argument.
       * But some programs like chrome flatten this using spaces.
       *
       * This heuristic tries its best to undo this loss of information.
       * To achieve this, we treat every character <= 32 as argument separators
       * (i.e. all of ASCII control sequences and space).
       * We then search for the basename of the cmdline in the first argument we found that way.
       * As path names may contain we try to cross-validate if the path we got that way exists.
       ','line_number':1141,'multiline':True]['text':' From initial scan we know there's at least one space.','line_number':1156,'multiline':False]['text':' Check if that's part of a filename for an existing file.','line_number':1157,'multiline':False]['text':' If we reach here the path does not exist.','line_number':1159,'multiline':False]['text':' Thus begin searching for the part of it that actually is.','line_number':1160,'multiline':False]['text':' Any ASCII control or space used as delimiter ','line_number':1165,'multiline':True]['text':' Restore if this wasn't it','line_number':1174,'multiline':False]['text':' Split on every further separator, regardless of path correctness','line_number':1182,'multiline':False]['text':' No token delimiter found, forcibly split','line_number':1197,'multiline':False]['text':' Some command lines are hard to parse, like
       *   file.so [kdeinit5] file local:/run/user/1000/klauncherdqbouY.1.slave-socket local:/run/user/1000/kded5TwsDAx.1.slave-socket
       * Reset if start is behind end.
       ','line_number':1209,'multiline':True]['text':' /proc/[pid]/comm could change, so should be updated ','line_number':1223,'multiline':True]['text':' execve could change /proc/[pid]/exe, so procExe should be updated ','line_number':1233,'multiline':True]['text':' Starttime might not yet be parsed ','line_number':1329,'multiline':True]['text':' set runningTasks from /proc/stat (from Machine_scanCPUTime) ','line_number':1348,'multiline':True]['text':' Ignore all non-directories','line_number':1372,'multiline':False]['text':' The RedHat kernel hides threads with a dot.','line_number':1377,'multiline':False]['text':' I believe this is non-standard.','line_number':1378,'multiline':False]['text':' Just skip all non-number directories.','line_number':1383,'multiline':False]['text':' filename is a number: process directory','line_number':1388,'multiline':False]['text':' Skip task directory of main thread','line_number':1398,'multiline':False]['text':'
       * These conditions will not trigger on first occurrence, cause we need to
       * add the process to the ProcessTable and do all one time scans
       * (e.g. parsing the cmdline to detect a kernel thread)
       * But it will short-circuit subsequent scans.
       ','line_number':1420,'multiline':True]['text':' Check if we really should recalculate the M_LRS value for this process','line_number':1462,'multiline':False]['text':' Copy from process structure in threads and reset if setting got disabled ','line_number':1472,'multiline':True]['text':' Read smaps file of each process only every second pass to improve performance','line_number':1483,'multiline':False]['text':' lhost->period might be 0 after system sleep ','line_number':1516,'multiline':True]['text':'
       * Final section after all data has been gathered
       ','line_number':1593,'multiline':True]['text':' Set at the end when we know if a new entry is a thread ','line_number':1611,'multiline':True]['text':' runningTasks is set in Machine_scanCPUTime() from /proc/stat ','line_number':1615,'multiline':True]['text':' Exception handler.','line_number':1618,'multiline':False]['text':'
             * The only real reason for coming here (apart from Linux violating the /proc API)
             * would be the process going away with its /proc files disappearing (!HAVE_OPENAT).
             * However, we want to keep in the process list for now for the "highlight dying" mode.
             ','line_number':1628,'multiline':True]['text':' A really short-lived process that we don't have full info about ','line_number':1634,'multiline':True]['text':' Refer to sched(7) 'autogroup feature' section','line_number':1650,'multiline':False]['text':' The kernel feature can be enabled/disabled through procfs at','line_number':1651,'multiline':False]['text':' any time, so check for it at the start of each sample - only','line_number':1652,'multiline':False]['text':' read from per-process procfs files if it's globally enabled.','line_number':1653,'multiline':False]['text':' PROCDIR is an absolute path ','line_number':1659,'multiline':True]