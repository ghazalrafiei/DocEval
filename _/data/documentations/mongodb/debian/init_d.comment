['text':'!/bin/sh','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' init.d script with LSB support.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Copyright (c) 2007 Javier Fernandez-Sanguino <jfs@debian.org>','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':' This is free software; you may redistribute it and/or modify','line_number':7,'multiline':False]['text':' it under the terms of the GNU General Public License as','line_number':8,'multiline':False]['text':' published by the Free Software Foundation; either version 2,','line_number':9,'multiline':False]['text':' or (at your option) any later version.','line_number':10,'multiline':False]['text':'','line_number':11,'multiline':False]['text':' This is distributed in the hope that it will be useful, but','line_number':12,'multiline':False]['text':' WITHOUT ANY WARRANTY; without even the implied warranty of','line_number':13,'multiline':False]['text':' MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the','line_number':14,'multiline':False]['text':' GNU General Public License for more details.','line_number':15,'multiline':False]['text':'','line_number':16,'multiline':False]['text':' You should have received a copy of the GNU General Public License with','line_number':17,'multiline':False]['text':' the Debian operating system, in /usr/share/common-licenses/GPL;  if','line_number':18,'multiline':False]['text':' not, write to the Free Software Foundation, Inc., 59 Temple Place,','line_number':19,'multiline':False]['text':' Suite 330, Boston, MA 02111-1307 USA','line_number':20,'multiline':False]['text':'','line_number':21,'multiline':False]['text':'## BEGIN INIT INFO','line_number':22,'multiline':False]['text':' Provides:          mongod','line_number':23,'multiline':False]['text':' Required-Start:    $network $local_fs $remote_fs','line_number':24,'multiline':False]['text':' Required-Stop:     $network $local_fs $remote_fs','line_number':25,'multiline':False]['text':' Should-Start:      $named','line_number':26,'multiline':False]['text':' Should-Stop:','line_number':27,'multiline':False]['text':' Default-Start:     2 3 4 5','line_number':28,'multiline':False]['text':' Default-Stop:      0 1 6','line_number':29,'multiline':False]['text':' Short-Description: An object/document-oriented database','line_number':30,'multiline':False]['text':' Description:       MongoDB is a high-performance, open source, schema-free','line_number':31,'multiline':False]['text':'                    document-oriented data store that's easy to deploy, manage','line_number':32,'multiline':False]['text':'                    and use. It's network accessible, written in C++ and offers','line_number':33,'multiline':False]['text':'                    the following features:','line_number':34,'multiline':False]['text':'','line_number':35,'multiline':False]['text':'                       * Collection oriented storage - easy storage of object-','line_number':36,'multiline':False]['text':'                         style data','line_number':37,'multiline':False]['text':'                       * Full index support, including on inner objects','line_number':38,'multiline':False]['text':'                       * Query profiling','line_number':39,'multiline':False]['text':'                       * Replication and fail-over support','line_number':40,'multiline':False]['text':'                       * Efficient storage of binary data including large','line_number':41,'multiline':False]['text':'                         objects (e.g. videos)','line_number':42,'multiline':False]['text':'                       * Automatic partitioning for cloud-level scalability','line_number':43,'multiline':False]['text':'','line_number':44,'multiline':False]['text':'                    High performance, scalability, and reasonable depth of','line_number':45,'multiline':False]['text':'                    functionality are the goals for the project.','line_number':46,'multiline':False]['text':'## END INIT INFO','line_number':47,'multiline':False]['text':' Defaults.  Can be overridden by the /etc/default/$NAME','line_number':54,'multiline':False]['text':' Other configuration options are located in $CONF file. See here for more:','line_number':55,'multiline':False]['text':' http://dochub.mongodb.org/core/configurationoptions','line_number':56,'multiline':False]['text':' Include mongodb defaults if available.','line_number':61,'multiline':False]['text':' All variables set before this point can be overridden by users, by','line_number':62,'multiline':False]['text':' setting them directly in the defaults file. Use this to explicitly','line_number':63,'multiline':False]['text':' override these values, at your own risk.','line_number':64,'multiline':False]['text':' Handle NUMA access to CPUs (SERVER-3574)','line_number':69,'multiline':False]['text':' This verifies the existence of numactl as well as testing that the command works','line_number':70,'multiline':False]['text':' Time to wait for the server to die, in seconds','line_number':94,'multiline':False]['text':' If this value is set too low you might not','line_number':95,'multiline':False]['text':' let some servers to die gracefully and','line_number':96,'multiline':False]['text':' 'restart' will not work','line_number':97,'multiline':False]['text':' Check if a given process pid's cmdline matches a given name','line_number':105,'multiline':False]['text':' Is this the expected server','line_number':111,'multiline':False]['text':' Check if the process is running looking at /proc','line_number':117,'multiline':False]['text':' (works for all users)','line_number':118,'multiline':False]['text':' No pidfile, probably no daemon present','line_number':120,'multiline':False]['text':' Recommended ulimit values for mongod or mongos','line_number':128,'multiline':False]['text':' See https://docs.mongodb.com/manual/reference/ulimit/#recommended-ulimit-settings','line_number':129,'multiline':False]['text':'','line_number':130,'multiline':False]['text':' In dash, ulimit takes -p for maximum user processes','line_number':138,'multiline':False]['text':' In bash, it's -u','line_number':139,'multiline':False]['text':' Start the process using the wrapper','line_number':147,'multiline':False]['text':' Stop the process using the wrapper','line_number':156,'multiline':False]['text':' Force the process to die killing it manually','line_number':166,'multiline':False]['text':' Is it really dead?','line_number':170,'multiline':False]['text':' Check if it's running first','line_number':188,'multiline':False]['text':' NOTE: Some servers might die some time after they start,','line_number':195,'multiline':False]['text':' this code will detect this issue if STARTTIME is set','line_number':196,'multiline':False]['text':' to a reasonable value','line_number':197,'multiline':False]['text':' Wait some time','line_number':198,'multiline':False]['text':' It's ok, the server started and is running','line_number':200,'multiline':False]['text':' It is not running after we did start','line_number':203,'multiline':False]['text':' Either we could not start it','line_number':207,'multiline':False]['text':' Only stop the server if we see it running','line_number':214,'multiline':False]['text':' If it's not running don't do anything','line_number':219,'multiline':False]['text':' First try to stop gracefully the program','line_number':226,'multiline':False]['text':' If it's still running try to kill it more forcefully','line_number':229,'multiline':False]['text':' Wait some sensible amount, some server need this','line_number':240,'multiline':False]['text':' MongoDB can't reload its configuration.','line_number':259,'multiline':False]