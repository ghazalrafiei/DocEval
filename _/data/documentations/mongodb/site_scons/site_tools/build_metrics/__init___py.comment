['text':' Copyright 2020 MongoDB Inc.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' Permission is hereby granted, free of charge, to any person obtaining','line_number':3,'multiline':False]['text':' a copy of this software and associated documentation files (the','line_number':4,'multiline':False]['text':' "Software"), to deal in the Software without restriction, including','line_number':5,'multiline':False]['text':' without limitation the rights to use, copy, modify, merge, publish,','line_number':6,'multiline':False]['text':' distribute, sublicense, and/or sell copies of the Software, and to','line_number':7,'multiline':False]['text':' permit persons to whom the Software is furnished to do so, subject to','line_number':8,'multiline':False]['text':' the following conditions:','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' The above copyright notice and this permission notice shall be included','line_number':11,'multiline':False]['text':' in all copies or substantial portions of the Software.','line_number':12,'multiline':False]['text':'','line_number':13,'multiline':False]['text':' THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY','line_number':14,'multiline':False]['text':' KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE','line_number':15,'multiline':False]['text':' WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND','line_number':16,'multiline':False]['text':' NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE','line_number':17,'multiline':False]['text':' LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION','line_number':18,'multiline':False]['text':' OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION','line_number':19,'multiline':False]['text':' WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.','line_number':20,'multiline':False]['text':'','line_number':21,'multiline':False]['text':' Chrome trace organizes tasks per pids, so if we want to have a clean layout which','line_number':75,'multiline':False]['text':' clearly shows concurrent processes, we are creating job slots by comparing start and','line_number':76,'multiline':False]['text':' end times, and using "pid" as the job slot identifier. job_slots are a list of chronologically','line_number':77,'multiline':False]['text':' in order tasks. We keep a list of job slots and always check at the end of the job slot to','line_number':78,'multiline':False]['text':' compare the lowest end time that will accommodate the next task start time. If there are no','line_number':79,'multiline':False]['text':' job slots which can accommodate the next task, we create a new job slot. Note the job slots','line_number':80,'multiline':False]['text':' ordering is similar to how the OS process scheduler would organize and start the processes','line_number':81,'multiline':False]['text':' from the build, however we are reproducing this retroactively and simplistically and it','line_number':82,'multiline':False]['text':' is not guaranteed to match exactly.','line_number':83,'multiline':False]['text':' We need to find the best job_slot to add this next task too, so we look at the','line_number':90,'multiline':False]['text':' end_times, the one with the lowest would have been the first one available. We just','line_number':91,'multiline':False]['text':' arbitrarily guess the first one will be the best, then iterate to find out which','line_number':92,'multiline':False]['text':' one is the best. We then add to the existing job_slot which best_candidate points to.','line_number':93,'multiline':False]['text':' None of the current job slots were available to accommodate the new task so we','line_number':103,'multiline':False]['text':' make a new one.','line_number':104,'multiline':False]['text':' This will force our at exit to the of the stack ensuring','line_number':134,'multiline':False]['text':' that it is the last thing called when exiting.','line_number':135,'multiline':False]