['text':'*
 *    Copyright (C) 2019-present MongoDB, Inc.
 *
 *    This program is free software: you can redistribute it and/or modify
 *    it under the terms of the Server Side Public License, version 1,
 *    as published by MongoDB, Inc.
 *
 *    This program is distributed in the hope that it will be useful,
 *    but WITHOUT ANY WARRANTY; without even the implied warranty of
 *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *    Server Side Public License for more details.
 *
 *    You should have received a copy of the Server Side Public License
 *    along with this program. If not, see
 *    <http://www.mongodb.com/licensing/server-side-public-license>.
 *
 *    As a special exception, the copyright holders give permission to link the
 *    code of portions of this program with the OpenSSL library under certain
 *    conditions as described in each individual source file and distribute
 *    linked combinations including the program with the OpenSSL library. You
 *    must comply with the Server Side Public License in all respects for
 *    all of the code used other than as permitted herein. If you modify file(s)
 *    with this exception, you may extend this exception to your version of the
 *    file(s), but you are not obligated to do so. If you do not wish to do so,
 *    delete this exception statement from your version. If you delete this
 *    exception statement from all source files in the program, then also delete
 *    it in the license file.
 ','line_number':1,'multiline':True]['text':' IWYU pragma: no_include "cxxabi.h"','line_number':31,'multiline':False]['text':' Tests:','line_number':99,'multiline':False]['text':' 1. Make sure it runs at least N times','line_number':100,'multiline':False]['text':' 2. Make sure it responds to stop after being paused','line_number':101,'multiline':False]['text':' 3. Make sure it can be resumed','line_number':102,'multiline':False]['text':' 4. Make sure the period can be changed like from 1 minute -> 1 milli','line_number':103,'multiline':False]['text':' Positive: Make sure periodic thread runs at least N times and stops correctly','line_number':105,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':118,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':121,'multiline':False]['text':' Positive: Make sure it stops after being paused','line_number':127,'multiline':False]['text':' Stop the thread by setting a -1 duration','line_number':137,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':140,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':143,'multiline':False]['text':' We could have had one more run of the loop as we paused - allow for that case','line_number':146,'multiline':False]['text':' but no other runs of the thread.','line_number':147,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':152,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':155,'multiline':False]['text':' Positive: Make sure it can be paused and resumed','line_number':161,'multiline':False]['text':' Stop the thread by setting a -1 duration','line_number':171,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':174,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':177,'multiline':False]['text':' We could have had one more run of the loop as we paused - allow for that case','line_number':180,'multiline':False]['text':' but no other runs of the thread.','line_number':181,'multiline':False]['text':' Make sure we can resume the thread again','line_number':184,'multiline':False]['text':'*
 * Simple class to ensure we run checks.
 ','line_number':195,'multiline':True]['text':' Ignore data races in this function when running with TSAN, races are acceptable here','line_number':215,'multiline':False]['text':' Positive: Make sure check thread runs at least N times and stops correctly','line_number':250,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':268,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':271,'multiline':False]['text':'*
 * A class that models the behavior of Windows' manual reset Event object.
 ','line_number':277,'multiline':True]['text':' Positive: Make sure monitor thread signals death if the check thread never starts','line_number':305,'multiline':False]['text':'*
 * Sleep after doing a few checks to replicate a hung check.
 ','line_number':329,'multiline':True]['text':' Positive: Make sure monitor thread signals death if the thread does not make progress','line_number':350,'multiline':False]['text':' Positive: Make sure watchdog monitor signals death if a check is unresponsive','line_number':380,'multiline':False]['text':' Positive: Make sure watchdog monitor terminates the process if a check is unresponsive','line_number':402,'multiline':False]['text':' In TSAN builds, we need to wait enough time for death to be triggered','line_number':414,'multiline':False]['text':' Positive: Make sure the monitor can be paused and resumed, and it does not trigger death','line_number':418,'multiline':False]['text':' Pause the monitor','line_number':440,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':443,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':446,'multiline':False]['text':' We could have had one more run of the loop as we paused - allow for that case','line_number':449,'multiline':False]['text':' but no other runs of the thread.','line_number':450,'multiline':False]['text':' Resume the monitor','line_number':453,'multiline':False]['text':' Restart the monitor with a different interval.','line_number':457,'multiline':False]['text':' Check the counter after it is shutdown and make sure it does not change.','line_number':464,'multiline':False]['text':' This is racey but it should only produce false negatives','line_number':467,'multiline':False]['text':' Positive: Do a sanity check that directory check passes','line_number':475,'multiline':False]['text':' namespace','line_number':485,'multiline':False]['text':' namespace mongo','line_number':486,'multiline':False]