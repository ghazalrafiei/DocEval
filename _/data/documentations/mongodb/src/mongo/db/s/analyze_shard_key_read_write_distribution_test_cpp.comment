['text':'*
 *    Copyright (C) 2022-present MongoDB, Inc.
 *
 *    This program is free software: you can redistribute it and/or modify
 *    it under the terms of the Server Side Public License, version 1,
 *    as published by MongoDB, Inc.
 *
 *    This program is distributed in the hope that it will be useful,
 *    but WITHOUT ANY WARRANTY; without even the implied warranty of
 *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *    Server Side Public License for more details.
 *
 *    You should have received a copy of the Server Side Public License
 *    along with this program. If not, see
 *    <http://www.mongodb.com/licensing/server-side-public-license>.
 *
 *    As a special exception, the copyright holders give permission to link the
 *    code of portions of this program with the OpenSSL library under certain
 *    conditions as described in each individual source file and distribute
 *    linked combinations including the program with the OpenSSL library. You
 *    must comply with the Server Side Public License in all respects for
 *    all of the code used other than as permitted herein. If you modify file(s)
 *    with this exception, you may extend this exception to your version of the
 *    file(s), but you are not obligated to do so. If you do not wish to do so,
 *    delete this exception statement from your version. If you delete this
 *    exception statement from all source files in the program, then also delete
 *    it in the license file.
 ','line_number':1,'multiline':True]['text':'*
     * Returns a CollectionRoutingInfoTargeter with the given shard key pattern, split points and
     * default collator.
     ','line_number':111,'multiline':True]['text':' unsplittable ','line_number':146,'multiline':True]['text':' collator ','line_number':147,'multiline':True]['text':' unique ','line_number':148,'multiline':True]['text':' timeseriesFields ','line_number':151,'multiline':True]['text':' reshardingFields ','line_number':152,'multiline':True]['text':' allowMigrations ','line_number':153,'multiline':True]['text':' Define two set of ChunkSplintInfo's for testing.','line_number':410,'multiline':False]['text':' 'chunkSplitInfoRangeSharding0' makes the collection have the following chunks:','line_number':412,'multiline':False]['text':' {a.x: MinKey, b.y: Minkey} -> {a.x: -100, b.y: "A"}','line_number':413,'multiline':False]['text':' {a.x: -100, b.y: "A"} -> {a.x: 100, b.y: "A"}','line_number':414,'multiline':False]['text':' {a.x: 100, b.y: "A"} -> {a.x: MaxKey, b.y: MaxKey}','line_number':415,'multiline':False]['text':' 'chunkSplitInfoHashedSharding0' makes the collection have the following chunks:','line_number':423,'multiline':False]['text':' {a.x: MinKey, b.y: Minkey} -> {a.x: -100, b.y: hash("A")}','line_number':424,'multiline':False]['text':' {a.x: -100, b.y: hash("A")} -> {a.x: 100, b.y: hash("A")}','line_number':425,'multiline':False]['text':' {a.x: 100, b.y: hash("A")} -> {a.x: MaxKey, b.y: MaxKey}','line_number':426,'multiline':False]['text':' 'chunkSplitInfoRangeSharding1' makes the collection have the following chunks:','line_number':442,'multiline':False]['text':' {a: MinKey, b.y: Minkey} -> {a: {x: -100}, b.y: "A"}','line_number':443,'multiline':False]['text':' {a: {x: -100}, b.y: "A"} -> {a: {x: 100}, b.y: "A"}','line_number':444,'multiline':False]['text':' {a: {x: 100}, b.y: "A"} -> {a: MaxKey, b.y: MaxKey}','line_number':445,'multiline':False]['text':' 'chunkSplitInfoHashedSharding2' makes the collection have the following chunks:','line_number':453,'multiline':False]['text':' {a: MinKey} -> {a: -4611686018427387902LL}','line_number':454,'multiline':False]['text':' {a: -4611686018427387902LL} -> {a: 4611686018427387902LL}','line_number':455,'multiline':False]['text':' {a: -4611686018427387902LL} -> {a: MaxKey}','line_number':456,'multiline':False]['text':' Using a case-insensitive collation would cause a collatable point-query involving a chunk','line_number':465,'multiline':False]['text':' bound to touch more than one chunk.','line_number':466,'multiline':False]['text':' Add one find query.','line_number':513,'multiline':False]['text':' Add two aggregate queries.','line_number':518,'multiline':False]['text':' Add three count queries.','line_number':528,'multiline':False]['text':' Add one distinct query.','line_number':539,'multiline':False]['text':' Add four update queries, one of them via bulkWrite.','line_number':558,'multiline':False]['text':' Add three delete queries, one of them via bulkWrite.','line_number':578,'multiline':False]['text':' multi ','line_number':580,'multiline':True]['text':' multi ','line_number':582,'multiline':True]['text':' multi ','line_number':586,'multiline':True]['text':' Add one findAndModify query.','line_number':590,'multiline':False]['text':' upsert ','line_number':596,'multiline':True]['text':' remove ','line_number':596,'multiline':True]['text':' multi ','line_number':622,'multiline':True]['text':' upsert ','line_number':636,'multiline':True]['text':' remove ','line_number':636,'multiline':True]['text':' The collection has a non-simple default collation and the query specifies an empty','line_number':808,'multiline':False]['text':' collation.','line_number':809,'multiline':False]['text':' The collection has a simple default collation and the query specifies a non-simple','line_number':821,'multiline':False]['text':' collation.','line_number':822,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies a non-simple','line_number':835,'multiline':False]['text':' collation.','line_number':836,'multiline':False]['text':' The collection has a non-simple default collation and the query specifies an empty','line_number':861,'multiline':False]['text':' collation.','line_number':862,'multiline':False]['text':' The collection has a simple default collation and the query specifies a non-simple','line_number':874,'multiline':False]['text':' collation.','line_number':875,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies a non-simple','line_number':887,'multiline':False]['text':' collation.','line_number':888,'multiline':False]['text':' The collection has a simple default collation and the query specifies an empty collation.','line_number':905,'multiline':False]['text':' The collection has a non-simple default collation and the query specifies a simple','line_number':917,'multiline':False]['text':' collation.','line_number':918,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies a simple','line_number':930,'multiline':False]['text':' collation.','line_number':931,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies an empty','line_number':940,'multiline':False]['text':' collation.','line_number':941,'multiline':False]['text':' The hash of -100 is -1979677326953392702LL.','line_number':953,'multiline':False]['text':' For hashed sharding, range queries always target all shards and chunks.','line_number':1075,'multiline':False]['text':' This query filters by "a" (exact match) not "a.x" (the shard key prefix). Currently, this','line_number':1109,'multiline':False]['text':' is handled as a query not filtering by the shard key. As a result, it still targets all','line_number':1110,'multiline':False]['text':' the chunks although it only matches the data in the chunk {a.x: -100, b.y: "A"} -> {a.x:','line_number':1111,'multiline':False]['text':' 100, b.y: "A"}. Please see','line_number':1112,'multiline':False]['text':' ReadDistributionFilterByShardKeyRangeTest/ShardKeyPrefixEqualityDotted for the case where','line_number':1113,'multiline':False]['text':' the query filters by "a.x".','line_number':1114,'multiline':False]['text':' This query filters by "a.x" not "a" (the shard key prefix). Currently, this is handled as','line_number':1122,'multiline':False]['text':' a query not filtering by the shard key. As a result, it still targets all the chunks','line_number':1123,'multiline':False]['text':' although it only matches the data in the chunk {a.x: -100, b.y: "A"} -> {a.x: 100, b.y:','line_number':1124,'multiline':False]['text':' "A"}.','line_number':1125,'multiline':False]['text':' For a write that filters by shard key equality, the targeting metrics do not depend on','line_number':1165,'multiline':False]['text':' whether it is an upsert or multi.','line_number':1166,'multiline':False]['text':' upsert ','line_number':1224,'multiline':True]['text':' remove ','line_number':1225,'multiline':True]['text':' The collection has a non-simple default collation and the query specifies an empty','line_number':1360,'multiline':False]['text':' collation.','line_number':1361,'multiline':False]['text':' The collection has a simple default collation and the query specifies a non-simple','line_number':1381,'multiline':False]['text':' collation.','line_number':1382,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies a non-simple','line_number':1403,'multiline':False]['text':' collation.','line_number':1404,'multiline':False]['text':' The collection has a non-simple default collation and the query specifies an empty collation.','line_number':1430,'multiline':False]['text':' The collection has a simple default collation and the query specifies a non-simple collation.','line_number':1446,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies a non-simple','line_number':1462,'multiline':False]['text':' collation.','line_number':1463,'multiline':False]['text':' The collection has a simple default collation and the query specifies an empty collation.','line_number':1481,'multiline':False]['text':' The collection has a non-simple default collation and the query specifies a simple collation.','line_number':1497,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies a simple collation.','line_number':1513,'multiline':False]['text':' The collection doesn't have a default collation and the query specifies an empty collation.','line_number':1521,'multiline':False]['text':' The hash of -100 is -1979677326953392702LL.','line_number':1537,'multiline':False]['text':' For a write that filters by shard key range, the targeting metrics do not depend on whether','line_number':1758,'multiline':False]['text':' it is an upsert.','line_number':1759,'multiline':False]['text':' upsert ','line_number':1793,'multiline':True]['text':' remove ','line_number':1793,'multiline':True]['text':' multi ','line_number':1816,'multiline':True]['text':' multi ','line_number':1839,'multiline':True]['text':' multi ','line_number':1862,'multiline':True]['text':' multi ','line_number':1885,'multiline':True]['text':' multi ','line_number':1908,'multiline':True]['text':' multi ','line_number':1935,'multiline':True]['text':' multi ','line_number':1958,'multiline':True]['text':' For hashed sharding, range queries always target all shards and chunks.','line_number':1964,'multiline':False]['text':' multi ','line_number':1978,'multiline':True]['text':' replacement-style update cannot be multi.','line_number':1990,'multiline':False]['text':' replacement-style update cannot be multi.','line_number':2002,'multiline':False]['text':' upsert ','line_number':2025,'multiline':True]['text':' upsert ','line_number':2028,'multiline':True]['text':' upsert ','line_number':2041,'multiline':True]['text':' upsert ','line_number':2044,'multiline':True]['text':' upsert ','line_number':2058,'multiline':True]['text':' upsert ','line_number':2061,'multiline':True]['text':' upsert ','line_number':2074,'multiline':True]['text':' upsert ','line_number':2077,'multiline':True]['text':' upsert ','line_number':2095,'multiline':True]['text':' upsert ','line_number':2099,'multiline':True]['text':' upsert ','line_number':2123,'multiline':True]['text':' upsert ','line_number':2126,'multiline':True]['text':' For a write that doesn't filter by shard key equality or range, the targeting metrics do not','line_number':2146,'multiline':False]['text':' depend on whether it is an upsert.','line_number':2147,'multiline':False]['text':' upsert ','line_number':2180,'multiline':True]['text':' remove ','line_number':2180,'multiline':True]['text':' multi ','line_number':2199,'multiline':True]['text':' multi ','line_number':2216,'multiline':True]['text':' This query filters by "a" (exact match) not "a.x" (the shard key prefix). Currently, this is','line_number':2221,'multiline':False]['text':' handled as a query not filtering by the shard key. As a result, it still targets all the','line_number':2222,'multiline':False]['text':' chunks although it only matches the data in the chunk {a.x: -100, b.y: "A"} -> {a.x: 100,','line_number':2223,'multiline':False]['text':' b.y: "A"}. Please see WriteDistributionFilterByShardKeyRangeTest/ShardKeyPrefixEqualityDotted','line_number':2224,'multiline':False]['text':' for the case where the query filters by "a.x".','line_number':2225,'multiline':False]['text':' multi ','line_number':2238,'multiline':True]['text':' This query filters by "a.x" not "a" (the shard key prefix). Currently, this is handled as a','line_number':2243,'multiline':False]['text':' query not filtering by the shard key. As a result, it still targets all the chunks although','line_number':2244,'multiline':False]['text':' it only matches the data in the chunk {a.x: -100, b.y: "A"} -> {a.x: 100, b.y: "A"}.','line_number':2245,'multiline':False]['text':' multi ','line_number':2258,'multiline':True]['text':' replacement-style update cannot be multi.','line_number':2267,'multiline':False]['text':' replacement-style update cannot be multi.','line_number':2276,'multiline':False]['text':' upsert ','line_number':2300,'multiline':True]['text':' upsert ','line_number':2304,'multiline':True]['text':' upsert ','line_number':2325,'multiline':True]['text':' upsert ','line_number':2327,'multiline':True]['text':' Add two updates.','line_number':2334,'multiline':False]['text':' Can set number of shard key updates to > 0.','line_number':2350,'multiline':False]['text':' Can set number of shard key updates to 0.','line_number':2356,'multiline':False]['text':' namespace','line_number':2501,'multiline':False]['text':' namespace analyze_shard_key','line_number':2502,'multiline':False]['text':' namespace mongo','line_number':2503,'multiline':False]