['text':'*
 *    Copyright (C) 2018-present MongoDB, Inc.
 *
 *    This program is free software: you can redistribute it and/or modify
 *    it under the terms of the Server Side Public License, version 1,
 *    as published by MongoDB, Inc.
 *
 *    This program is distributed in the hope that it will be useful,
 *    but WITHOUT ANY WARRANTY; without even the implied warranty of
 *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *    Server Side Public License for more details.
 *
 *    You should have received a copy of the Server Side Public License
 *    along with this program. If not, see
 *    <http://www.mongodb.com/licensing/server-side-public-license>.
 *
 *    As a special exception, the copyright holders give permission to link the
 *    code of portions of this program with the OpenSSL library under certain
 *    conditions as described in each individual source file and distribute
 *    linked combinations including the program with the OpenSSL library. You
 *    must comply with the Server Side Public License in all respects for
 *    all of the code used other than as permitted herein. If you modify file(s)
 *    with this exception, you may extend this exception to your version of the
 *    file(s), but you are not obligated to do so. If you do not wish to do so,
 *    delete this exception statement from your version. If you delete this
 *    exception statement from all source files in the program, then also delete
 *    it in the license file.
 ','line_number':1,'multiline':True]['text':' If there is a version attached to the OperationContext, use it as the received version.','line_number':103,'multiline':False]['text':' There is no shard version information on the 'opCtx'. This means that the operation','line_number':108,'multiline':False]['text':' represented by 'opCtx' is unversioned, and the shard version is always OK for unversioned','line_number':109,'multiline':False]['text':' operations.','line_number':110,'multiline':False]['text':' This shard version is used as the received version in StaleConfigInfo since we do not have','line_number':114,'multiline':False]['text':' information about the received version of the operation.','line_number':115,'multiline':False]['text':' namespace','line_number':121,'multiline':False]['text':' No operations should be calling getOwnershipFilter without a shard version','line_number':166,'multiline':False]['text':' preserveRange ','line_number':176,'multiline':True]['text':' preserveRange ','line_number':189,'multiline':True]['text':' If the server has been started with --shardsvr, but hasn't been added to a cluster we should','line_number':200,'multiline':False]['text':' consider all collections as untracked','line_number':201,'multiline':False]['text':' Present the collection as unsharded to internal or direct commands against shards','line_number':205,'multiline':False]['text':' preserveRange ','line_number':211,'multiline':True]['text':' wantedVersion ','line_number':217,'multiline':True]['text':' preserveRange ','line_number':233,'multiline':True]['text':' preserveRange ','line_number':249,'multiline':True]['text':' If the collection was sharded and the new metadata represents a new collection we might need','line_number':291,'multiline':False]['text':' to clean up some sharding-related state','line_number':292,'multiline':False]['text':' At this point we know that the new metadata is associated to a tracked collection.','line_number':308,'multiline':False]['text':' The namespace is always marked as untraked thus there is no need to clear anything.','line_number':327,'multiline':False]['text':' If the collection is sharded and it's being dropped we might need to clean up some state.','line_number':338,'multiline':False]['text':' collIsDropped ','line_number':348,'multiline':True]['text':' collIsDropped ','line_number':353,'multiline':True]['text':' If the metadata was reset, or the collection was dropped and recreated since the','line_number':369,'multiline':False]['text':' metadata manager was created, return an error.','line_number':370,'multiline':False]['text':' Swallow RangeDeletionAbandonedBecauseCollectionWithUUIDDoesNotExist error since the','line_number':409,'multiline':False]['text':' collection could either never exist or get dropped directly from the shard after the','line_number':410,'multiline':False]['text':' range deletion task got scheduled.','line_number':411,'multiline':False]['text':' Until user collections can be sharded in serverless, the sessions collection will be','line_number':440,'multiline':False]['text':' the only sharded collection.','line_number':441,'multiline':False]['text':' If the server has been started with --shardsvr, but hasn't been added to a cluster we should','line_number':462,'multiline':False]['text':' consider all collections as unsharded','line_number':463,'multiline':False]['text':' Assume that the received shard version was IGNORED if the current operation wasn't versioned','line_number':474,'multiline':False]['text':' wantedVersion ','line_number':487,'multiline':True]['text':' wantedVersion ','line_number':501,'multiline':True]['text':' Could be > or < - wanted is > if this is the source of a migration, wanted < if this is','line_number':572,'multiline':False]['text':' the target of a migration','line_number':573,'multiline':False]['text':' Those are all the reasons the versions can mismatch','line_number':585,'multiline':False]['text':' This acquisition is performed with collection lock MODE_S in order to ensure that any ongoing','line_number':675,'multiline':False]['text':' writes have completed and become visible','line_number':676,'multiline':False]['text':' TODO (SERVER-71444): Fix to be interruptible or document exception.','line_number':692,'multiline':False]['text':' NOLINT.','line_number':693,'multiline':False]['text':' The old collection metadata was unsharded, nothing to cleanup so far.','line_number':718,'multiline':False]['text':' Check whether the main collection of this plan is the one being removed','line_number':744,'multiline':False]['text':' Check whether a secondary collection is the one being removed','line_number':748,'multiline':False]['text':' Assume that the received shard version was IGNORED if the current operation wasn't','line_number':775,'multiline':False]['text':' versioned','line_number':776,'multiline':False]['text':' wantedVersion ','line_number':787,'multiline':True]['text':' namespace mongo','line_number':798,'multiline':False]