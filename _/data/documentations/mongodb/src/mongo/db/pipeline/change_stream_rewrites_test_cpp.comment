['text':'*
 *    Copyright (C) 2022-present MongoDB, Inc.
 *
 *    This program is free software: you can redistribute it and/or modify
 *    it under the terms of the Server Side Public License, version 1,
 *    as published by MongoDB, Inc.
 *
 *    This program is distributed in the hope that it will be useful,
 *    but WITHOUT ANY WARRANTY; without even the implied warranty of
 *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *    Server Side Public License for more details.
 *
 *    You should have received a copy of the Server Side Public License
 *    along with this program. If not, see
 *    <http://www.mongodb.com/licensing/server-side-public-license>.
 *
 *    As a special exception, the copyright holders give permission to link the
 *    code of portions of this program with the OpenSSL library under certain
 *    conditions as described in each individual source file and distribute
 *    linked combinations including the program with the OpenSSL library. You
 *    must comply with the Server Side Public License in all respects for
 *    all of the code used other than as permitted herein. If you modify file(s)
 *    with this exception, you may extend this exception to your version of the
 *    file(s), but you are not obligated to do so. If you do not wish to do so,
 *    delete this exception statement from your version. If you delete this
 *    exception statement from all source files in the program, then also delete
 *    it in the license file.
 ','line_number':1,'multiline':True]['text':'','line_number':94,'multiline':False]['text':' Logical rewrites','line_number':95,'multiline':False]['text':'','line_number':96,'multiline':False]['text':' Note that rewrite of {operationType: {$gt: ...}} is currently not supported.','line_number':112,'multiline':False]['text':' Note that rewrite of {operationType: {$gt: ...}} is currently not supported.','line_number':128,'multiline':False]['text':' Note that rewrite of {operationType: {$gt: ...}} is currently not supported.','line_number':146,'multiline':False]['text':' Note that rewrite of {operationType: {$gt: ...}} is currently not supported. The rewrite must','line_number':165,'multiline':False]['text':' discard the _entire_ $and, because it is the child of $nor, and the rewrite cannot use','line_number':166,'multiline':False]['text':' inexact rewrites of any children of $not or $nor.','line_number':167,'multiline':False]['text':' This 'operationType' predicate could be rewritten but will be discarded in this test because','line_number':184,'multiline':False]['text':' the 'operationType' field is not requested in the call to the 'rewriteFilterForFields()'','line_number':185,'multiline':False]['text':' function.','line_number':186,'multiline':False]['text':' Note that rewrite of "$$ROOT" without a path is unsupported.','line_number':215,'multiline':False]['text':' $expr cannot be split into individual expressions based on dependency analysis, but because','line_number':228,'multiline':False]['text':' we rewrite the entire tree and discard expressions which we cannot rewrite or which the user','line_number':229,'multiline':False]['text':' did not request, we are able to produce a correct output expression even when unknown fields','line_number':230,'multiline':False]['text':' exist.','line_number':231,'multiline':False]['text':' Note that rewrite of "$$ROOT" without a path is unsupported.','line_number':244,'multiline':False]['text':' Note that rewrite of "$$ROOT" without a path is unsupported.','line_number':259,'multiline':False]['text':' Note that rewrite of "$$ROOT" without a path is unsupported.','line_number':276,'multiline':False]['text':' Note that rewrite of "$$ROOT" without a path is unsupported.','line_number':293,'multiline':False]['text':' The 'operationType' predicate could be rewritten but will be discarded in this test because','line_number':354,'multiline':False]['text':' the 'operationType' field is not requested in the call to the 'rewriteFilterForFields()'','line_number':355,'multiline':False]['text':' function.','line_number':356,'multiline':False]['text':'','line_number':369,'multiline':False]['text':' 'operationType' rewrites','line_number':370,'multiline':False]['text':'','line_number':371,'multiline':False]['text':'','line_number':712,'multiline':False]['text':' 'documentKey' rewrites','line_number':713,'multiline':False]['text':'','line_number':714,'multiline':False]['text':' Every documentKey must have an _id field, so a predicate on this field can always be exactly','line_number':1036,'multiline':False]['text':' rewritten.','line_number':1037,'multiline':False]['text':'','line_number':1138,'multiline':False]['text':' 'fullDocument' rewrites','line_number':1139,'multiline':False]['text':'','line_number':1140,'multiline':False]['text':' Note that the filter below includes a predicate on delete and non-CRUD events. These are only','line_number':1179,'multiline':False]['text':' present when the user's predicate matches a non-existent field. This is because these change','line_number':1180,'multiline':False]['text':' events never have a 'fullDocument' field, and so we either match all such events in the oplog','line_number':1181,'multiline':False]['text':' or none of them, depending on how the predicate evaluates against a missing field.','line_number':1182,'multiline':False]['text':' Because the 'fullDocument' field can be populated later in the pipeline for update events','line_number':1213,'multiline':False]['text':' (via the '{fullDocument: "updateLookup"}' option), it's impractical to try to generate a','line_number':1214,'multiline':False]['text':' rewritten predicate that matches exactly.','line_number':1215,'multiline':False]['text':'','line_number':1219,'multiline':False]['text':' 'fullDocumentBeforeChange' rewrites','line_number':1220,'multiline':False]['text':'','line_number':1221,'multiline':False]['text':' '{fullDocumentBeforeChange: null}' cannot be rewritten','line_number':1230,'multiline':False]['text':'','line_number':1307,'multiline':False]['text':' 'ns' rewrites','line_number':1308,'multiline':False]['text':'','line_number':1309,'multiline':False]['text':' drop.','line_number':1362,'multiline':False]['text':' rename.','line_number':1363,'multiline':False]['text':' create.','line_number':1364,'multiline':False]['text':' createIndexes.','line_number':1365,'multiline':False]['text':' commitIndexBuild.','line_number':1366,'multiline':False]['text':' dropIndexes.','line_number':1367,'multiline':False]['text':' collMod.','line_number':1368,'multiline':False]['text':' drop.','line_number':1390,'multiline':False]['text':' rename.','line_number':1391,'multiline':False]['text':' create.','line_number':1392,'multiline':False]['text':' createIndexes.','line_number':1393,'multiline':False]['text':' commitIndexBuild.','line_number':1394,'multiline':False]['text':' dropIndexes.','line_number':1395,'multiline':False]['text':' collMod.','line_number':1396,'multiline':False]['text':' drop.','line_number':1416,'multiline':False]['text':' rename.','line_number':1417,'multiline':False]['text':' create.','line_number':1418,'multiline':False]['text':' createIndexes.','line_number':1419,'multiline':False]['text':' commitIndexBuild.','line_number':1420,'multiline':False]['text':' dropIndexes.','line_number':1421,'multiline':False]['text':' collMod.','line_number':1422,'multiline':False]['text':' drop.','line_number':1442,'multiline':False]['text':' rename.','line_number':1443,'multiline':False]['text':' create.','line_number':1444,'multiline':False]['text':' createIndexes.','line_number':1445,'multiline':False]['text':' commitIndexBuild.','line_number':1446,'multiline':False]['text':' dropIndexes.','line_number':1447,'multiline':False]['text':' collMod.','line_number':1448,'multiline':False]['text':' drop.','line_number':1468,'multiline':False]['text':' rename.','line_number':1469,'multiline':False]['text':' create.','line_number':1470,'multiline':False]['text':' createIndexes.','line_number':1471,'multiline':False]['text':' commitIndexBuild.','line_number':1472,'multiline':False]['text':' dropIndexes.','line_number':1473,'multiline':False]['text':' collMod.','line_number':1474,'multiline':False]['text':' drop.','line_number':1494,'multiline':False]['text':' rename.','line_number':1495,'multiline':False]['text':' create.','line_number':1496,'multiline':False]['text':' createIndexes.','line_number':1497,'multiline':False]['text':' commitIndexBuild.','line_number':1498,'multiline':False]['text':' dropIndexes.','line_number':1499,'multiline':False]['text':' collMod.','line_number':1500,'multiline':False]['text':' drop.','line_number':1526,'multiline':False]['text':' create.','line_number':1527,'multiline':False]['text':' createIndex.','line_number':1528,'multiline':False]['text':' commitIndexBuild.','line_number':1529,'multiline':False]['text':' dropIndex.','line_number':1530,'multiline':False]['text':' collMod.','line_number':1531,'multiline':False]['text':' drop.','line_number':1585,'multiline':False]['text':' create.','line_number':1586,'multiline':False]['text':' createIndexes.','line_number':1587,'multiline':False]['text':' commitIndexBuild.','line_number':1588,'multiline':False]['text':' dropIndexes.','line_number':1589,'multiline':False]['text':' collMod.','line_number':1590,'multiline':False]['text':' drop','line_number':1660,'multiline':False]['text':' rename','line_number':1661,'multiline':False]['text':' create','line_number':1662,'multiline':False]['text':' createIndexes','line_number':1663,'multiline':False]['text':' commitIndexBuild','line_number':1664,'multiline':False]['text':' dropIndexes','line_number':1665,'multiline':False]['text':' collMod','line_number':1666,'multiline':False]['text':' drop','line_number':1687,'multiline':False]['text':' rename','line_number':1688,'multiline':False]['text':' create','line_number':1689,'multiline':False]['text':' createIndexes','line_number':1690,'multiline':False]['text':' commitIndexBuild','line_number':1691,'multiline':False]['text':' dropIndexes','line_number':1692,'multiline':False]['text':' collMod','line_number':1693,'multiline':False]['text':' drop','line_number':1714,'multiline':False]['text':' rename','line_number':1715,'multiline':False]['text':' create','line_number':1716,'multiline':False]['text':' createIndexes','line_number':1717,'multiline':False]['text':' commitIndexBuild','line_number':1718,'multiline':False]['text':' dropIndexes','line_number':1719,'multiline':False]['text':' collMod','line_number':1720,'multiline':False]['text':' drop.','line_number':1752,'multiline':False]['text':' create.','line_number':1754,'multiline':False]['text':' createIndexes.','line_number':1756,'multiline':False]['text':' commitIndexBuild.','line_number':1758,'multiline':False]['text':' dropIndexes.','line_number':1760,'multiline':False]['text':' collMod.','line_number':1762,'multiline':False]['text':' drop.','line_number':1797,'multiline':False]['text':' create.','line_number':1799,'multiline':False]['text':' createIndexes.','line_number':1801,'multiline':False]['text':' commitIndexBuild.','line_number':1803,'multiline':False]['text':' dropIndexes.','line_number':1805,'multiline':False]['text':' collMod.','line_number':1807,'multiline':False]['text':' drop.','line_number':1945,'multiline':False]['text':' create.','line_number':1947,'multiline':False]['text':' createIndexes.','line_number':1950,'multiline':False]['text':' commitIndexBuild.','line_number':1953,'multiline':False]['text':' dropIndexes.','line_number':1955,'multiline':False]['text':' collMod.','line_number':1957,'multiline':False]['text':' drop.','line_number':1986,'multiline':False]['text':' create.','line_number':1988,'multiline':False]['text':' createIndexes.','line_number':1991,'multiline':False]['text':' commitIndexBuild.','line_number':1994,'multiline':False]['text':' dropIndexes.','line_number':1996,'multiline':False]['text':' collMod.','line_number':1998,'multiline':False]['text':' drop.','line_number':2108,'multiline':False]['text':' create.','line_number':2110,'multiline':False]['text':' createIndexes.','line_number':2113,'multiline':False]['text':' commitIndexBuild.','line_number':2116,'multiline':False]['text':' dropIndexes.','line_number':2119,'multiline':False]['text':' collMod.','line_number':2121,'multiline':False]['text':' drop.','line_number':2155,'multiline':False]['text':' create.','line_number':2157,'multiline':False]['text':' createIndexes.','line_number':2160,'multiline':False]['text':' commitIndexBuild.','line_number':2163,'multiline':False]['text':' dropIndexes.','line_number':2166,'multiline':False]['text':' collMod.','line_number':2168,'multiline':False]['text':' rename.','line_number':2338,'multiline':False]['text':' drop.','line_number':2339,'multiline':False]['text':' create.','line_number':2340,'multiline':False]['text':' createIndexes.','line_number':2341,'multiline':False]['text':' commitIndexBuild.','line_number':2342,'multiline':False]['text':' dropIndexes.','line_number':2343,'multiline':False]['text':' collMod.','line_number':2344,'multiline':False]['text':' rename.','line_number':2365,'multiline':False]['text':' drop.','line_number':2366,'multiline':False]['text':' create.','line_number':2367,'multiline':False]['text':' createIndexes.','line_number':2368,'multiline':False]['text':' commitIndexBuild.','line_number':2369,'multiline':False]['text':' dropIndexes.','line_number':2370,'multiline':False]['text':' collMod.','line_number':2371,'multiline':False]['text':'','line_number':2613,'multiline':False]['text':' 'to' rewrites','line_number':2614,'multiline':False]['text':'','line_number':2615,'multiline':False]['text':'','line_number':3330,'multiline':False]['text':' 'updateDescription' rewrites','line_number':3331,'multiline':False]['text':'','line_number':3332,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3344,'multiline':False]['text':' Note that this produces an {$alwaysFalse:1} predicate for update events. This will optimize','line_number':3376,'multiline':False]['text':' away the enclosing $and so that only non-updates will be returned from the oplog scan.','line_number':3377,'multiline':False]['text':' Note that the {$alwaysTrue:1} predicate is an artefact of the rewrite process. It will be','line_number':3406,'multiline':False]['text':' optimized away and will have no functional impact on the filter.','line_number':3407,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3427,'multiline':False]['text':' Note that this produces an {$alwaysFalse:1} predicate for update events. This will optimize','line_number':3459,'multiline':False]['text':' away the enclosing $and so that only non-updates will be returned from the oplog scan.','line_number':3460,'multiline':False]['text':' Note that the {$alwaysTrue:1} predicate is an artefact of the rewrite process. It will be','line_number':3489,'multiline':False]['text':' optimized away and will have no functional impact on the filter.','line_number':3490,'multiline':False]['text':' Note that we perform an $and of all three oplog locations for this rewrite.','line_number':3534,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3568,'multiline':False]['text':' Note that this produces an {$alwaysFalse:1} predicate for update events. This will optimize','line_number':3635,'multiline':False]['text':' away the enclosing $and so that only non-updates will be returned from the oplog scan.','line_number':3636,'multiline':False]['text':' Note that the {$alwaysTrue:1} predicate is an artefact of the rewrite process. It will be','line_number':3665,'multiline':False]['text':' optimized away and will have no functional impact on the filter.','line_number':3666,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3687,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3720,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3800,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3833,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3866,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3899,'multiline':False]['text':' This produces a minimally selective filter which returns all non-replacement update events.','line_number':3932,'multiline':False]['text':' namespace','line_number':3954,'multiline':False]['text':' namespace mongo','line_number':3955,'multiline':False]