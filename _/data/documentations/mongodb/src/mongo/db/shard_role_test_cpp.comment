['text':'*
 *    Copyright (C) 2022-present MongoDB, Inc.
 *
 *    This program is free software: you can redistribute it and/or modify
 *    it under the terms of the Server Side Public License, version 1,
 *    as published by MongoDB, Inc.
 *
 *    This program is distributed in the hope that it will be useful,
 *    but WITHOUT ANY WARRANTY; without even the implied warranty of
 *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *    Server Side Public License for more details.
 *
 *    You should have received a copy of the Server Side Public License
 *    along with this program. If not, see
 *    <http://www.mongodb.com/licensing/server-side-public-license>.
 *
 *    As a special exception, the copyright holders give permission to link the
 *    code of portions of this program with the OpenSSL library under certain
 *    conditions as described in each individual source file and distribute
 *    linked combinations including the program with the OpenSSL library. You
 *    must comply with the Server Side Public License in all respects for
 *    all of the code used other than as permitted herein. If you modify file(s)
 *    with this exception, you may extend this exception to your version of the
 *    file(s), but you are not obligated to do so. If you do not wish to do so,
 *    delete this exception statement from your version. If you delete this
 *    exception statement from all source files in the program, then also delete
 *    it in the license file.
 ','line_number':1,'multiline':True]['text':' unsplittable ','line_number':147,'multiline':True]['text':' timeseriesFields ','line_number':152,'multiline':True]['text':' resharding Fields ','line_number':153,'multiline':True]['text':' allowMigrations ','line_number':154,'multiline':True]['text':' Workaround to be able to write parametrized TEST_F','line_number':203,'multiline':False]['text':' Setup test collections and metadata','line_number':245,'multiline':False]['text':' Create nssUnshardedCollection1','line_number':248,'multiline':False]['text':' Create nssShardedCollection1','line_number':252,'multiline':False]['text':' Setup nssView','line_number':265,'multiline':False]['text':' With locks','line_number':329,'multiline':False]['text':' Without locks','line_number':337,'multiline':False]['text':' With locks','line_number':346,'multiline':False]['text':' Without locks','line_number':355,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':376,'multiline':False]['text':' Placement checks when acquiring unsharded collections','line_number':377,'multiline':False]['text':' With locks.','line_number':388,'multiline':False]['text':' Without locks.','line_number':403,'multiline':False]['text':' With locks.','line_number':438,'multiline':False]['text':' Without locks.','line_number':450,'multiline':False]['text':' Clear the database metadata','line_number':465,'multiline':False]['text':' Enter critical section.','line_number':503,'multiline':False]['text':' Exit critical section.','line_number':541,'multiline':False]['text':' With locks.','line_number':558,'multiline':False]['text':' Without locks.','line_number':573,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':626,'multiline':False]['text':' Placement checks when acquiring sharded collections','line_number':627,'multiline':False]['text':' With locks.','line_number':639,'multiline':False]['text':' Without locks.','line_number':654,'multiline':False]['text':' Clear the collection filtering metadata on the shard.','line_number':712,'multiline':False]['text':' Enter the critical section.','line_number':751,'multiline':False]['text':' Exit the critical section.','line_number':789,'multiline':False]['text':' Note that the collection is treated as unsharded because the operation is unversioned.','line_number':807,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':811,'multiline':False]['text':' Acquire inexistent collections','line_number':812,'multiline':False]['text':' With locks.','line_number':818,'multiline':False]['text':' Without locks.','line_number':829,'multiline':False]['text':' Drop a collection','line_number':911,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':937,'multiline':False]['text':' MaybeLockFree','line_number':938,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':974,'multiline':False]['text':' Acquire multiple collections','line_number':975,'multiline':False]['text':' Assert the DB lock is held, but not recursively (i.e. only once).','line_number':999,'multiline':False]['text':' Assert both collections are locked.','line_number':1003,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1049,'multiline':False]['text':' Acquire collection by UUID','line_number':1050,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1117,'multiline':False]['text':' Acquire by nss and expected UUID','line_number':1118,'multiline':False]['text':' Because views don't really have a uuid.','line_number':1162,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1176,'multiline':False]['text':' Acquire collection or view','line_number':1177,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1219,'multiline':False]['text':' Yield and restore','line_number':1220,'multiline':False]['text':' Yield the resources','line_number':1238,'multiline':False]['text':' Restore the resources','line_number':1245,'multiline':False]['text':' Yield the resources','line_number':1271,'multiline':False]['text':' Restore the resources','line_number':1279,'multiline':False]['text':' Yield the resources','line_number':1296,'multiline':False]['text':' Placement changes','line_number':1300,'multiline':False]['text':' Try to restore the resources should fail because placement concern is no longer met.','line_number':1318,'multiline':False]['text':' Yield the resources','line_number':1345,'multiline':False]['text':' Placement changes','line_number':1349,'multiline':False]['text':' Try to restore the resources should fail because placement concern is no longer met.','line_number':1353,'multiline':False]['text':' Yield the resources','line_number':1386,'multiline':False]['text':' Placement changes','line_number':1390,'multiline':False]['text':' Try to restore the resources should work because placement concern (IGNORED) can be met.','line_number':1408,'multiline':False]['text':' Yield the resources','line_number':1421,'multiline':False]['text':' Create the collection','line_number':1425,'multiline':False]['text':' Try to restore the resources should fail because the collection showed-up after a restore','line_number':1428,'multiline':False]['text':' where it didn't exist before that.','line_number':1429,'multiline':False]['text':' Yield the resources','line_number':1450,'multiline':False]['text':' Drop the collection','line_number':1454,'multiline':False]['text':' Try to restore the resources should fail because the collection no longer exists.','line_number':1460,'multiline':False]['text':' Yield the resources','line_number':1481,'multiline':False]['text':' Rename the collection.','line_number':1485,'multiline':False]['text':' Try to restore the resources should fail because the collection has been renamed.','line_number':1498,'multiline':False]['text':' Yield the resources','line_number':1519,'multiline':False]['text':' Drop the collection and create a new one with the same nss.','line_number':1523,'multiline':False]['text':' Try to restore the resources should fail because the collection no longer exists.','line_number':1530,'multiline':False]['text':' Yield the resources','line_number':1562,'multiline':False]['text':' Placement changes','line_number':1570,'multiline':False]['text':' Restore should work for reads even though placement has changed.','line_number':1589,'multiline':False]['text':' Even though placement has changed, the filter (and preserver) still point to the original','line_number':1595,'multiline':False]['text':' placement.','line_number':1596,'multiline':False]['text':' Acquisition released. Now the range is no longer in use.','line_number':1601,'multiline':False]['text':' Yield the resources.','line_number':1625,'multiline':False]['text':' Drop collection and create a view in its place.','line_number':1631,'multiline':False]['text':' Restore should fail.','line_number':1638,'multiline':False]['text':' Test that collection acquisiton does not change the ReadSource on a secondary when constraints','line_number':1651,'multiline':False]['text':' are relaxed.','line_number':1652,'multiline':False]['text':' Set up secondary read state.','line_number':1680,'multiline':False]['text':' Initially we start with kNoTimestamp as our ReadSource.','line_number':1685,'multiline':False]['text':' Our read source should have been updated to kLastApplied.','line_number':1699,'multiline':False]['text':' Yield the resources','line_number':1703,'multiline':False]['text':' Step up.','line_number':1707,'multiline':False]['text':' Restore the resources','line_number':1711,'multiline':False]['text':' Our read source should have been updated to kNoTimestamp.','line_number':1714,'multiline':False]['text':' Create the collection','line_number':1727,'multiline':False]['text':' Yield','line_number':1736,'multiline':False]['text':' Restore works','line_number':1739,'multiline':False]['text':' Create the collection','line_number':1752,'multiline':False]['text':' Yield','line_number':1761,'multiline':False]['text':' Drop the collection','line_number':1764,'multiline':False]['text':' Restore should fail','line_number':1768,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1775,'multiline':False]['text':' External yields','line_number':1776,'multiline':False]['text':' State will be restored on getMore.','line_number':1812,'multiline':False]['text':' Become a different operation so we can imitate the behaviour of getMore.','line_number':1826,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1846,'multiline':False]['text':' Storage snapshot','line_number':1847,'multiline':False]['text':' Set up secondary read state.','line_number':1886,'multiline':False]['text':' Initially we start with kNoTimestamp as our ReadSource.','line_number':1891,'multiline':False]['text':' Our read source should have been updated to kLastApplied.','line_number':1901,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':1909,'multiline':False]['text':' ScopedLocalCatalogWriteFence','line_number':1910,'multiline':False]['text':' Tests that nothing breaks if ScopedLocalCatalogWriteFence's onRollback handler is executed','line_number':1992,'multiline':False]['text':' when the collection acquisition has already gone out of scope.','line_number':1993,'multiline':False]['text':' Acquire a collection that does not exist.','line_number':2010,'multiline':False]['text':' Another client creates the collection','line_number':2017,'multiline':False]['text':' Acquisition still reflects that the collection does not exist.','line_number':2025,'multiline':False]['text':' Original client attempts to create the collection, which will result in a WriteConflict and','line_number':2028,'multiline':False]['text':' rollback.','line_number':2029,'multiline':False]['text':' Check that after rollback the acquisition has been updated to reflect the latest state of the','line_number':2038,'multiline':False]['text':' catalog (i.e. the collection exists).','line_number':2039,'multiline':False]['text':' Acquire a collection','line_number':2049,'multiline':False]['text':' Yield the resources','line_number':2077,'multiline':False]['text':' Placement changes','line_number':2081,'multiline':False]['text':' Try to restore the resources should fail because placement concern is no longer met.','line_number':2099,'multiline':False]['text':' Trying to acquire now should invariant and crash the server since we're in the FAILED state.','line_number':2116,'multiline':False]['text':' ---------------------------------------------------------------------------','line_number':2125,'multiline':False]['text':' Recursive locking','line_number':2126,'multiline':False]['text':' Acquire two collections in the same acquisition.','line_number':2142,'multiline':False]['text':' Check not recursively locked.','line_number':2154,'multiline':False]['text':' Global lock','line_number':2155,'multiline':False]['text':' Release one acquisition. Global lock still held.','line_number':2161,'multiline':False]['text':' Global lock','line_number':2163,'multiline':False]['text':' Release the other acquisition. Global lock no longer held.','line_number':2169,'multiline':False]['text':' Global lock','line_number':2171,'multiline':False]['text':' with locks','line_number':2178,'multiline':False]['text':' lock-free','line_number':2179,'multiline':False]['text':' Acquire two collections in different acquisitions.','line_number':2197,'multiline':False]['text':' Check locked recursively.','line_number':2206,'multiline':False]['text':' Global lock','line_number':2207,'multiline':False]['text':' Release one acquisition. Check no longer locked recursively.','line_number':2213,'multiline':False]['text':' Global lock','line_number':2215,'multiline':False]['text':' Release the other acquisition. Check no locks are held.','line_number':2221,'multiline':False]['text':' Global lock','line_number':2223,'multiline':False]['text':' with locks','line_number':2230,'multiline':False]['text':' lock-free','line_number':2231,'multiline':False]['text':' namespace','line_number':2234,'multiline':False]['text':' namespace mongo','line_number':2235,'multiline':False]