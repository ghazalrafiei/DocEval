['text':'!/bin/bash','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' The script is used to setup the environment for a spawn host. Currently the script','line_number':3,'multiline':False]['text':' unzips the test artifacts, prepend the toolchain path to the PATH environment and exports the','line_number':4,'multiline':False]['text':' LD_LIBRARY_PATH.','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':' Once setup, the script will notify the user who spawned the host that it is finished.','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':' Communicate to users that logged in before the script started that nothing is ready.','line_number':12,'multiline':False]['text':' Make a directory on the larger volume. Soft-link it under the home directory.','line_number':15,'multiline':False]['text':' Find the test artifacts.','line_number':20,'multiline':False]['text':' Setup the gdb environment if there are core dumps present in the artefacts.','line_number':26,'multiline':False]['text':' Read the CMakeCache txt file to find the old source directory and fix up the expected path to','line_number':29,'multiline':False]['text':' the correct path on the new machine.','line_number':30,'multiline':False]['text':' GDB debug symbols includes a path to the source code we originally compiled. However since we','line_number':33,'multiline':False]['text':' compiled on a different machine and copied the artefacts to this spawn host, the file paths','line_number':34,'multiline':False]['text':' have changed. substitute-path command tells gdb the new location of the source code. Therefore','line_number':35,'multiline':False]['text':' set up the shared library paths and add another source directory to look under using','line_number':36,'multiline':False]['text':' substitute path.','line_number':37,'multiline':False]['text':' Allows for autoloading of gdb scripts inside this directory','line_number':42,'multiline':False]['text':' Install CMake into the machine.','line_number':48,'multiline':False]['text':' Prepend the toolchain to the PATH environment and export the TCMALLOC and WT library into the','line_number':52,'multiline':False]['text':' library path.','line_number':53,'multiline':False]['text':' Send a Slack notification as the very last thing the setup_spawn_host script does.','line_number':65,'multiline':False]['text':' Refer to the https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html','line_number':73,'multiline':False]['text':' documentation for more information on the AWS instance metadata endpoints.','line_number':74,'multiline':False]['text':' The Evergreen spawn host is expected to be provisioned with the user's .evergreen.yml credentials.','line_number':80,'multiline':False]['text':' But in case something unexpected happens we don't want the setup_spawn_host script itself','line_number':81,'multiline':False]['text':' to error.','line_number':82,'multiline':False]