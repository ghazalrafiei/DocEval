['text':'!/usr/bin/env python3','line_number':1,'multiline':False]['text':' This Source Code Form is subject to the terms of the Mozilla Public','line_number':2,'multiline':False]['text':' License, v. 2.0. If a copy of the MPL was not distributed with this file,','line_number':3,'multiline':False]['text':' You can obtain one at http://mozilla.org/MPL/2.0/.','line_number':4,'multiline':False]['text':' os.path.expanduser does not work on Windows.','line_number':35,'multiline':False]['text':' shlex quotes for the purpose of passing to the native shell, which is cmd','line_number':44,'multiline':False]['text':' on Windows, and therefore will not replace backslashed paths with forward','line_number':45,'multiline':False]['text':' slashes. When such a path is passed to sh, the backslashes will be','line_number':46,'multiline':False]['text':' interpreted as escape sequences.','line_number':47,'multiline':False]['text':' Some scripts will be called with sh, which cannot use backslashed','line_number':51,'multiline':False]['text':' paths. So for direct subprocess.* invocation, use normal paths from','line_number':52,'multiline':False]['text':' DIR, but when running under the shell, use POSIX style paths.','line_number':53,'multiline':False]['text':' The real default must be set later so that OBJDIR and POBJDIR can be','line_number':98,'multiline':False]['text':' platform-dependent strings.','line_number':99,'multiline':False]['text':' build/win{32,64}/mozconfig.vs-latest uses TOOLTOOL_DIR to set VSPATH.','line_number':182,'multiline':False]['text':' Rewrite js/src/**/moz.build to replace UNIFIED_SOURCES to SOURCES.','line_number':229,'multiline':False]['text':' Note that this modifies the current checkout.','line_number':230,'multiline':False]['text':' By default, we build with NSPR, even if not specified. But we actively allow','line_number':273,'multiline':False]['text':' builds to disable NSPR.','line_number':274,'multiline':False]['text':' Some of the variants request a particular word size (eg ARM simulators).','line_number':279,'multiline':False]['text':' On Linux and Windows, we build 32- and 64-bit versions on a 64 bit','line_number':282,'multiline':False]['text':' host, so the caller has to specify what is desired.','line_number':283,'multiline':False]['text':' Fall back to the word size of the host.','line_number':291,'multiline':False]['text':' Need a platform name to use as a key in variant files.','line_number':295,'multiline':False]['text':' for libnspr etc.','line_number':310,'multiline':False]['text':' existing search path, if any','line_number':312,'multiline':False]['text':' Configure flags, based on word length and cross-compilation','line_number':322,'multiline':False]['text':' Add SSE2 support for x86/x64 architectures.','line_number':330,'multiline':False]['text':' Timeouts.','line_number':345,'multiline':False]['text':' Any jobs that wish to produce additional output can save them into the upload','line_number':362,'multiline':False]['text':' directory if there is such a thing, falling back to OBJDIR.','line_number':363,'multiline':False]['text':' Windows will use cmd for the shell, which causes all sorts of','line_number':373,'multiline':False]['text':' problems. Use sh instead, quoting appropriately. (Use sh in all','line_number':374,'multiline':False]['text':' cases, not just when shell=True, because we want to be able to use','line_number':375,'multiline':False]['text':' paths that sh understands and cmd does not.)','line_number':376,'multiline':False]['text':' Replacement strings in environment variables.','line_number':399,'multiline':False]['text':' Add in environment variable settings for this variant. Normally used to','line_number':407,'multiline':False]['text':' modify the flags passed to the shell or to set the GC zeal mode.','line_number':408,'multiline':False]['text':' Currently only supported on linux64.','line_number':413,'multiline':False]['text':' Generate a mozconfig.','line_number':459,'multiline':False]['text':' Do the build','line_number':472,'multiline':False]['text':' Convert symbols to breakpad format.','line_number':476,'multiline':False]['text':' On Linux, disable ASLR to make shell builds a bit more reproducible.','line_number':493,'multiline':False]['text':' Override environment variant settings conditionally.','line_number':516,'multiline':False]['text':' Skip any tests that are not run on this platform (or the 'all' platform).','line_number':520,'multiline':False]['text':' Add in additional tests for this platform (or the 'all' platform).','line_number':526,'multiline':False]['text':' Now adjust the variant's default test list with command-line arguments.','line_number':532,'multiline':False]['text':' Bug 1391877 - Windows test runs are getting mysterious timeouts when run','line_number':538,'multiline':False]['text':' through taskcluster, but only when running multiple jit-test jobs in','line_number':539,'multiline':False]['text':' parallel. Work around them for now.','line_number':540,'multiline':False]['text':' Bug 1557130 - Atomics tests can create many additional threads which can','line_number':544,'multiline':False]['text':' lead to resource exhaustion, resulting in intermittent failures. This was','line_number':545,'multiline':False]['text':' only seen on beefy machines (> 32 cores), so limit the number of parallel','line_number':546,'multiline':False]['text':' workers for now.','line_number':547,'multiline':False]['text':' Set up later js invocations to run with the breakpad injector loaded.','line_number':555,'multiline':False]['text':' Originally, I intended for this to be used with LD_PRELOAD, but when','line_number':556,'multiline':False]['text':' cross-compiling from 64- to 32-bit, that will fail and produce stderr','line_number':557,'multiline':False]['text':' output when running any 64-bit commands, which breaks eg mozconfig','line_number':558,'multiline':False]['text':' processing. So use the --dll command line mechanism universally.','line_number':559,'multiline':False]['text':' Always run all enabled tests, even if earlier ones failed. But return the','line_number':563,'multiline':False]['text':' first failed status.','line_number':564,'multiline':False]['text':' FIXME bug 1291449: This would be unnecessary if we could run msan with -mllvm','line_number':596,'multiline':False]['text':' -msan-keep-going, but in clang 3.8 it causes a hang during compilation.','line_number':597,'multiline':False]['text':' Summarize results','line_number':606,'multiline':False]['text':' NOQA: E501','line_number':613,'multiline':False]['text':' Some reports include file:line:column, some just','line_number':617,'multiline':False]['text':' file:line. Just in case it's nondeterministic, we will','line_number':618,'multiline':False]['text':' canonicalize to just the line number.','line_number':619,'multiline':False]['text':' Write a summary file and display it to stdout.','line_number':623,'multiline':False]['text':' Gather individual results into a tarball. Note that these are','line_number':638,'multiline':False]['text':' distinguished only by pid of the JS process running within each test, so','line_number':639,'multiline':False]['text':' given the 16-bit limitation of pids, it's totally possible that some of','line_number':640,'multiline':False]['text':' these files will be lost due to being overwritten.','line_number':641,'multiline':False]['text':' Generate stacks from minidumps.','line_number':652,'multiline':False]['text':' Pick the "worst" exit status. SIGSEGV might give a status of -11, so use the','line_number':667,'multiline':False]['text':' maximum absolute value instead of just the maximum.','line_number':668,'multiline':False]['text':' The exit status on Windows can be something like 2147483651 (0x80000003),','line_number':671,'multiline':False]['text':' which will be converted to status zero in the caller. Mask off the high bits,','line_number':672,'multiline':False]['text':' but if the result is zero then fall back to returning 1.','line_number':673,'multiline':False]