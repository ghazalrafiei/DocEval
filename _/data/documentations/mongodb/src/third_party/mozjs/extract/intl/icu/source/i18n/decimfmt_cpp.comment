['text':' Â© 2018 and later: Unicode, Inc. and others.','line_number':1,'multiline':False]['text':' License & terms of use: http://www.unicode.org/copyright.html','line_number':2,'multiline':False]['text':' Allow implicit conversion from char16_t* to UnicodeString for this file:','line_number':8,'multiline':False]['text':' Helpful in toString methods and elsewhere.','line_number':9,'multiline':False]['text':' MSVC VS2015 warns C4805 when comparing bool with UBool, VS2017 no longer emits this warning.','line_number':34,'multiline':False]['text':' TODO: Move this macro into a better place?','line_number':35,'multiline':False]['text':' Use the default locale and decimal pattern.','line_number':49,'multiline':False]['text':' If choice is a currency type, ignore the rounding information.','line_number':80,'multiline':False]['text':' Note: in Java, CurrencyPluralInfo is set in NumberFormat.java, but in C++, it is not set there,','line_number':91,'multiline':False]['text':' so we have to set it here.','line_number':92,'multiline':False]['text':' we must take ownership of symbolsToAdopt, even in a failure case.','line_number':104,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':140,'multiline':False]['text':'* The position at which padding will take place. ','line_number':221,'multiline':True]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':274,'multiline':False]['text':' TBD: what should this return?','line_number':299,'multiline':False]['text':' TBD: what should this return?','line_number':309,'multiline':False]['text':' undefined ','line_number':368,'multiline':True]['text':' to set field for compatibility','line_number':376,'multiline':False]['text':' to set field for compatibility','line_number':386,'multiline':False]['text':' to set field for compatibility','line_number':397,'multiline':False]['text':' TODO: What is parseError for?','line_number':406,'multiline':False]['text':' If we failed to allocate DecimalFormatSymbols, then release fields and its members.','line_number':417,'multiline':False]['text':' We must have a fully complete fields object, we cannot have partially populated members.','line_number':418,'multiline':False]['text':' If the object that we are copying from is invalid, no point in going further.','line_number':430,'multiline':False]['text':' Note: it is not safe to copy fields->formatter or fWarehouse directly because fields->formatter might have','line_number':434,'multiline':False]['text':' dangling pointers to fields inside fWarehouse. The safe thing is to re-construct fields->formatter from','line_number':435,'multiline':False]['text':' the property bag, despite being somewhat slower.','line_number':436,'multiline':False]['text':' no way to report an error.','line_number':439,'multiline':False]['text':' In order to simplify error handling logic in the various getters/setters/etc, we do not allow','line_number':443,'multiline':False]['text':' any partially populated DecimalFormatFields object. We must have a fully complete fields object','line_number':444,'multiline':False]['text':' or else we set it to nullptr.','line_number':445,'multiline':False]['text':' guard against self-assignment','line_number':455,'multiline':False]['text':' Make sure both objects are valid.','line_number':459,'multiline':False]['text':' unfortunately, no way to report an error.','line_number':461,'multiline':False]['text':' We failed to allocate DecimalFormatSymbols, release fields and its members.','line_number':468,'multiline':False]['text':' We must have a fully complete fields object, we cannot have partially populated members.','line_number':469,'multiline':False]['text':' can only clone valid objects.','line_number':494,'multiline':False]['text':' If either object is in an invalid state, prevent dereferencing nullptr below.','line_number':510,'multiline':False]['text':' Additionally, invalid objects should not be considered equal to anything.','line_number':511,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':539,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':542,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':563,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':566,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':619,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':622,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':643,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':646,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':667,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':670,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':687,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':690,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':708,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':711,'multiline':False]['text':' If there is nothing to parse, it is an error','line_number':732,'multiline':False]['text':' Note: if this is a currency instance, currencies will be matched despite the fact that we are not in the','line_number':740,'multiline':False]['text':' parseCurrency method (backwards compatibility)','line_number':741,'multiline':False]['text':' unfortunately no way to report back the error.','line_number':745,'multiline':False]['text':' unfortunately no way to report back the error.','line_number':749,'multiline':False]['text':' TODO: Do we need to check for fImpl->properties->parseAllInput (UCONFIG_HAVE_PARSEALLINPUT) here?','line_number':751,'multiline':False]['text':' Note: if this is a currency instance, currencies will be matched despite the fact that we are not in the','line_number':770,'multiline':False]['text':' parseCurrency method (backwards compatibility)','line_number':771,'multiline':False]['text':' TODO: Do we need to check for fImpl->properties->parseAllInput (UCONFIG_HAVE_PARSEALLINPUT) here?','line_number':781,'multiline':False]['text':' do not allow caller to set fields->symbols to NULL','line_number':807,'multiline':False]['text':' we must take ownership of symbolsToAdopt, even in a failure case.','line_number':809,'multiline':False]['text':' We failed to allocate DecimalFormatSymbols, release fields and its members.','line_number':825,'multiline':False]['text':' We must have a fully complete fields object, we cannot have partially populated members.','line_number':826,'multiline':False]['text':' TODO: should we guard against nullptr input, like in adoptDecimalFormatSymbols?','line_number':843,'multiline':False]['text':' we must take ownership of toAdopt, even in a failure case.','line_number':844,'multiline':False]['text':' Note: clone() can fail with OOM error, but we have no way to report it. :(','line_number':858,'multiline':False]['text':' copy-assignment operator','line_number':861,'multiline':False]['text':' Not much we can do to report an error.','line_number':947,'multiline':False]['text':' Not much we can do to report an error.','line_number':963,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':965,'multiline':False]['text':' one being the benign default value for a multiplier.','line_number':984,'multiline':False]['text':' Try to convert to a magnitude multiplier first','line_number':987,'multiline':False]['text':' Not much we can do to report an error.','line_number':1010,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1012,'multiline':False]['text':' Not much we can do to report an error.','line_number':1026,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1028,'multiline':False]['text':' Not much we can do to report an error.','line_number':1042,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1044,'multiline':False]['text':' UNumberFormatRoundingMode and ERoundingMode have the same values.','line_number':1047,'multiline':False]['text':' to set field for compatibility','line_number':1057,'multiline':False]['text':' Not much we can do to report an error.','line_number':1063,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1065,'multiline':False]['text':' Readonly-alias the static string kFallbackPaddingString','line_number':1080,'multiline':False]['text':' UNumberFormatPadPosition and EPadPosition have the same values.','line_number':1102,'multiline':False]['text':' Not much we can do to report an error.','line_number':1118,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1120,'multiline':False]['text':' Not much we can do to report an error.','line_number':1139,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1141,'multiline':False]['text':' Not much we can do to report an error.','line_number':1155,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1157,'multiline':False]['text':' Not much we can do to report an error.','line_number':1172,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1174,'multiline':False]['text':' Not much we can do to report an error.','line_number':1194,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1196,'multiline':False]['text':' Not much we can do to report an error.','line_number':1215,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1217,'multiline':False]['text':' Not much we can do to report an error.','line_number':1231,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1233,'multiline':False]['text':' Not much we can do to report an error.','line_number':1247,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1249,'multiline':False]['text':' Not much we can do to report an error.','line_number':1263,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1265,'multiline':False]['text':' Not much we can do to report an error.','line_number':1279,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1281,'multiline':False]['text':' Not much we can do to report an error.','line_number':1295,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1297,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1312,'multiline':False]['text':' Pull some properties from exportedProperties and others from properties','line_number':1316,'multiline':False]['text':' to keep affix patterns intact.  In particular, pull rounding properties','line_number':1317,'multiline':False]['text':' so that CurrencyUsage is reflected properly.','line_number':1318,'multiline':False]['text':' TODO: Consider putting this logic in number_patternstring.cpp instead.','line_number':1319,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1341,'multiline':False]['text':' TODO: What is parseError for?','line_number':1352,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':1357,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1360,'multiline':False]['text':' TODO: What is parseError for?','line_number':1370,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':1375,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1378,'multiline':False]['text':' For backwards compatibility, conflicting min/max need to keep the most recent setting.','line_number':1390,'multiline':False]['text':' For backwards compatibility, conflicting min/max need to keep the most recent setting.','line_number':1402,'multiline':False]['text':' cap for backward compatibility, formerly 340, now 999','line_number':1414,'multiline':False]['text':' For backwards compatibility, conflicting min/max need to keep the most recent setting.','line_number':1418,'multiline':False]['text':' For backwards compatibility, conflicting min/max need to keep the most recent setting.','line_number':1430,'multiline':False]['text':' Not much we can do to report an error.','line_number':1440,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1442,'multiline':False]['text':' Not much we can do to report an error.','line_number':1449,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1451,'multiline':False]['text':' Not much we can do to report an error.','line_number':1481,'multiline':False]['text':' Fallback to using the default instance of DecimalFormatProperties.','line_number':1483,'multiline':False]['text':' These are the default values from the old implementation.','line_number':1494,'multiline':False]['text':' don't overwrite ec if it's already a failure.','line_number':1514,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1517,'multiline':False]['text':' to set field for compatibility','line_number':1526,'multiline':False]['text':' In Java, the DecimalFormatSymbols is mutable. Why not in C++?','line_number':1528,'multiline':False]['text':' don't overwrite ec if it's already a failure.','line_number':1541,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1544,'multiline':False]['text':' CurrencyUsage is not exported, so we have to get it from the input property bag.','line_number':1556,'multiline':False]['text':' TODO: Should we export CurrencyUsage instead?','line_number':1557,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':1566,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1569,'multiline':False]['text':' don't overwrite status if it's already a failure.','line_number':1578,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1581,'multiline':False]['text':' We sometimes need to return nullptr here (see ICU-20380)','line_number':1592,'multiline':False]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1595,'multiline':False]['text':'* Rebuilds the formatter object from the property bag. ','line_number':1602,'multiline':True]['text':' We only get here if an OOM error happend during construction, copy construction, assignment, or modification.','line_number':1608,'multiline':False]['text':' For regular construction, the caller should have checked the status variable for errors.','line_number':1609,'multiline':False]['text':' For copy construction, there is unfortunately nothing to report the error, so we need to guard against','line_number':1610,'multiline':False]['text':' this possible bad state here and set the status to an error.','line_number':1611,'multiline':False]['text':' In C++, fields->symbols is the source of truth for the locale.','line_number':1616,'multiline':False]['text':' Note: The formatter is relatively cheap to create, and we need it to populate fields->exportedProperties,','line_number':1619,'multiline':False]['text':' so automatically recompute it here. The parser is a bit more expensive and is not needed until the','line_number':1620,'multiline':False]['text':' parse method is called, so defer that until needed.','line_number':1621,'multiline':False]['text':' TODO: Only update the pieces that changed instead of re-computing the whole formatter?','line_number':1622,'multiline':False]['text':' Since memory has already been allocated for the formatter, we can move assign a stack-allocated object','line_number':1624,'multiline':False]['text':' and don't need to call new. (Which is slower and could possibly fail).','line_number':1625,'multiline':False]['text':' Do this after fields->exportedProperties are set up','line_number':1630,'multiline':False]['text':' Delete the parsers if they were made previously','line_number':1633,'multiline':False]['text':' In order for the getters to work, we need to populate some fields in NumberFormat.','line_number':1642,'multiline':False]['text':' fImpl->properties, not fields->exportedProperties, since this information comes from the pattern:','line_number':1648,'multiline':False]['text':' Cast workaround to get around putting the enum in the public header file','line_number':1660,'multiline':False]['text':' TODO: Move this into umutex.h? (similar logic also in numrange_fluent.cpp)','line_number':1667,'multiline':False]['text':' See ICU-20146','line_number':1668,'multiline':False]['text':' First try to get the pre-computed parser','line_number':1674,'multiline':False]['text':' Try computing the parser on our own','line_number':1684,'multiline':False]['text':' Note: ptr starts as nullptr; during compare_exchange,','line_number':1694,'multiline':False]['text':' it is set to what is actually stored in the atomic','line_number':1695,'multiline':False]['text':' if another thread beat us to computing the parser object.','line_number':1696,'multiline':False]['text':' Another thread beat us to computing the parser','line_number':1700,'multiline':False]['text':' Our copy of the parser got stored in the atomic','line_number':1704,'multiline':False]['text':' First try to get the pre-computed parser','line_number':1716,'multiline':False]['text':' Try computing the parser on our own','line_number':1726,'multiline':False]['text':' although we may still dereference, call sites should be guarded','line_number':1730,'multiline':False]['text':' Note: ptr starts as nullptr; during compare_exchange, it is set to what is actually stored in the','line_number':1733,'multiline':False]['text':' atomic if another thread beat us to computing the parser object.','line_number':1734,'multiline':False]['text':' Another thread beat us to computing the parser','line_number':1738,'multiline':False]['text':' Our copy of the parser got stored in the atomic','line_number':1742,'multiline':False]['text':' always return first occurrence:','line_number':1758,'multiline':False]['text':' To debug fast-format, change void(x) to printf(x)','line_number':1781,'multiline':False]['text':' Check the majority of properties:','line_number':1785,'multiline':False]['text':' Now check the remaining properties.','line_number':1792,'multiline':False]['text':' Nontrivial affixes:','line_number':1793,'multiline':False]['text':' Grouping (secondary grouping is forbidden in equalsDefaultExceptFastFormat):','line_number':1806,'multiline':False]['text':' Integer length:','line_number':1817,'multiline':False]['text':' Fastpath supports up to only 10 digits (length of INT32_MIN)','line_number':1820,'multiline':False]['text':' Fraction length (no fraction part allowed in fast path):','line_number':1827,'multiline':False]['text':' Other symbols:','line_number':1835,'multiline':False]['text':' Good to go!','line_number':1844,'multiline':False]['text':' handled by callers','line_number':1883,'multiline':False]['text':' Cap at int32_t to make the buffer small and operations fast.','line_number':1886,'multiline':False]['text':' Longest string: "2,147,483,648" (13 chars in length)','line_number':1887,'multiline':False]['text':' #if !UCONFIG_NO_FORMATTING ','line_number':1907,'multiline':True]