['text':' This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. ','line_number':1,'multiline':True]['text':' Function template for the following functions:','line_number':5,'multiline':False]['text':'   * RegExpLocalReplaceOpt','line_number':6,'multiline':False]['text':'   * RegExpLocalReplaceOptFunc','line_number':7,'multiline':False]['text':'   * RegExpLocalReplaceOptSubst','line_number':8,'multiline':False]['text':' Define the following macro and include this file to declare function:','line_number':9,'multiline':False]['text':'   * FUNC_NAME     -- function name (required)','line_number':10,'multiline':False]['text':'       e.g.','line_number':11,'multiline':False]['text':'         #define FUNC_NAME RegExpLocalReplaceOpt','line_number':12,'multiline':False]['text':' Define the following macro (without value) to switch the code:','line_number':13,'multiline':False]['text':'   * SUBSTITUTION     -- replaceValue is a string with "$"','line_number':14,'multiline':False]['text':'   * FUNCTIONAL       -- replaceValue is a function','line_number':15,'multiline':False]['text':'   * SHORT_STRING     -- replaceValue is a string without "$" and lengthS < 0x7fff','line_number':16,'multiline':False]['text':'   * neither of above -- replaceValue is a string without "$"','line_number':17,'multiline':False]['text':' ES 2017 draft 6390c2f1b34b309895d31d8c0512eac8660a0210 21.2.5.8','line_number':19,'multiline':False]['text':' steps 11.a-16.','line_number':20,'multiline':False]['text':' Optimized path for @@replace with the following conditions:','line_number':21,'multiline':False]['text':'   * global flag is false','line_number':22,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, step 4.','line_number':29,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, step 5.','line_number':32,'multiline':False]['text':' Side-effects in step 4 can recompile the RegExp, so we need to read the','line_number':33,'multiline':False]['text':' flags again and handle the case when global was enabled even though this','line_number':34,'multiline':False]['text':' function is optimized for non-global RegExps.','line_number':35,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, steps 6-7.','line_number':38,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, step 12.a.','line_number':42,'multiline':False]['text':' Steps 12-16.','line_number':47,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, step 8.','line_number':51,'multiline':False]['text':' Step 11.a.','line_number':56,'multiline':False]['text':' Step 11.b.','line_number':59,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, steps 12.a.i, 12.c.i.','line_number':61,'multiline':False]['text':' Steps 12-16.','line_number':65,'multiline':False]['text':' Step 11.a.','line_number':69,'multiline':False]['text':' Step 11.b.','line_number':72,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, steps 12.a.i, 12.c.i.','line_number':74,'multiline':False]['text':' Steps 12-16.','line_number':78,'multiline':False]['text':' Steps 11.c, 12-13.','line_number':83,'multiline':False]['text':' Steps 14.a-b.','line_number':86,'multiline':False]['text':' Step 14.c.','line_number':89,'multiline':False]['text':' Step 14.d.','line_number':92,'multiline':False]['text':' Step 14.e-f.','line_number':95,'multiline':False]['text':' Step 14.m.iii (reordered)','line_number':98,'multiline':False]['text':' To set rx.lastIndex before RegExpGetFunctionalReplacement.','line_number':99,'multiline':False]['text':' Steps 14.a-d (skipped).','line_number':102,'multiline':False]['text':' Step 14.e-f.','line_number':104,'multiline':False]['text':' Step 14.l.iii (reordered)','line_number':107,'multiline':False]['text':' 21.2.5.2.2 RegExpBuiltinExec, step 15.','line_number':111,'multiline':False]['text':' Steps g-l.','line_number':116,'multiline':False]['text':' Step l.i','line_number':120,'multiline':False]['text':' Step l.ii','line_number':125,'multiline':False]['text':' Step 14.m.ii.','line_number':132,'multiline':False]['text':' Step 15.','line_number':135,'multiline':False]['text':' Step 16.','line_number':139,'multiline':False]