['text':' -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*-
 * vim: set ts=8 sts=2 et sw=2 tw=80:
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. ','line_number':1,'multiline':True]['text':' For now assert each Proxy Class has at least 1 reserved slot. This is','line_number':27,'multiline':False]['text':' not a hard requirement, but helps catch Classes that need an explicit','line_number':28,'multiline':False]['text':' JSCLASS_HAS_RESERVED_SLOTS since bug 1360523.','line_number':29,'multiline':False]['text':' The expando slot is nullptr until required by the installation of','line_number':64,'multiline':False]['text':' a private field.','line_number':65,'multiline':False]['text':' static ','line_number':69,'multiline':True]['text':' Try to look up the shape in the NewProxyCache.','line_number':94,'multiline':False]['text':' nfixed = ','line_number':98,'multiline':True]['text':' Ensure that the wrapper has the same lifetime assumptions as the','line_number':109,'multiline':False]['text':' wrappee. Prefer to allocate in the nursery, when possible.','line_number':110,'multiline':False]['text':' nDynamicSlots = ','line_number':122,'multiline':True]['text':' Ensure that we don't accidentally end up pointing to a','line_number':162,'multiline':False]['text':' grey object, which would violate GC invariants.','line_number':163,'multiline':False]['text':' Ensure we're in the same compartment as the proxy object: Don't want the','line_number':167,'multiline':False]['text':' expando to end up as a CCW.','line_number':168,'multiline':False]['text':' Notify the zone that a delegate is no longer a delegate. Be careful not to','line_number':174,'multiline':False]['text':' expose this pointer, because it has already been removed from the wrapper','line_number':175,'multiline':False]['text':' map yet we have assertions during tracing that will verify that it is','line_number':176,'multiline':False]['text':' still present.','line_number':177,'multiline':False]['text':' Clear the target reference and replaced it with a value that encodes','line_number':183,'multiline':False]['text':' various information about the original target.','line_number':184,'multiline':False]['text':' Clear out the expando','line_number':187,'multiline':False]['text':' Update the handler to make this a DeadObjectProxy.','line_number':190,'multiline':False]['text':' The proxy's reserved slots are not cleared and will continue to be','line_number':193,'multiline':False]['text':' traced. This avoids the possibility of triggering write barriers while','line_number':194,'multiline':False]['text':' nuking proxies in dead compartments which could otherwise cause those','line_number':195,'multiline':False]['text':' compartments to be kept alive. Note that these are slots cannot hold','line_number':196,'multiline':False]['text':' cross compartment pointers, so this cannot cause the target compartment','line_number':197,'multiline':False]['text':' to leak.','line_number':198,'multiline':False]['text':' Slots in proxies are not GCPtrValues, so do a cast whenever assigning','line_number':203,'multiline':False]['text':' values to them which might trigger a barrier.','line_number':204,'multiline':False]