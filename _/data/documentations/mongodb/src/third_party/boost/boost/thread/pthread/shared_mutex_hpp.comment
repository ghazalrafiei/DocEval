['text':'  (C) Copyright 2006-8 Anthony Williams','line_number':4,'multiline':False]['text':'  (C) Copyright 2012 Vicente J. Botet Escriba','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':'  Distributed under the Boost Software License, Version 1.0. (See','line_number':7,'multiline':False]['text':'  accompanying file LICENSE_1_0.txt or copy at','line_number':8,'multiline':False]['text':'  http://www.boost.org/LICENSE_1_0.txt)','line_number':9,'multiline':False]['text':'BOOST_ASSERT( (! upgrade) || (shared_count>1));','line_number':60,'multiline':False]['text':' if upgraded there are at least 2 threads sharing the mutex,','line_number':61,'multiline':False]['text':' except when unlock_upgrade_and_lock has decreased the number of readers but has not taken yet exclusive ownership.','line_number':62,'multiline':False]['text':'private:','line_number':135,'multiline':False]['text':' As there is a thread doing a unlock_upgrade_and_lock that is waiting for state.no_shared()','line_number':250,'multiline':False]['text':' avoid other threads to lock, lock_upgrade or lock_shared, so only this thread is notified.','line_number':251,'multiline':False]['text':'lk.unlock();','line_number':254,'multiline':False]['text':'lk.unlock();','line_number':260,'multiline':False]['text':'state.upgrade=false;','line_number':440,'multiline':False]['text':' Upgrade <-> Exclusive','line_number':451,'multiline':False]['text':' Shared <-> Exclusive','line_number':526,'multiline':False]['text':' Shared <-> Upgrade','line_number':585,'multiline':False]