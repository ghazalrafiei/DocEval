['text':' Tests that the last vote document is stored during elections and that it is loaded and used on','line_number':1,'multiline':False]['text':' startup.','line_number':2,'multiline':False]['text':'','line_number':3,'multiline':False]['text':' The test first runs a few elections and checks that the lastVote document is set correctly','line_number':4,'multiline':False]['text':' after each one.','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':' The test then restarts one node as a standalone, changes its last vote doc, and stops the','line_number':7,'multiline':False]['text':' other node. It then restarts the first node as a replicaset and manually runs','line_number':8,'multiline':False]['text':' replSetRequestVotes commands against it and checks that its response is correct.','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' @tags: [','line_number':11,'multiline':False]['text':'   requires_persistence,','line_number':12,'multiline':False]['text':' ]','line_number':13,'multiline':False]['text':' Initiate the set with a high election timeout so that there aren't any unplanned elections.','line_number':23,'multiline':False]['text':' Run a few successive elections, alternating who becomes primary.','line_number':53,'multiline':False]['text':' SERVER-20844 ReplSetTest starts up a single node replica set then reconfigures to the','line_number':60,'multiline':False]['text':' correct size, so secondaries didn't vote in the first election.','line_number':61,'multiline':False]['text':' Make sure a new primary has been established.','line_number':72,'multiline':False]['text':' Reset election timeout for the old primary.','line_number':76,'multiline':False]['text':' Ensure that all ops are replicated before stepping up node 1.','line_number':84,'multiline':False]['text':' We cannot reconfig node 0 to have priority 0 if it is currently the primary,','line_number':87,'multiline':False]['text':' so we make sure node 1 is primary.','line_number':88,'multiline':False]['text':' Restart as a standalone node.','line_number':100,'multiline':False]['text':' Stop node 1 so that node 0 controls the term by itself.','line_number':102,'multiline':False]['text':' Restart in replSet mode again.','line_number':108,'multiline':False]