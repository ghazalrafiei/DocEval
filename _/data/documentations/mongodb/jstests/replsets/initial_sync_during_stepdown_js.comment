['text':'*
 * Test that stepdown during collection cloning and oplog fetching does not interrupt initial sync.
 ','line_number':1,'multiline':True]['text':' Start a 3 node replica set to avoid primary step down after secondary restart.','line_number':11,'multiline':False]['text':' The default WC is majority and this test can't satisfy majority writes.','line_number':27,'multiline':False]['text':' Skip clearing initial sync progress after a successful initial sync attempt so that we','line_number':54,'multiline':False]['text':' can check initialSyncStatus fields after initial sync is complete.','line_number':55,'multiline':False]['text':' Wait until secondary reaches RS_STARTUP2 state.','line_number':61,'multiline':False]['text':' Wait until the step down has started to kill user operations.','line_number':75,'multiline':False]['text':' Wait until the primary transitioned to SECONDARY state.','line_number':84,'multiline':False]['text':' As checkReplicatedDataHashes requires primary to validate the cloned data, we need to','line_number':93,'multiline':False]['text':' unfreeze the old primary and make it re-elected.','line_number':94,'multiline':False]['text':' Restart secondary with "oplogFetcherInitialSyncMaxFetcherRestarts"','line_number':131,'multiline':False]['text':' set to zero to avoid masking the oplog fetcher error and an increased oplog fetcher network','line_number':132,'multiline':False]['text':' timeout to avoid spurious failures. Enable fail point "waitAfterPinningCursorBeforeGetMoreBatch"','line_number':133,'multiline':False]['text':' which drops and reacquires read lock to prevent deadlock between getmore and insert thread for','line_number':134,'multiline':False]['text':' ephemeral storage engine.','line_number':135,'multiline':False]['text':' Insert more data so that these are replicated to secondary node via oplog fetcher.','line_number':156,'multiline':False]['text':' Insert is successful. So, enable fail point "waitWithPinnedCursorDuringGetMoreBatch"','line_number':160,'multiline':False]['text':' such that it doesn't drop locks when getmore cmd waits inside the fail point block.','line_number':161,'multiline':False]['text':' Now, disable fail point "waitAfterPinningCursorBeforeGetMoreBatch" to allow getmore to','line_number':168,'multiline':False]['text':' continue and hang on "waitWithPinnedCursorDuringGetMoreBatch" fail point.','line_number':169,'multiline':False]['text':' Disable fail point on secondary to allow initial sync to continue.','line_number':173,'multiline':False]