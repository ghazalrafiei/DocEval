['text':'*
 * Tests that CRUD and aggregation commands through the mongos continue to work as expected on both
 * sharded and unsharded collection at each step of cluster upgrade/downgrade between last-lts and
 * latest and between last-continuous and latest.
 ','line_number':1,'multiline':True]['text':' When checking UUID consistency, the shell attempts to run a command on the node it believes is','line_number':15,'multiline':False]['text':' primary in each shard. However, this test restarts shards, and the node that is elected primary','line_number':16,'multiline':False]['text':' after the restart may be different from the original primary. Since the shell does not retry on','line_number':17,'multiline':False]['text':' NotWritablePrimary errors, and whether or not it detects the new primary before issuing the','line_number':18,'multiline':False]['text':' command is nondeterministic, skip the consistency check for this test.','line_number':19,'multiline':False]['text':' Test upgrade/downgrade between "latest" and "last-lts"/"last-continuous".','line_number':22,'multiline':False]['text':' check that config.version document gets initialized properly','line_number':38,'multiline':False]['text':' Setup sharded collection','line_number':43,'multiline':False]['text':' upgrade the config servers first','line_number':56,'multiline':False]['text':' Restart mongos to clear all cache and force it to do remote calls.','line_number':64,'multiline':False]['text':' Then upgrade the shards.','line_number':71,'multiline':False]['text':' Restart mongos to clear all cache and force it to do remote calls.','line_number':82,'multiline':False]['text':' Finally, upgrade mongos','line_number':89,'multiline':False]['text':' Restart mongos to clear all cache and force it to do remote calls.','line_number':97,'multiline':False]['text':' Check that version document is unmodified.','line_number':104,'multiline':False]['text':'/////////////////////////////////////////////////////////////////////////////////////////','line_number':108,'multiline':False]['text':' Downgrade back','line_number':109,'multiline':False]['text':' Restart mongos to clear all cache and force it to do remote calls.','line_number':118,'multiline':False]['text':' Restart mongos to clear all cache and force it to do remote calls.','line_number':135,'multiline':False]['text':' Restart mongos to clear all cache and force it to do remote calls.','line_number':149,'multiline':False]['text':' Check that version document is unmodified.','line_number':156,'multiline':False]