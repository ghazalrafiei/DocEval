['text':' Tests that an aggregation error which occurs on a sharded collection will send an error message','line_number':1,'multiline':False]['text':' containing the host and port of the shard where the error occurred.','line_number':2,'multiline':False]['text':' Enable sharding on the test DB and ensure its primary is shard 0.','line_number':10,'multiline':False]['text':' Shard the collection.','line_number':14,'multiline':False]['text':' Run an aggregation which will fail on shard 1, and verify that the error message contains','line_number':20,'multiline':False]['text':' the host and port of the shard that failed.','line_number':21,'multiline':False]['text':' We need to be careful here to involve some data in the computation that is actually','line_number':22,'multiline':False]['text':' sent to the shard before failing (i.e. "$_id") so that mongos doesn't short-curcuit and','line_number':23,'multiline':False]['text':' fail during optimization.','line_number':24,'multiline':False]