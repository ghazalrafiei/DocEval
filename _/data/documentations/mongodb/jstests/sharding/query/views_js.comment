['text':'*
 * Tests for expected behavior when querying a view that is based on a sharded collection.
 * @tags: [
 *  requires_fcv_63,
 * ]
 ','line_number':1,'multiline':True]['text':' Legal values for the verifyExplainResult() 'optimizedAwayPipeline' argument.','line_number':10,'multiline':False]['text':' Given sharded explain output in 'shardedExplain', verifies that the explain mode 'verbosity'','line_number':15,'multiline':False]['text':' affected the output verbosity appropriately, and that the response has the expected format.','line_number':16,'multiline':False]['text':' Set 'optimizedAwayPipeline' to:','line_number':17,'multiline':False]['text':'   kOptTrue if the pipeline is expected to be optimized away','line_number':18,'multiline':False]['text':'   kOptFalse if the pipeline is expected to be present','line_number':19,'multiline':False]['text':'   kOptEither if the call does not know so must accept either of the prior two cases','line_number':20,'multiline':False]['text':' Verifies the explain for each shard.','line_number':26,'multiline':False]['text':' Resolve 'kOptEither' to 'kOptTrue' or 'kOptFalse' for the current shard. If 'shard' has a','line_number':31,'multiline':False]['text':' "queryPlanner" property, this means the pipeline has been optimized away. (When the','line_number':32,'multiline':False]['text':' pipeline is present, "queryPlanner" is instead a property of shard.stages[0].$cursor.)','line_number':33,'multiline':False]['text':' Verify the explain output.','line_number':43,'multiline':False]['text':'','line_number':94,'multiline':False]['text':' find','line_number':95,'multiline':False]['text':'','line_number':96,'multiline':False]['text':'','line_number':108,'multiline':False]['text':' aggregate','line_number':109,'multiline':False]['text':'','line_number':110,'multiline':False]['text':' Test that the explain:true flag for the aggregate command results in queryPlanner verbosity.','line_number':113,'multiline':False]['text':'','line_number':131,'multiline':False]['text':' count','line_number':132,'multiline':False]['text':'','line_number':133,'multiline':False]['text':' "count" on a view that is a $match will produce different explain output on Classic vs SBE, as','line_number':136,'multiline':False]['text':' the query will be rewriten as a $group, but only SBE has a $group pushdown feature, which','line_number':137,'multiline':False]['text':' optimizes away the pipeline. Depending on build variant and engine selection flags, as well as','line_number':138,'multiline':False]['text':' specific configurations of individual nodes in multiversion clusters, we may get either the','line_number':139,'multiline':False]['text':' Classic or SBE explain variant, so here we accept either one ('kOptEither').','line_number':140,'multiline':False]['text':'','line_number':150,'multiline':False]['text':' distinct','line_number':151,'multiline':False]['text':'','line_number':152,'multiline':False]['text':'','line_number':165,'multiline':False]['text':' Confirm cleanupOrphaned command fails.','line_number':166,'multiline':False]['text':'','line_number':167,'multiline':False]['text':'','line_number':173,'multiline':False]['text':'  Confirm getShardVersion command fails.','line_number':174,'multiline':False]['text':'','line_number':175,'multiline':False]['text':'','line_number':179,'multiline':False]['text':' Confirm that the comment parameter on a find command is retained when rewritten as an','line_number':180,'multiline':False]['text':' expanded aggregation on the view.','line_number':181,'multiline':False]['text':'','line_number':182,'multiline':False]