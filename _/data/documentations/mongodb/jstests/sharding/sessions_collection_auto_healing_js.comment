['text':'*
 * Requires no shards.
 * @tags: [
 *   config_shard_incompatible,
 *   requires_fcv_70,
 * ]
 ','line_number':1,'multiline':True]['text':' This test makes assertions about the number of sessions, which are not compatible with','line_number':10,'multiline':False]['text':' implicit sessions.','line_number':11,'multiline':False]['text':' Test that we can use sessions on the config server before we add any shards.','line_number':26,'multiline':False]['text':' Test that we can use sessions on a mongos before we add any shards.','line_number':37,'multiline':False]['text':' Test that the config server does not create the sessions collection','line_number':48,'multiline':False]['text':' if there are not any shards.','line_number':49,'multiline':False]['text':' Test-wide: add a shard','line_number':59,'multiline':False]['text':' Test that we can add this shard, even with a local config.system.sessions collection,','line_number':67,'multiline':False]['text':' and test that we drop its local collection','line_number':68,'multiline':False]['text':' Test that we can use sessions on a shard before the sessions collection','line_number':78,'multiline':False]['text':' is set up by the config servers.','line_number':79,'multiline':False]['text':' Test that we can use sessions from a mongos before the sessions collection','line_number':90,'multiline':False]['text':' is set up by the config servers.','line_number':91,'multiline':False]['text':' Test that if we do a refresh (write) from a shard server while there','line_number':104,'multiline':False]['text':' is no sessions collection, it does not create the sessions collection.','line_number':105,'multiline':False]['text':' Test that a refresh on the config servers once there are shards creates','line_number':117,'multiline':False]['text':' the sessions collection on a shard.','line_number':118,'multiline':False]['text':' We will have sessionsOpenedByDDLOps sessions because of the sessions used in the','line_number':130,'multiline':False]['text':' shardCollection's retryable write to shard the sessions collection. It will disappear after','line_number':131,'multiline':False]['text':' we run the refresh function on the shard.','line_number':132,'multiline':False]['text':' Now, if we do refreshes on the other servers, their in-mem records will','line_number':137,'multiline':False]['text':' be written to the collection.','line_number':138,'multiline':False]['text':' Test that if we drop the index on the sessions collection, only a refresh on the config','line_number':151,'multiline':False]['text':' server heals it.','line_number':152,'multiline':False]