['text':' This test is to ensure that limit() clauses are pushed down to the shards and evaluated','line_number':1,'multiline':False]['text':' See: http://jira.mongodb.org/browse/SERVER-1896','line_number':2,'multiline':False]['text':' Create some data','line_number':9,'multiline':False]['text':' Shard the collection','line_number':16,'multiline':False]['text':' Now split the and move the data between the shards','line_number':19,'multiline':False]['text':' Check that the chunck have split correctly','line_number':28,'multiline':False]['text':' The query is asking for the maximum value below a given value','line_number':32,'multiline':False]['text':' db.limit_push.find( { x : { $lt : 60} } ).sort( { x:-1} ).limit(1)','line_number':33,'multiline':False]['text':' Make sure the basic queries are correct','line_number':36,'multiline':False]['text':' rs = db.limit_push.find( q ).sort( { x:-1} ).limit(1)','line_number':38,'multiline':False]['text':' assert.eq( rs , { _id : "1" , x : 59 } , "Did not find document with value 59" );','line_number':39,'multiline':False]['text':' Now make sure that the explain shos that each shard is returning a single document as','line_number':41,'multiline':False]['text':' indicated','line_number':42,'multiline':False]['text':' by the "n" element for each shard','line_number':43,'multiline':False]