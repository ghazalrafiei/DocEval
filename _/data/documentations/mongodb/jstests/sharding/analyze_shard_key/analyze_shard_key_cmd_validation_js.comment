['text':'*
 * Tests that basic validation within the analyzeShardKey command.
 *
 * @tags: [requires_fcv_70, featureFlagColumnstoreIndexes]
 ','line_number':1,'multiline':True]['text':' Set the fail point that would make the analyzeShardKey command fail with an InternalError','line_number':15,'multiline':False]['text':' before metrics calculation. That way if there is no expected validation before the metrics','line_number':16,'multiline':False]['text':' calculation, the command would fail with an InternalError error instead of the expected','line_number':17,'multiline':False]['text':' error.','line_number':18,'multiline':False]['text':' To make the collection non-empty, keep the document from above but set the value of the','line_number':60,'multiline':False]['text':' array field to null (otherwise, the command would fail with a BadValue error again).','line_number':61,'multiline':False]['text':' The sampling-based initial split policy needs 10 samples per split point so','line_number':89,'multiline':False]['text':' 10 * analyzeShardKeyNumRanges is the minimum number of distinct shard key values that the','line_number':90,'multiline':False]['text':' collection must have for the command to not fail to generate split points.','line_number':91,'multiline':False]['text':' Insert the documents but set the array field to null so it passes the best-effort validation','line_number':107,'multiline':False]['text':' at the start of the command.','line_number':108,'multiline':False]['text':' Re-insert the documents. The best-effort validation when generating split points should','line_number':114,'multiline':False]['text':' detect that the shard key contains an array field and fail.','line_number':115,'multiline':False]['text':' Disable the calculation of all metrics to test validation at the start of the command.','line_number':131,'multiline':False]['text':' TODO: SERVER-80318 Remove block','line_number':140,'multiline':False]