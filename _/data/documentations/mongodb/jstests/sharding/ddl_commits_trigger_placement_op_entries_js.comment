['text':'*
 * Verifies that successful commits of Sharding DDL operations generate the expected op entry types
 * (following the format and rules defined in the design doc of PM-1939).
 * TODO SERVER-81138 remove multiversion_incompatible and fix comparison with 7.0 binaries
 * @tags: [
 *   does_not_support_stepdowns,
 *   requires_fcv_70,
 * ]
 ','line_number':1,'multiline':True]['text':' The creation of a database is matched by the generation of two op entries:','line_number':16,'multiline':False]['text':' - One emitted before the metadata is committed on the sharding catalog','line_number':18,'multiline':False]['text':' - The second one emitted once the metadata is committed on the sharding catalog','line_number':25,'multiline':False]['text':' SERVER-83104: Remove 'numInitialChunks' check once 8.0 becomes last LTS.','line_number':47,'multiline':False]['text':' SERVER-83104: Remove 'capped' check once 8.0 becomes last LTS.','line_number':52,'multiline':False]['text':' Each shard of the cluster should have received the notifications about the database creation','line_number':70,'multiline':False]['text':' (and generated the related op entries).','line_number':71,'multiline':False]['text':' Run shardCollection, with each shard hosting one chunk.','line_number':85,'multiline':False]['text':' Verify that the op entries for the creation of the parent DB have been generated on each','line_number':89,'multiline':False]['text':' shard of the cluster.','line_number':90,'multiline':False]['text':' Verify that the op entries for the sharded collection have been generated by the primary','line_number':96,'multiline':False]['text':' shard.','line_number':97,'multiline':False]['text':' Shard names are sorted by the server.','line_number':99,'multiline':False]['text':' One entry emitted before the metadata is committed on the sharding catalog','line_number':104,'multiline':False]['text':' One entry emitted once the metadata is committed on the sharding catalog','line_number':118,'multiline':False]['text':' Create and shard a timeseries collection. The timeField is also used as shard key to verify','line_number':141,'multiline':False]['text':' that its value gets correctly encoded within the 'o2' field of the oplog.','line_number':142,'multiline':False]['text':' One entry emitted before the DDL is committed on the sharding catalog','line_number':160,'multiline':False]['text':' One entry emitted once the DDL is committed on the sharding catalog','line_number':181,'multiline':False]['text':' Create a new replica set and populate it with two DBs','line_number':210,'multiline':False]['text':' Add the new replica set as a shard','line_number':222,'multiline':False]['text':' Each already existing shard should contain the op entries for each database hosted by','line_number':225,'multiline':False]['text':' newReplicaSet (that have been added to the catalog as part of addShard).','line_number':226,'multiline':False]['text':'isImported','line_number':229,'multiline':True]['text':' Execute the test case teardown','line_number':233,'multiline':False]['text':' Set the initial state','line_number':248,'multiline':False]['text':' Move the primary shard.','line_number':254,'multiline':False]['text':' Verify that the old shard generated the expected event.','line_number':258,'multiline':False]