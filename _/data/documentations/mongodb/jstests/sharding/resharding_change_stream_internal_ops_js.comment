['text':' Tests that internal resharding ops are exposed as change stream events during a','line_number':1,'multiline':False]['text':' resharding operation. Internal resharding ops include:','line_number':2,'multiline':False]['text':' 1. reshardBegin','line_number':3,'multiline':False]['text':' 2. reshardDoneCatchUp','line_number':4,'multiline':False]['text':'','line_number':5,'multiline':False]['text':' @tags: [','line_number':6,'multiline':False]['text':'   requires_majority_read_concern,','line_number':7,'multiline':False]['text':'   uses_change_streams,','line_number':8,'multiline':False]['text':'   uses_atclustertime,','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' ]','line_number':11,'multiline':False]['text':' Use a higher frequency for periodic noops to speed up the test.','line_number':16,'multiline':False]['text':' If a donor is also a recipient, the donor state machine will run renameCollection with','line_number':63,'multiline':False]['text':' {dropTarget : true} rather than running drop and letting the recipient state machine run','line_number':64,'multiline':False]['text':' rename at the end of the resharding operation. So, we ensure that only one of the donor','line_number':65,'multiline':False]['text':' shards will also be a recipient shard in order to verify that neither the rename with','line_number':66,'multiline':False]['text':' {dropTarget : true} nor the drop command are picked up by the change streams cursor.','line_number':67,'multiline':False]['text':' Wait until participants are aware of the resharding operation.','line_number':74,'multiline':False]['text':' Check for reshardBegin event on both donors.','line_number':85,'multiline':False]['text':' skipFirstBatch ','line_number':93,'multiline':True]['text':' skipFirstBatch ','line_number':98,'multiline':True]['text':' Check for reshardDoneCatchUp event on the recipient.','line_number':103,'multiline':False]['text':' skipFirstBatch ','line_number':110,'multiline':True]['text':' Ensure that the 'reshardingDoneCatchUp' event has an 'ns' field of the format','line_number':112,'multiline':False]['text':' '{ns: kDbName, coll: "system.resharding.<>"}.','line_number':113,'multiline':False]