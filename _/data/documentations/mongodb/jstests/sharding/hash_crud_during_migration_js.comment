['text':'
 * Test that crud and find operations target the right shards during migration.
 * @tags: [uses_transactions, uses_prepare_transaction]
 ','line_number':1,'multiline':True]['text':' For startParallelOps to write its state.','line_number':16,'multiline':False]['text':' Insert a doc while migrating the chunk that the doc belongs to.','line_number':24,'multiline':False]['text':' Create a chunk dedicated for the inserted document','line_number':27,'multiline':False]['text':' findCriteria ','line_number':39,'multiline':True]['text':' Check that the inserted doc is on the recipient shard.','line_number':47,'multiline':False]['text':' Clean up.','line_number':51,'multiline':False]['text':' Insert docs that are expected to go to three different shards, check that the docs','line_number':56,'multiline':False]['text':' are on the right shards and store the shard and chunk bounds for each doc.','line_number':57,'multiline':False]['text':' Perform a series of operations on docs[1] while moving the chunk that it belongs to','line_number':73,'multiline':False]['text':' from shards[1] to shards[2], then to shards[0] and back to shards[1].','line_number':74,'multiline':False]['text':' Update the doc while migrating the chunk.','line_number':77,'multiline':False]['text':' findCriteria ','line_number':81,'multiline':True]['text':' Check that the doc is updated correctly.','line_number':85,'multiline':False]['text':' findAndModify the doc while migrating the chunk.','line_number':92,'multiline':False]['text':' findCriteria ','line_number':96,'multiline':True]['text':' Check that the doc is updated correctly.','line_number':101,'multiline':False]['text':' Remove the doc while migrating the chunk.','line_number':108,'multiline':False]['text':' findCriteria ','line_number':112,'multiline':True]['text':' Check that the doc is removed correctly.','line_number':116,'multiline':False]