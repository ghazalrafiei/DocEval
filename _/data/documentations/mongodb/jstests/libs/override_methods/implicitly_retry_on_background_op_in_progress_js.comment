['text':'*
 * Overrides runCommand so operations that encounter the BackgroundOperationInProgressForNs/Db error
 * codes automatically retry.
 ','line_number':1,'multiline':True]['text':' These are all commands that can return BackgroundOperationInProgress error codes.','line_number':8,'multiline':False]['text':' Allowlisted errors commands may encounter when retried on a sharded cluster. Shards may','line_number':22,'multiline':False]['text':' return different responses, so errors associated with repeated executions of a command may be','line_number':23,'multiline':False]['text':' ignored.','line_number':24,'multiline':False]['text':' Make it easier to understand whether or not returns from the assert.soon are being retried.','line_number':34,'multiline':False]['text':' Only these are retryable.','line_number':39,'multiline':False]['text':' Commands that are not in the allowlist should never fail with this error code.','line_number':61,'multiline':False]['text':' This handles the retry case when run against a standalone, replica set, or mongos','line_number':70,'multiline':False]['text':' where both shards returned the same response.','line_number':71,'multiline':False]['text':' The following logic only applies to sharded clusters.','line_number':77,'multiline':False]['text':' We don't attempt to retry commands for which mongos doesn't expose the raw','line_number':79,'multiline':False]['text':' responses from the shards.','line_number':80,'multiline':False]['text':' In certain cases, retrying a command on a sharded cluster may result in a','line_number':84,'multiline':False]['text':' scenario where one shard has executed the command and another still has a','line_number':85,'multiline':False]['text':' background operation in progress. Retry, ignoring allowlisted errors on a','line_number':86,'multiline':False]['text':' command-by-command basis.','line_number':87,'multiline':False]['text':' If any shard has a background operation in progress and the other shards sent','line_number':90,'multiline':False]['text':' allowlisted errors after a first attempt, retry the entire command.','line_number':91,'multiline':False]['text':' If any of the shards return an error that is not allowlisted or even if a','line_number':103,'multiline':False]['text':' allowlisted error is received on the first attempt, do not retry.','line_number':104,'multiline':False]['text':' Allowlisted errors can only occur from running a command more than once, so','line_number':109,'multiline':False]['text':' it would be unexpected to receive an error on the first attempt.','line_number':110,'multiline':False]['text':' At this point, all shards have resulted in allowlisted errors resulting in','line_number':116,'multiline':False]['text':' retrying allowlisted commands. Fake a successful response.','line_number':117,'multiline':False]