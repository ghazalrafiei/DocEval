['text':' Tests the behaviour of change streams on change collections with transaction in an environment','line_number':1,'multiline':False]['text':' with more than one active tenant.','line_number':2,'multiline':False]['text':' @tags: [','line_number':3,'multiline':False]['text':'   requires_fcv_62,','line_number':4,'multiline':False]['text':'   assumes_against_mongod_not_mongos,','line_number':5,'multiline':False]['text':' ]','line_number':6,'multiline':False]['text':' Verify that the change stream observes expected events. The method also collects resume tokens','line_number':13,'multiline':False]['text':' for each expected change collection and returns those on successful assertion.','line_number':14,'multiline':False]['text':' Hard code tenants ids such that a particular tenant can be identified deterministically.','line_number':33,'multiline':False]['text':' Connections to the replica set primary that are stamped with their respective tenant ids.','line_number':37,'multiline':False]['text':' Get the 'test' db for both tenants.','line_number':43,'multiline':False]['text':' Recreate the 'stockPrice' collections and enable pre-images collection for the first tenant.','line_number':47,'multiline':False]['text':' Recreate the 'stockPrice' collections and enable pre-images collection for the second tenant.','line_number':53,'multiline':False]['text':' Create a new incarnation of the change collection for both tenants.','line_number':59,'multiline':False]['text':' Open the change stream cursors with pre-and-post images enabled.','line_number':63,'multiline':False]['text':' Enable transaction to perform writes within a transaction for the first tenant.','line_number':69,'multiline':False]['text':' Enable transaction to perform writes within a transaction for the second second.','line_number':74,'multiline':False]['text':' Perform inserts and updates in jumbled fashion for both tenants within the transaction.','line_number':79,'multiline':False]['text':' Commit the transaction for both tenants.','line_number':87,'multiline':False]['text':' Verify change events for both tenants.','line_number':91,'multiline':False]