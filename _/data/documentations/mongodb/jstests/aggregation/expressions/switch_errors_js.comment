['text':' SERVER-10689 introduced the $switch expression. In this file, we test the error cases of the','line_number':1,'multiline':False]['text':' expression.','line_number':2,'multiline':False]['text':' This query was designed to reproduce SERVER-70190. The first branch of the $switch can be','line_number':67,'multiline':False]['text':' optimized away and the $ifNull can be optimized to 2. If the field "x" exists in the input','line_number':68,'multiline':False]['text':' document and is truthy, then the expression should return 2. Otherwise it should throw because no','line_number':69,'multiline':False]['text':' case statement matched and there is no "default" expression.','line_number':70,'multiline':False]