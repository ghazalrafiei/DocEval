['text':' Tests the behaviour of the $merge stage with whenMatched=merge and whenNotMatched=discard.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' Cannot implicitly shard accessed collections because a collection can be implictly created and','line_number':3,'multiline':False]['text':' exists when none is expected.','line_number':4,'multiline':False]['text':' Test $merge when some documents in the source collection don't have a matching document in','line_number':18,'multiline':False]['text':' the target collection. The merge operation should succeed and unmatched documents discarded.','line_number':19,'multiline':False]['text':' Single document without a match.','line_number':21,'multiline':False]['text':' Multiple documents without a match.','line_number':28,'multiline':False]['text':' Test $merge when all documents in the source collection have a matching document in the','line_number':35,'multiline':False]['text':' target collection.','line_number':36,'multiline':False]['text':' Source has a single element with a match in the target.','line_number':38,'multiline':False]['text':' Source has multiple documents with matches in the target.','line_number':47,'multiline':False]['text':' Test $merge when a field is presented in the source and the target and contains a','line_number':59,'multiline':False]['text':' sub-document value.','line_number':60,'multiline':False]['text':' Source has a single element with a match in the target.','line_number':62,'multiline':False]['text':' Source has multiple documents with matches in the target.','line_number':71,'multiline':False]['text':' Test $merge when the source collection is empty. The target collection should not be','line_number':83,'multiline':False]['text':' modified.','line_number':84,'multiline':False]['text':' Test $merge does not insert a new document into the target collection if it was inserted','line_number':93,'multiline':False]['text':' into the source collection.','line_number':94,'multiline':False]['text':' Insert and merge a single document.','line_number':96,'multiline':False]['text':' Insert and merge multiple documents.','line_number':102,'multiline':False]['text':' Test $merge doesn't modify the target collection if a document has been removed from the','line_number':110,'multiline':False]['text':' source collection.','line_number':111,'multiline':False]['text':' Test $merge with an explicit 'on' field over a single or multiple document fields which','line_number':118,'multiline':False]['text':' differ from the _id field.','line_number':119,'multiline':False]['text':' Skip this test if the collection sharded, because an implicitly created sharded','line_number':122,'multiline':False]['text':' key of {_id: 1} will not be covered by a unique index created in this test, which','line_number':123,'multiline':False]['text':' is not allowed.','line_number':124,'multiline':False]['text':' The 'on' fields contains a single document field.','line_number':128,'multiline':False]['text':' The 'on' fields contains multiple document fields.','line_number':149,'multiline':False]['text':' Test $merge with a dotted path in the 'on' field.','line_number':173,'multiline':False]['text':' Skip this test if the collection sharded, because an implicitly created sharded','line_number':176,'multiline':False]['text':' key of {_id: 1} will not be covered by a unique index created in this test, which','line_number':177,'multiline':False]['text':' is not allowed.','line_number':178,'multiline':False]['text':' Test $merge when the _id field is removed from the aggregate projection but is used in the','line_number':203,'multiline':False]['text':' $merge's 'on' field.','line_number':204,'multiline':False]['text':' The _id is a single 'on' field (a default one).','line_number':206,'multiline':False]['text':' The _id is part of the compound 'on' field.','line_number':214,'multiline':False]