['text':'*
 * Test that $unionWith works with $geoNear, $text, and $indexStats
 * Some of these stages cannot be used in facets.
 * @tags: [
 *   # Asserts on the output of $indexStats.
 *   assumes_no_implicit_index_creation,
 *   do_not_wrap_aggregations_in_facets,
 * ]
 ','line_number':1,'multiline':True]['text':' Test that $unionWith works with $text and $search','line_number':32,'multiline':False]['text':' Create a collection with words and a text index.','line_number':33,'multiline':False]['text':' Test that $unionWith works with $indexStats','line_number':53,'multiline':False]['text':' $match removes all real documents from the pipeline, so we can just check the index documents.','line_number':54,'multiline':False]['text':' We expect each shard to have an _id_, _id_hashed, and str_text index','line_number':66,'multiline':False]['text':' Test that $unionWith fails if $indexStats is not first stage in the sub-pipeline.','line_number':80,'multiline':False]['text':' Test that $unionWith works with $geoNear','line_number':94,'multiline':False]['text':' First check the geo object.','line_number':124,'multiline':False]['text':' There is some room for error in geoNear, it can return results off by small amounts.','line_number':129,'multiline':False]['text':' Test that $unionWith fails if $geoNear is not first stage in the sub-pipeline.','line_number':138,'multiline':False]