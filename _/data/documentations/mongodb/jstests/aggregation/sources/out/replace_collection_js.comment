['text':'*
 * Tests the behavior of legacy $out.
 *
 * This test assumes that collections are not implicitly sharded, since $out is prohibited if the
 * output collection is sharded.
 ','line_number':1,'multiline':True]['text':'','line_number':18,'multiline':False]['text':' Test $out with a non-existent output collection.','line_number':19,'multiline':False]['text':'','line_number':20,'multiline':False]['text':' Test $out with a non-existent database. This is only expected to work in a','line_number':26,'multiline':False]['text':' non-sharded environment.','line_number':27,'multiline':False]['text':'','line_number':42,'multiline':False]['text':' Test $out with an existing output collection.','line_number':43,'multiline':False]['text':'','line_number':44,'multiline':False]['text':'','line_number':48,'multiline':False]['text':' Test that $out will preserve the indexes and options of the output collection.','line_number':49,'multiline':False]['text':'','line_number':50,'multiline':False]['text':'','line_number':66,'multiline':False]['text':' Test that $out fails if it violates a unique index constraint.','line_number':67,'multiline':False]['text':'','line_number':68,'multiline':False]['text':' Rerun a similar test, except populate the target collection with a document that conflics','line_number':76,'multiline':False]['text':' with one out of the pipeline. In this case, there is no unique key violation since the target','line_number':77,'multiline':False]['text':' collection will be dropped before renaming the source collection.','line_number':78,'multiline':False]