['text':'*
 * Test that $densify can combine sort stages.
 * @tags: [
 *   requires_fcv_53,
 *   requires_pipeline_optimization,
 *   do_not_wrap_aggregations_in_facets,
 * ]
 ','line_number':1,'multiline':True]['text':' If there are no partitions densify can combine a smaller or equal sort.','line_number':22,'multiline':False]['text':' 0','line_number':35,'multiline':False]['text':' 1','line_number':62,'multiline':False]['text':' 2','line_number':81,'multiline':False]['text':' With partitions and range: "full" sorts cannot be combined.','line_number':82,'multiline':False]['text':' 3','line_number':102,'multiline':False]['text':' Partitions with non-full bounds means the generated sort order is preserved. Combine if the','line_number':104,'multiline':False]['text':' sorts match.','line_number':105,'multiline':False]['text':' 4','line_number':127,'multiline':False]['text':' 5','line_number':150,'multiline':False]['text':' 6','line_number':172,'multiline':False]['text':' 7','line_number':195,'multiline':False]['text':' Test that a following, stricter, sort is preserved and not combined.','line_number':196,'multiline':False]['text':' 8','line_number':219,'multiline':False]['text':' Demonstrate that multiple stages that combine sorts may still wind up with an extra sort at','line_number':220,'multiline':False]['text':' the end.','line_number':221,'multiline':False]['text':' 9','line_number':258,'multiline':False]['text':' Test that if the densify generated sort is preceded by an additional sort, we optimize based','line_number':259,'multiline':False]['text':' on the densify sort not the preceding one.','line_number':260,'multiline':False]['text':' 10','line_number':279,'multiline':False]