['text':' Tests that profiled $lookups contain the correct namespace and that Top is updated accordingly.','line_number':1,'multiline':False]['text':' @tags: [','line_number':2,'multiline':False]['text':'  does_not_support_stepdowns,','line_number':3,'multiline':False]['text':'  requires_profiling,','line_number':4,'multiline':False]['text':'  not_allowed_with_signed_security_token,','line_number':5,'multiline':False]['text':' ]','line_number':6,'multiline':False]['text':' Don't profile the setFCV command, which could be run during this test in the','line_number':20,'multiline':False]['text':' fcv_upgrade_downgrade_replica_sets_jscore_passthrough suite.','line_number':21,'multiline':False]['text':' Confirm that namespace is the local rather than foreign collection.','line_number':32,'multiline':False]['text':' Confirm that the local collection had one command added to Top.','line_number':36,'multiline':False]['text':' Compute the expected count as follows:','line_number':45,'multiline':False]['text':' 1) We expect the count to be at least one. This is because we will take a lock over 'foreignColl'','line_number':46,'multiline':False]['text':' and, even if we don't push down $lookup into SBE, this will still increment the top counter for','line_number':47,'multiline':False]['text':' 'foreignColl' by one.','line_number':48,'multiline':False]['text':' 2) If $lookup is NOT pushed down into SBE, then we increment the count by three. This is because','line_number':49,'multiline':False]['text':' when executing $lookup in the classic engine, we will add one entry to top for the foreign','line_number':50,'multiline':False]['text':' collection for each document in the local collection (of which there are three).','line_number':51,'multiline':False]