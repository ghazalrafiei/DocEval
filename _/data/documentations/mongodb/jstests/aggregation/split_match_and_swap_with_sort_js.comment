['text':' When a $sort is followed by a $match, the pipeline optimizer should be able to move the match in','line_number':1,'multiline':False]['text':' front of the $sort, so as to reduce the number of documents that need to be sorted.','line_number':2,'multiline':False]['text':'','line_number':3,'multiline':False]['text':' @tags: [','line_number':4,'multiline':False]['text':'   # Wrapping the pipeline in a $facet will prevent its $match from getting absorbed by the query','line_number':5,'multiline':False]['text':'   # system, which is what we are testing for.','line_number':6,'multiline':False]['text':'   do_not_wrap_aggregations_in_facets,','line_number':7,'multiline':False]['text':'   # Likewise, splitting up the pipeline for sharding may also prevent the $match from getting','line_number':8,'multiline':False]['text':'   # absorbed.','line_number':9,'multiline':False]['text':'   assumes_unsharded_collection,','line_number':10,'multiline':False]['text':'   # Don't disable the thing we are specifically testing for!','line_number':11,'multiline':False]['text':'   requires_pipeline_optimization,','line_number':12,'multiline':False]['text':' ]','line_number':13,'multiline':False]['text':' After moving the $match to the front of the pipeline, we expect the pipeline optimizer to','line_number':31,'multiline':False]['text':' push it down into the PlanExecutor, so that it becomes a filter on the COLLSCAN.','line_number':32,'multiline':False]['text':' SERVER-46233: Normally a $or at the root of a $match expression prevents it from getting','line_number':52,'multiline':False]['text':' split. However, When the $or has only one child, the optimizer should be able to eliminate','line_number':53,'multiline':False]['text':' the $or and then recognize that the simplified result _is_ eligible to be split.','line_number':54,'multiline':False]