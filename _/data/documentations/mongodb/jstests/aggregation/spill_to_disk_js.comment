['text':' Tests the support for disk storage of intermediate results in aggregation.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' Run only when pipeline optimization is enabled, otherwise the type of sorter being used can be','line_number':3,'multiline':False]['text':' different (NoLimitSort vs TopKSort) causing an aggregation request to fail with different error','line_number':4,'multiline':False]['text':' codes.','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':' Some in memory variants will error because this test uses too much memory. As such, we do not','line_number':7,'multiline':False]['text':' run this test on in-memory variants.','line_number':8,'multiline':False]['text':'','line_number':9,'multiline':False]['text':' @tags: [','line_number':10,'multiline':False]['text':'   requires_collstats,','line_number':11,'multiline':False]['text':'   requires_pipeline_optimization,','line_number':12,'multiline':False]['text':'   requires_persistence,','line_number':13,'multiline':False]['text':'   not_allowed_with_signed_security_token,','line_number':14,'multiline':False]['text':' ]','line_number':15,'multiline':False]['text':' Sets the set parameter named 'paramName' to the given 'memoryLimit' on each primary node in the','line_number':26,'multiline':False]['text':' cluster, and returns the old value.','line_number':27,'multiline':False]['text':' Verifies that the given 'groupStats' (an extract from SBE "executionStats" explain output) show','line_number':41,'multiline':False]['text':' evidence of spilling to disk.','line_number':42,'multiline':False]['text':' 1MB of ','','line_number':58,'multiline':False]['text':' Test that 'allowDiskUse: false' does indeed prevent spilling to disk.','line_number':65,'multiline':False]['text':' If this command supports spilling to disk, ensure that it will succeed when disk use is','line_number':71,'multiline':False]['text':' allowed.','line_number':72,'multiline':False]['text':' all tests output one doc per input doc','line_number':77,'multiline':False]['text':' If a test sets a specific memory limit, we should do more frequent checks to respect it.','line_number':120,'multiline':False]['text':'atLEast','line_number':121,'multiline':True]['text':' Sorting with _id would use index which doesn't require external sort, so sort by 'random'','line_number':136,'multiline':False]['text':' instead.','line_number':137,'multiline':False]['text':' big key and value','line_number':145,'multiline':False]['text':' Test that sort + large limit won't crash the server (SERVER-10136)','line_number':150,'multiline':False]['text':' Test combining two external sorts in both same and different orders.','line_number':157,'multiline':False]['text':' Test accumulating all values into one array. On debug builds we will spill to disk for $group and','line_number':182,'multiline':False]['text':' so may hit the group error code before we hit ExceededMemoryLimit.','line_number':183,'multiline':False]['text':' $firstN/$lastN/$minN/$maxN accept 'input'.','line_number':206,'multiline':False]['text':' By grouping all of the entries in the same group, it is the case that we will either','line_number':210,'multiline':False]['text':' exceed the per group limit for the 'n' family of accumulators, or the total $group','line_number':211,'multiline':False]['text':' limit when disk use is disabled. Hence, we allow both possible error codes. Also note','line_number':212,'multiline':False]['text':' that we configure 'canSpillToDisk' to be false because spilling to disk will not','line_number':213,'multiline':False]['text':' reduce the memory consumption of our group in this case.','line_number':214,'multiline':False]['text':' Because each group uses less than the configured limit, but cumulatively they exceed','line_number':222,'multiline':False]['text':' the limit for $group, we only check for 'QueryExceededMemoryLimitNoDiskUseAllowed'','line_number':223,'multiline':False]['text':' when disk use is disabled.','line_number':224,'multiline':False]['text':' don't leave large collection laying around','line_number':231,'multiline':False]['text':' Test spilling to disk for various accumulators in a $group stage . The data has 5 groups of 10','line_number':234,'multiline':False]['text':' documents each. We configure a low memory limit for SBE's hash aggregation stage in order to','line_number':235,'multiline':False]['text':' encourage spilling.','line_number':236,'multiline':False]['text':' Runs a group query containing the given 'accumulator' after sorting the data by the given','line_number':259,'multiline':False]['text':' 'sortInputBy' field. Then verifies that the query results are equal to 'expectedOutput'. If SBE','line_number':260,'multiline':False]['text':' is enabled, also runs explain and checks that the execution stats show that spilling occurred.','line_number':261,'multiline':False]['text':' Since the accumulator produces sets, the resulting arrays may be in any order.','line_number':365,'multiline':False]['text':' Test spill to disk for $lookup','line_number':406,'multiline':False]['text':'*
 * Executes $lookup with multiple records in the local/foreign collections and checks that the "as"
 * field for it contains documents with ids from `idsExpectedToMatch`. In addition, it checks
 * whether it spills to disk as expected.
 ','line_number':422,'multiline':True]['text':' If sharding is enabled, '$lookup' is not pushed down to SBE.','line_number':446,'multiline':False]['text':' Extract matched foreign ids from the "matched" field.','line_number':462,'multiline':False]['text':' Order of the elements within the arrays is not significant for 'assertArrayEq'.','line_number':465,'multiline':False]['text':' Spill at one byte.','line_number':542,'multiline':False]['text':' Spill at 128 bytes.','line_number':551,'multiline':False]['text':' Spill at 100 mb.','line_number':560,'multiline':False]