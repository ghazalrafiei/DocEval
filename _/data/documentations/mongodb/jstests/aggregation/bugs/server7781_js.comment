['text':' SERVER-7781 $geoNear pipeline stage','line_number':1,'multiline':False]['text':' $geoNear is only allowed as the first stage in a pipeline, nowhere else.','line_number':9,'multiline':False]['text':'*
 * Tests the output of the $geoNear command. This function expects a document with the following
 * fields:
 *   - 'geoNearSpec' is the specification for a $geoNear aggregation stage.
 *   - 'limit' is an integer limiting the number of pipeline results.
 *   - 'batchSize', if specified, is the batchSize to use for the aggregation.
 ','line_number':17,'multiline':True]['text':' Verify that we got the expected number of results.','line_number':30,'multiline':False]['text':' Run though the array, checking for proper sort order and sane computed distances.','line_number':33,'multiline':False]['text':' Verify that distances are in increasing order.','line_number':37,'multiline':False]['text':' Verify that the computed distance is correct.','line_number':40,'multiline':False]['text':' We use this to generate points. Using a single global to avoid reseting RNG in each pass.','line_number':47,'multiline':False]['text':' insert points','line_number':53,'multiline':False]['text':' Test $geoNear with spherical coordinates.','line_number':65,'multiline':False]['text':' Test $geoNear with an initial batchSize of 1.','line_number':76,'multiline':False]