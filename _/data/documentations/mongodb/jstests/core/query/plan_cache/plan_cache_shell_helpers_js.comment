['text':' Test the shell helpers which wrap the plan cache commands.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' @tags: [','line_number':3,'multiline':False]['text':'   assumes_balancer_off,','line_number':4,'multiline':False]['text':'   assumes_read_concern_unchanged,','line_number':5,'multiline':False]['text':'   # This test attempts to perform queries and introspect the server's plan cache entries. The','line_number':6,'multiline':False]['text':'   # former operation may be routed to a secondary in the replica set, whereas the latter must be','line_number':7,'multiline':False]['text':'   # routed to the primary. If all chunks are moved off of a shard, it can cause the plan cache to','line_number':8,'multiline':False]['text':'   # miss commands.','line_number':9,'multiline':False]['text':'   assumes_read_preference_unchanged,','line_number':10,'multiline':False]['text':'   assumes_unsharded_collection,','line_number':11,'multiline':False]['text':'   does_not_support_stepdowns,','line_number':12,'multiline':False]['text':'   # Plan cache state is node-local and will not get migrated alongside tenant data.','line_number':13,'multiline':False]['text':'   tenant_migration_incompatible,','line_number':14,'multiline':False]['text':'   # TODO SERVER-67607: Test plan cache with CQF enabled.','line_number':15,'multiline':False]['text':'   cqf_experimental_incompatible,','line_number':16,'multiline':False]['text':' ]','line_number':17,'multiline':False]['text':' Add data and indices.','line_number':31,'multiline':False]['text':' Populate plan cache.','line_number':39,'multiline':False]['text':'','line_number':49,'multiline':False]['text':' PlanCache.getName','line_number':50,'multiline':False]['text':'','line_number':51,'multiline':False]['text':'','line_number':56,'multiline':False]['text':' PlanCache.help','line_number':57,'multiline':False]['text':'','line_number':58,'multiline':False]['text':'','line_number':61,'multiline':False]['text':' shellPrint','line_number':62,'multiline':False]['text':'','line_number':63,'multiline':False]['text':'','line_number':68,'multiline':False]['text':' collection.getPlanCache().list','line_number':69,'multiline':False]['text':'','line_number':70,'multiline':False]['text':' Listing the cache for a non-existing collection is expected to fail by throwing.','line_number':74,'multiline':False]['text':' Test that we can use $group and $count with the list() helper.','line_number':77,'multiline':False]['text':' Test that we can collect descriptions of all the queries that created cache entries using the','line_number':83,'multiline':False]['text':' list() helper.','line_number':84,'multiline':False]['text':'','line_number':118,'multiline':False]['text':' collection.getPlanCache().clearPlansByQuery','line_number':119,'multiline':False]['text':'','line_number':120,'multiline':False]['text':' should not error on non-existent query shape.','line_number':122,'multiline':False]['text':' should error on missing required field query.','line_number':124,'multiline':False]['text':' Invoke with various permutations of required (query) and optional (projection, sort) arguments.','line_number':129,'multiline':False]['text':' clearPlansByQuery() will also accept a single argument with the query shape object','line_number':142,'multiline':False]['text':' as an alternative to specifying the query, sort and projection parameters separately.','line_number':143,'multiline':False]['text':' Format of query shape object:','line_number':144,'multiline':False]['text':' {','line_number':145,'multiline':False]['text':'     query: <query>,','line_number':146,'multiline':False]['text':'     projection: <projection>,','line_number':147,'multiline':False]['text':'     sort: <sort>','line_number':148,'multiline':False]['text':' }','line_number':149,'multiline':False]['text':' Repopulate cache','line_number':151,'multiline':False]['text':' Clear using query shape object.','line_number':154,'multiline':False]['text':' Should not error on missing or extra fields in query shape object.','line_number':158,'multiline':False]['text':'','line_number':163,'multiline':False]['text':' collection.getPlanCache().clear','line_number':164,'multiline':False]['text':'','line_number':165,'multiline':False]['text':' Should not error on non-existent collection.','line_number':167,'multiline':False]['text':' Re-populate plan cache with 1 query shape.','line_number':169,'multiline':False]['text':' Clear cache.','line_number':172,'multiline':False]['text':' Verify that explaining a find command does not write to the plan cache.','line_number':176,'multiline':False]