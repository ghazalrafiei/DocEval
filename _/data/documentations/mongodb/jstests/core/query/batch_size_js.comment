['text':' @tags: [','line_number':1,'multiline':False]['text':'   assumes_balancer_off,','line_number':2,'multiline':False]['text':'   requires_getmore','line_number':3,'multiline':False]['text':' ]','line_number':4,'multiline':False]['text':' Test subtleties of batchSize and limit.','line_number':6,'multiline':False]['text':' With limit, indexed.','line_number':18,'multiline':False]['text':' With batchSize, indexed.','line_number':22,'multiline':False]['text':' SERVER-12438: If there is an index that provides the sort, then a plan with an unindexed','line_number':23,'multiline':False]['text':' sort should never be used.  Consequently, batchSize will NOT be a hard limit in this','line_number':24,'multiline':False]['text':' case.  WARNING: the behavior described above may change in the future.','line_number':25,'multiline':False]['text':' Without batch size or limit, unindexed.','line_number':30,'multiline':False]['text':' With limit, unindexed.','line_number':34,'multiline':False]['text':' With negative batchSize. A negative batchSize value instructs the server','line_number':41,'multiline':False]['text':' to return just a single batch of results.','line_number':42,'multiline':False]['text':' Run the tests with the index twice in order to double check plan caching.','line_number':46,'multiline':False]['text':' The next tests make sure that we obey limit and batchSize properly when the sort could be','line_number':52,'multiline':False]['text':' either indexed or unindexed.','line_number':53,'multiline':False]['text':' Without a hint. Do it twice to make sure caching is ok.','line_number':62,'multiline':False]['text':' Hinting 'a'.','line_number':68,'multiline':False]['text':' Hinting 'b'.','line_number':72,'multiline':False]['text':' With explain.','line_number':76,'multiline':False]['text':' If we're talking to a mongos, we expect at most one batch from each shard.','line_number':81,'multiline':False]['text':' Double check that we're not scanning more stuff than we have to.  In order to get the sort','line_number':87,'multiline':False]['text':' using index 'a', we should need to scan about 50 keys and 50 documents.','line_number':88,'multiline':False]['text':' If we're talking to a mongos, we expect at most one batch from each shard.','line_number':93,'multiline':False]['text':' Generate big string to use in the object - 1MB+ String','line_number':100,'multiline':False]['text':' Insert enough documents to exceed the 32 MB in-memory sort limit.','line_number':106,'multiline':False]['text':' Two indices needed in order to trigger plan ranking. Neither index provides the sort order.','line_number':113,'multiline':False]['text':' We should only buffer 3 docs in memory.','line_number':117,'multiline':False]