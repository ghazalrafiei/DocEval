['text':' Failing due to queries on a sharded collection not able to be covered when they aren't on the','line_number':1,'multiline':False]['text':' shard key since the document needs to be fetched in order to apply the SHARDING_FILTER stage.','line_number':2,'multiline':False]['text':' @tags: [','line_number':3,'multiline':False]['text':'   assumes_unsharded_collection,','line_number':4,'multiline':False]['text':' ]','line_number':5,'multiline':False]['text':'*
 * Test projections with dotted field paths. Also test that such projections result in covered plans
 * when appropriate.
 ','line_number':7,'multiline':True]['text':' Project exactly the set of fields in the index. Verify that the projection is computed','line_number':26,'multiline':False]['text':' correctly and that the plan is covered.','line_number':27,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':39,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':40,'multiline':False]['text':' Project a subset of the indexed fields. Verify that the projection is computed correctly and','line_number':45,'multiline':False]['text':' that the plan is covered.','line_number':46,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':58,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':59,'multiline':False]['text':' Project exactly the set of fields in the index but also include _id. Verify that the','line_number':64,'multiline':False]['text':' projection is computed correctly and that the plan cannot be covered.','line_number':65,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':78,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':79,'multiline':False]['text':' Project a not-indexed field that exists in the collection. The plan should not be covered.','line_number':84,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':96,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':97,'multiline':False]['text':' Project a not-indexed field that does not exist in the collection. The plan should not be','line_number':102,'multiline':False]['text':' covered.','line_number':103,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':115,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':116,'multiline':False]['text':' Verify that the correct projection is computed with an idhack query.','line_number':120,'multiline':False]['text':' TODO SERVER-70847, how to recognize the case of an IDHACK for Bonsai?','line_number':131,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':132,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':133,'multiline':False]['text':' If we make a dotted path multikey, projections using that path cannot be covered. But','line_number':137,'multiline':False]['text':' projections which do not include the multikey path can still be covered.','line_number':138,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':152,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':153,'multiline':False]['text':' Path-level multikey info allows for generating a covered plan.','line_number':165,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':170,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':171,'multiline':False]['text':' Verify that dotted projections work for multiple levels of nesting.','line_number':176,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':190,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':191,'multiline':False]['text':' If projected nested paths do not exist in the indexed document, then they will get filled in','line_number':195,'multiline':False]['text':' with nulls. This is a bug tracked by SERVER-23229.','line_number':196,'multiline':False]['text':' Test covered plans where an index contains overlapping dotted paths.','line_number':200,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':213,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':214,'multiline':False]['text':' TODO SERVER-77719: Ensure that the decision for using the scan lines up with CQF','line_number':237,'multiline':False]['text':' optimizer. M2: allow only collscans, M4: check bonsai behavior for index scan.','line_number':238,'multiline':False]