['text':' Tests multi-statement transactions metrics in the serverStatus output from mongos in various','line_number':1,'multiline':False]['text':' basic cases.','line_number':2,'multiline':False]['text':' @tags: [','line_number':3,'multiline':False]['text':'   uses_multi_shard_transaction,','line_number':4,'multiline':False]['text':'   uses_transactions,','line_number':5,'multiline':False]['text':' ]','line_number':6,'multiline':False]['text':' Verifies the transaction server status response has the fields that we expect.','line_number':13,'multiline':False]['text':' Verify the "commitTypes" sub-object has the expected fields.','line_number':42,'multiline':False]['text':' Verifies the transaction values in the server status response match the provided values.','line_number':113,'multiline':False]['text':' Set up two chunks: [-inf, 0), [0, inf) one on each shard, with one document in each.','line_number':222,'multiline':False]['text':' Force the other mongos to talk to the shards to get the latest cluster time and to avoid','line_number':233,'multiline':False]['text':' getting the MigrationConflict error.','line_number':234,'multiline':False]['text':'','line_number':244,'multiline':False]['text':' Helpers for setting up transactions that will trigger the various commit paths.','line_number':245,'multiline':False]['text':'','line_number':246,'multiline':False]['text':' The stats on the main mongos shouldn't have changed.','line_number':328,'multiline':False]['text':'','line_number':334,'multiline':False]['text':' Test cases for serverStatus output.','line_number':335,'multiline':False]['text':'','line_number':336,'multiline':False]['text':' Note committing a no shards transaction can only succeed.','line_number':343,'multiline':False]['text':' The one shard is targeted for the commit then the implicit abort.','line_number':388,'multiline':False]['text':' In a single write shard commit, all read shards are committed first, then the','line_number':423,'multiline':False]['text':' write shards, so if committing on a read shard fails, the write shards aren't targeted.','line_number':424,'multiline':False]['text':' The implicit abort after will target all shards.','line_number':425,'multiline':False]['text':' Both shards are targeted for the commit then the implicit abort.','line_number':460,'multiline':False]['text':' Remove the inserted documents.','line_number':480,'multiline':False]['text':' There are no implicit aborts after two phase commit, so the coordinator is targeted once.','line_number':498,'multiline':False]['text':' Note that current open and inactive aren't incremented by setUpTransactionToRecoverCommit.','line_number':515,'multiline':False]['text':' The participant stats shouldn't increase if we're recovering commit.','line_number':520,'multiline':False]['text':' Note that current open and inactive aren't incremented by setUpTransactionToRecoverCommit.','line_number':538,'multiline':False]['text':' The participant stats shouldn't increase if we're recovering commit.','line_number':543,'multiline':False]['text':' There are no implicit aborts during commit recovery, so the recovery shard is targeted','line_number':544,'multiline':False]['text':' once.','line_number':545,'multiline':False]['text':' The stats on the main mongos shouldn't have changed.','line_number':557,'multiline':False]['text':' No requests are targeted and the decision isn't learned, so total committed/aborted and','line_number':573,'multiline':False]['text':' total requests sent shouldn't change.','line_number':574,'multiline':False]['text':' Plus one for the implicit abort.','line_number':612,'multiline':False]['text':' A failed abortTransaction leads to an implicit abort, so two requests are targeted.','line_number':618,'multiline':False]['text':' Note that overwriting a transaction will end the previous transaction from a diagnostics','line_number':638,'multiline':False]['text':' perspective.','line_number':639,'multiline':False]['text':' The router never learned if the previous transaction committed or aborted, so the aborted','line_number':643,'multiline':False]['text':' counter shouldn't be incremented.','line_number':644,'multiline':False]['text':' Abort to clear the shell's session state.','line_number':647,'multiline':False]['text':' Wait until we know the failpoint has been reached.','line_number':675,'multiline':False]['text':' Insert document to be updated.','line_number':702,'multiline':False]['text':' Retryable write findAndModify that would change the shard key. Uses a txn internally. Throws','line_number':705,'multiline':False]['text':' on error.','line_number':706,'multiline':False]['text':' Insert document to be updated.','line_number':722,'multiline':False]['text':' Retryable write update that would change the shard key. Uses a txn internally.','line_number':725,'multiline':False]