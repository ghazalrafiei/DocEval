['text':'
 * Tests that replica set commands work correctly when the replica set endpoint is used.
 *
 * @tags: [requires_fcv_73, featureFlagEmbeddedRouter, requires_persistence]
 ','line_number':1,'multiline':True]['text':' Currently, sharding isn't supported in serverless. So the cluster cannot become','line_number':33,'multiline':False]['text':' multi-shard.','line_number':34,'multiline':False]['text':' Add a second shard to the cluster.','line_number':39,'multiline':False]['text':' Run the addShard command against shard0's primary mongod instead to verify that','line_number':46,'multiline':False]['text':' replica set endpoint supports router commands.','line_number':47,'multiline':False]['text':' TODO (SERVER-83380): Connect to the router port on a shardsvr mongod instead.','line_number':54,'multiline':False]['text':' Verify that the primary on shard1 hasn't changed.','line_number':64,'multiline':False]['text':' shard0Primary ','line_number':80,'multiline':True]['text':' shard0Primary ','line_number':101,'multiline':True]['text':' TODO (SERVER-81968): Re-enable single-shard cluster test cases once config shards support','line_number':104,'multiline':False]['text':' embedded routers.','line_number':105,'multiline':False]['text':' {','line_number':106,'multiline':False]['text':'     jsTest.log("Running tests for a single-shard cluster");','line_number':107,'multiline':False]['text':'     const st = new ShardingTest({','line_number':108,'multiline':False]['text':'         shards: 1,','line_number':109,'multiline':False]['text':'         rs: {nodes: 2, setParameter: {featureFlagReplicaSetEndpoint: true}},','line_number':110,'multiline':False]['text':'         configShard: true,','line_number':111,'multiline':False]['text':'     });','line_number':112,'multiline':False]['text':'     const tearDownFunc = () => st.stop();','line_number':113,'multiline':False]['text':'     runTests(st.rs0.getPrimary() /* shard0Primary */, tearDownFunc);','line_number':115,'multiline':False]['text':' }','line_number':116,'multiline':False]['text':' shard0Primary ','line_number':137,'multiline':True]['text':' isMultitenant ','line_number':137,'multiline':True]