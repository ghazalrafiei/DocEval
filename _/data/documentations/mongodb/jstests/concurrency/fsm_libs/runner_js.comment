['text':'*
     * Returns an array containing sets of workloads.
     * Each set of workloads is executed together according to the execution mode.
     *
     * For example, returning [ [ workload1, workload2 ], [ workload2, workload3 ] ]
     * when 'executionMode.parallel == true' causes workloads #1 and #2 to be
     * executed simultaneously, followed by workloads #2 and #3 together.
     ','line_number':140,'multiline':True]['text':' run each workload by itself','line_number':151,'multiline':False]['text':' Take 'numSubsets' random subsets of the workloads, each','line_number':157,'multiline':False]['text':' of size 'subsetSize'. Each workload must get scheduled','line_number':158,'multiline':False]['text':' once before any workload can be scheduled again.','line_number':159,'multiline':False]['text':' If the number of subsets is not specified, then have each','line_number':162,'multiline':False]['text':' workload get scheduled 2 to 3 times.','line_number':163,'multiline':False]['text':' copy','line_number':169,'multiline':False]['text':' Check if there are not enough elements remaining in','line_number':181,'multiline':False]['text':' 'workloads' to make a subset of size 'subsetSize'.','line_number':182,'multiline':False]['text':' Re-shuffle the beginning of the array, and prepend it','line_number':184,'multiline':False]['text':' with the workloads that have not been scheduled yet.','line_number':185,'multiline':False]['text':' Workloads cannot have a shardKey if sameCollection is specified','line_number':205,'multiline':False]['text':' TODO: allow workload config data to specify split','line_number':220,'multiline':False]['text':' If no other workloads will be using this collection,','line_number':245,'multiline':False]['text':' then drop it to avoid having too many files open','line_number':246,'multiline':False]['text':' If no other workloads will be using this database,','line_number':254,'multiline':False]['text':' then drop it to avoid having too many files open','line_number':255,'multiline':False]['text':' Returns an array containing all unique values from the stackTraces array,','line_number':276,'multiline':False]['text':' their corresponding number of occurrences in the stackTraces array, and','line_number':277,'multiline':False]['text':' the associated thread ids (tids).','line_number':278,'multiline':False]['text':' Indents a multiline string with the specified number of spaces.','line_number':302,'multiline':False]['text':' Special case message when threads all have the same trace','line_number':319,'multiline':False]['text':' Avoid having any stack traces omitted from the logs','line_number':341,'multiline':False]['text':' 10KB','line_number':342,'multiline':False]['text':' Check if the combined length of the error message and the stack traces','line_number':344,'multiline':False]['text':' exceeds the maximum line-length the shell will log.','line_number':345,'multiline':False]['text':' This property must be enumerable because of SERVER-21338, which prevents','line_number':373,'multiline':False]['text':' objects with non-enumerable properties from being serialized properly in','line_number':374,'multiline':False]['text':' Threads.','line_number':375,'multiline':False]['text':' This property must be enumerable because of SERVER-21338, which prevents','line_number':381,'multiline':False]['text':' objects with non-enumerable properties from being serialized properly in','line_number':382,'multiline':False]['text':' Threads.','line_number':383,'multiline':False]['text':' Print out the entire schedule of workloads to make it easier to run the same','line_number':402,'multiline':False]['text':' schedule when debugging test failures.','line_number':403,'multiline':False]['text':' Note: We use printjsononeline (instead of just plain printjson) to make it','line_number':406,'multiline':False]['text':' easier to reuse the output in variable assignments.','line_number':407,'multiline':False]['text':' Returns true if the workload's teardown succeeds and false if the workload's','line_number':415,'multiline':False]['text':' teardown fails.','line_number':416,'multiline':False]['text':' Ensure that all data has replicated correctly to the secondaries before calling the','line_number':421,'multiline':False]['text':' workload's teardown method.','line_number':422,'multiline':False]['text':' Initialize in case setupWorkload fails below.','line_number':462,'multiline':False]['text':' Set up the thread manager for this set of foreground workloads.','line_number':470,'multiline':False]['text':' Call each foreground workload's setup function.','line_number':474,'multiline':False]['text':' Define "iterations" and "threadCount" properties on the foreground workload's','line_number':476,'multiline':False]['text':' $config.data object so that they can be used within its setup(), teardown(), and','line_number':477,'multiline':False]['text':' state functions. This must happen after calling threadMgr.init() in case the','line_number':478,'multiline':False]['text':' thread counts needed to be scaled down.','line_number':479,'multiline':False]['text':' Since the worker threads may be running with causal consistency enabled, we set the','line_number':487,'multiline':False]['text':' initial clusterTime and initial operationTime for the sessions they'll create so that','line_number':488,'multiline':False]['text':' they are guaranteed to observe the effects of the workload's $config.setup() function','line_number':489,'multiline':False]['text':' being called.','line_number':490,'multiline':False]['text':' We only start a session for the worker threads and never start one for the main','line_number':493,'multiline':False]['text':' thread. We can therefore get the clusterTime and operationTime tracked by the','line_number':494,'multiline':False]['text':' underlying DummyDriverSession through any DB instance (i.e. the "test" database','line_number':495,'multiline':False]['text':' here was chosen arbitrarily).','line_number':496,'multiline':False]['text':' JavaScript objects backed by C++ objects (e.g. BSON values from a command','line_number':499,'multiline':False]['text':' response) do not serialize correctly when passed through the Thread','line_number':500,'multiline':False]['text':' constructor. To work around this behavior, we instead pass a stringified form of','line_number':501,'multiline':False]['text':' the JavaScript object through the Thread constructor and use eval() to','line_number':502,'multiline':False]['text':' rehydrate it.','line_number':503,'multiline':False]['text':' Start this set of foreground workload threads.','line_number':511,'multiline':False]['text':' Allow 20% of foreground threads to fail. This allows the workloads to run on','line_number':513,'multiline':False]['text':' underpowered test hosts.','line_number':514,'multiline':False]['text':' Threads must be joined before destruction, so do this','line_number':517,'multiline':False]['text':' even in the presence of exceptions.','line_number':518,'multiline':False]['text':' Call each foreground workload's teardown function. After all teardowns have completed','line_number':524,'multiline':False]['text':' check if any of them failed.','line_number':525,'multiline':False]['text':' Only drop the collections/databases if all the workloads ran successfully.','line_number':539,'multiline':False]['text':' Throw any existing errors so that the schedule aborts.','line_number':544,'multiline':False]['text':' Ensure that all operations replicated correctly to the secondaries.','line_number':547,'multiline':False]['text':' immutable after validation (and normalization)','line_number':557,'multiline':False]['text':' immutable after validation (and normalization)','line_number':560,'multiline':False]['text':' immutable after validation (and normalization)','line_number':563,'multiline':False]['text':' applyMultipliers ','line_number':567,'multiline':True]['text':' Clean up the state left behind by other tests in the concurrency suite','line_number':573,'multiline':False]['text':' to avoid having too many open files.','line_number':574,'multiline':False]['text':' List of DBs that will not be dropped.','line_number':576,'multiline':False]['text':' List of DBs that dbHash is not run on.','line_number':579,'multiline':False]['text':' Make a deep copy of the $config object for each of the workloads that are','line_number':599,'multiline':False]['text':' going to be run to ensure the workload starts with a fresh version of its','line_number':600,'multiline':False]['text':' $config.data. This is necessary because $config.data keeps track of','line_number':601,'multiline':False]['text':' thread-local state that may be updated during a workload's setup(),','line_number':602,'multiline':False]['text':' teardown(), and state functions.','line_number':603,'multiline':False]['text':' Run the next group of workloads in the schedule.','line_number':609,'multiline':False]