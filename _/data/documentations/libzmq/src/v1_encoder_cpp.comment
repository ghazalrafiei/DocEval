['text':' SPDX-License-Identifier: MPL-2.0 ','line_number':1,'multiline':True]['text':'  Write 0 bytes to the batch and go to message_ready state.','line_number':14,'multiline':False]['text':'  Write message body into the buffer.','line_number':24,'multiline':False]['text':' flags byte + size byte','line_number':31,'multiline':False]['text':'  Get the message size.','line_number':32,'multiline':False]['text':'  Account for the 'flags' byte.','line_number':35,'multiline':False]['text':'  Account for the subscribe/cancel byte.','line_number':38,'multiline':False]['text':'  For messages less than 255 bytes long, write one byte of message size.','line_number':42,'multiline':False]['text':'  For longer messages write 0xff escape character followed by 8-byte','line_number':43,'multiline':False]['text':'  message size. In both cases 'flags' field follows.','line_number':44,'multiline':False]['text':'  Encode the subscribe/cancel byte. This is done in the encoder as','line_number':55,'multiline':False]['text':'  opposed to when the subscribe message is created to allow different','line_number':56,'multiline':False]['text':'  protocol behaviour on the wire in the v3.1 and legacy encoders.','line_number':57,'multiline':False]['text':'  It results in the work being done multiple times in case the sub','line_number':58,'multiline':False]['text':'  is sending the subscription/cancel to multiple pubs, but it cannot','line_number':59,'multiline':False]['text':'  be avoided. This processing can be moved to xsub once support for','line_number':60,'multiline':False]['text':'  ZMTP < 3.1 is dropped.','line_number':61,'multiline':False]