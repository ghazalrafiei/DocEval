['text':'!/usr/bin/env python','line_number':1,'multiline':False]['text':' coding=utf-8','line_number':2,'multiline':False]['text':' Copyright 2022 University of Cambridge, Tencent AI Lab, DeepMind and The University of Hong Kong Authors and The HuggingFace Inc. team. All rights reserved.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]['text':' limitations under the License.','line_number':15,'multiline':False]['text':' Initialize the distributed state.','line_number':81,'multiline':False]['text':' Initialize the model and tokenizer','line_number':89,'multiline':False]['text':' tokenizer = GPT2Tokenizer.from_pretrained(args.model_name_or_path)','line_number':93,'multiline':False]['text':' model = OPTForCausalLM.from_pretrained(args.model_name_or_path)','line_number':94,'multiline':False]['text':' Set the model to the right device','line_number':95,'multiline':False]['text':' Decode text','line_number':119,'multiline':False]['text':' Remove all text after the stop token','line_number':122,'multiline':False]['text':' Add the prompt at the beginning of the sequence. Remove the excess text that was used for pre-processing','line_number':125,'multiline':False]