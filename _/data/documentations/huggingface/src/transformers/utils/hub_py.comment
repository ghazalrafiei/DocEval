['text':' Copyright 2022 The HuggingFace Team. All rights reserved.','line_number':1,'multiline':False]['text':'','line_number':2,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':3,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':4,'multiline':False]['text':' You may obtain a copy of the License at','line_number':5,'multiline':False]['text':'','line_number':6,'multiline':False]['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':9,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':10,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':11,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':12,'multiline':False]['text':' limitations under the License.','line_number':13,'multiline':False]['text':' pylint: disable=invalid-name','line_number':73,'multiline':False]['text':' Determine default cache directory. Lots of legacy environment variables to ensure backward compatibility.','line_number':86,'multiline':False]['text':' The best way to set the cache path is with the environment variable HF_HOME. For more details, checkout this','line_number':87,'multiline':False]['text':' documentation page: https://huggingface.co/docs/huggingface_hub/package_reference/environment_variables.','line_number':88,'multiline':False]['text':'','line_number':89,'multiline':False]['text':' In code, use `HF_HUB_CACHE` as the default cache path. This variable is set by the library and is guaranteed','line_number':90,'multiline':False]['text':' to be set to the right value.','line_number':91,'multiline':False]['text':'','line_number':92,'multiline':False]['text':' TODO: clean this for v5?','line_number':93,'multiline':False]['text':' Onetime move from the old location to the new one if no ENV variable has been set.','line_number':98,'multiline':False]['text':' Add deprecation warning for old environment variables.','line_number':120,'multiline':False]['text':' TODO: remove this once fully deprecated','line_number':158,'multiline':False]['text':' TODO? remove from './examples/research_projects/lxmert/utils.py' as well','line_number':159,'multiline':False]['text':' TODO? remove from './examples/research_projects/visual_bert/utils.py' as well','line_number':160,'multiline':False]['text':' CI will set this value to True','line_number':236,'multiline':False]['text':' Private arguments','line_number':341,'multiline':False]['text':'     _raise_exceptions_for_missing_entries: if False, do not raise an exception for missing entries but return','line_number':342,'multiline':False]['text':'         None.','line_number':343,'multiline':False]['text':'     _raise_exceptions_for_connection_errors: if False, do not raise an exception for connection errors but return','line_number':344,'multiline':False]['text':'         None.','line_number':345,'multiline':False]['text':'     _commit_hash: passed when we are chaining several calls to various files (e.g. when loading a tokenizer or','line_number':346,'multiline':False]['text':'         a pipeline). If files are cached for this commit hash, avoid calls to head and get from the cache.','line_number':347,'multiline':False]['text':' If the file is cached under that commit hash, we return it directly.','line_number':374,'multiline':False]['text':' Load from URL or cache if already cached','line_number':388,'multiline':False]['text':' We try to see if we have a cached version (not up to date):','line_number':423,'multiline':False]['text':' First we try to see if we have a cached version (not up to date):','line_number':445,'multiline':False]['text':' TODO: deprecate `get_file_from_repo` or document it differently?','line_number':460,'multiline':False]['text':'       Docstring is exactly the same as `cached_repo` but behavior is slightly different. If file is missing or if','line_number':461,'multiline':False]['text':'       there is a connection error, `cached_repo` will return None while `get_file_from_repo` will raise an error.','line_number':462,'multiline':False]['text':'       IMO we should keep only 1 method and have a single `raise_error` argument (to be discussed).','line_number':463,'multiline':False]['text':' We return false for EntryNotFoundError (logical) as well as any connection error.','line_number':639,'multiline':False]['text':' filter for actual files + folders at the root level','line_number':722,'multiline':False]['text':' upload standalone files','line_number':730,'multiline':False]['text':' go over individual files of folder','line_number':733,'multiline':False]['text':' Should use `repo_id` instead of `repo_path_or_name`. When using `repo_path_or_name`, we try to infer','line_number':833,'multiline':False]['text':' repo_id from the folder path, if it exists.','line_number':834,'multiline':False]['text':' repo_path: infer repo_id from the path','line_number':845,'multiline':False]['text':' repo_name: use it as repo_id','line_number':849,'multiline':False]['text':' Repo_id is passed correctly: infer working_dir from it','line_number':853,'multiline':False]['text':' Deprecation warning will be sent after for repo_url and organization','line_number':856,'multiline':False]['text':' Save all files.','line_number':870,'multiline':False]['text':' Filter out local paths','line_number':903,'multiline':False]['text':' Extract script name from the example_name','line_number':909,'multiline':False]['text':' Send telemetry in the background','line_number':914,'multiline':False]['text':' First, let's deal with local folder.','line_number':1001,'multiline':False]['text':' At this stage pretrained_model_name_or_path is a model identifier on the Hub','line_number':1006,'multiline':False]['text':' Check if the model is already cached or not. We only try the last checkpoint, this should cover most cases of','line_number':1008,'multiline':False]['text':' downloaded (if interrupted).','line_number':1009,'multiline':False]['text':' Load from URL','line_number':1016,'multiline':False]['text':' We have already dealt with RepositoryNotFoundError and RevisionNotFoundError when getting the index, so','line_number':1031,'multiline':False]['text':' we don't have to catch them here.','line_number':1032,'multiline':False]['text':' All what is below is for conversion between old cache format and new cache format.','line_number':1049,'multiline':False]['text':' refs','line_number':1105,'multiline':False]['text':' blobs','line_number':1112,'multiline':False]['text':' snapshots','line_number':1117,'multiline':False]['text':' Migrate from old cache in .cache/huggingface/transformers','line_number':1129,'multiline':False]['text':' Cached file is not up to date, we just throw it as a new version will be downloaded anyway.','line_number':1152,'multiline':False]['text':' Not a file from huggingface.co','line_number':1158,'multiline':False]['text':' Cancel the job if it wasn't started yet and remove cancelled/done jobs from the list','line_number':1190,'multiline':False]['text':' Users set some env variable to customize cache storage','line_number':1223,'multiline':False]