['text':' coding=utf-8','line_number':1,'multiline':False]['text':' Copyright (c) 2020, VinAI Research and the HuggingFace Inc. team.','line_number':2,'multiline':False]['text':' Copyright 2018 The Open AI Team Authors and The HuggingFace Inc. team.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]['text':' limitations under the License.','line_number':15,'multiline':False]['text':' Perform Tweet normalization before performing BPE','line_number':314,'multiline':False]['text':' def decode(self, token_ids, skip_special_tokens=False, clean_up_tokenization_spaces=True):','line_number':412,'multiline':False]['text':'     filtered_tokens = ' '.join(self.convert_ids_to_tokens(token_ids, skip_special_tokens=skip_special_tokens))','line_number':413,'multiline':False]['text':'     tokens_generated_so_far = re.sub('(@@ )', '', string=filtered_tokens)','line_number':414,'multiline':False]['text':'     tokens_generated_so_far = re.sub('(@@ ?$)', '', string=tokens_generated_so_far)','line_number':415,'multiline':False]['text':'     return ''.join(tokens_generated_so_far)','line_number':416,'multiline':False]['text':' Natural Language Toolkit: Twitter Tokenizer','line_number':442,'multiline':False]['text':'','line_number':443,'multiline':False]['text':' Copyright (C) 2001-2020 NLTK Project','line_number':444,'multiline':False]['text':' Author: Christopher Potts <cgpotts@stanford.edu>','line_number':445,'multiline':False]['text':'         Ewan Klein <ewan@inf.ed.ac.uk> (modifications)','line_number':446,'multiline':False]['text':'         Pierpaolo Pantone <> (modifications)','line_number':447,'multiline':False]['text':' URL: http://nltk.org/','line_number':448,'multiline':False]['text':' For license information, see LICENSE.TXT','line_number':449,'multiline':False]['text':'','line_number':450,'multiline':False]['text':'#####################################################################','line_number':469,'multiline':False]['text':'','line_number':470,'multiline':False]['text':' import regex  # https://github.com/nltk/nltk/issues/2409','line_number':471,'multiline':False]['text':' import html','line_number':472,'multiline':False]['text':'','line_number':473,'multiline':False]['text':'#####################################################################','line_number':474,'multiline':False]['text':' The following strings are components in the regular expression','line_number':475,'multiline':False]['text':' that is used for tokenizing. It's important that phone_number','line_number':476,'multiline':False]['text':' appears first in the final regex (since it can contain whitespace).','line_number':477,'multiline':False]['text':' It also could matter that tags comes after emoticons, due to the','line_number':478,'multiline':False]['text':' possibility of having text like','line_number':479,'multiline':False]['text':'','line_number':480,'multiline':False]['text':'     <:| and some text >:)','line_number':481,'multiline':False]['text':'','line_number':482,'multiline':False]['text':' Most importantly, the final element should always be last, since it','line_number':483,'multiline':False]['text':' does a last ditch whitespace-based tokenization of whatever is left.','line_number':484,'multiline':False]['text':' ToDo: Update with http://en.wikipedia.org/wiki/List_of_emoticons ?','line_number':486,'multiline':False]['text':' This particular element is used in a couple ways, so we define it','line_number':488,'multiline':False]['text':' with a name:','line_number':489,'multiline':False]['text':' docstyle-ignore','line_number':490,'multiline':False]['text':' URL pattern due to John Gruber, modified by Tom Winzig. See','line_number':506,'multiline':False]['text':' https://gist.github.com/winzig/8894715','line_number':507,'multiline':False]['text':' docstyle-ignore','line_number':508,'multiline':False]['text':' docstyle-ignore','line_number':552,'multiline':False]['text':' The components of the tokenizer:','line_number':553,'multiline':False]['text':' Phone numbers:','line_number':556,'multiline':False]['text':' ASCII Emoticons','line_number':572,'multiline':False]['text':' HTML tags:','line_number':574,'multiline':False]['text':' ASCII Arrows','line_number':576,'multiline':False]['text':' Twitter username:','line_number':578,'multiline':False]['text':' Twitter hashtags:','line_number':580,'multiline':False]['text':' email addresses','line_number':582,'multiline':False]['text':' docstyle-ignore','line_number':584,'multiline':False]['text':' Remaining word types:','line_number':585,'multiline':False]['text':'#####################################################################','line_number':599,'multiline':False]['text':' This is the core tokenizing regex:','line_number':600,'multiline':False]['text':' WORD_RE performs poorly on these patterns:','line_number':604,'multiline':False]['text':' The emoticon string gets its own regex so that we can preserve case for','line_number':607,'multiline':False]['text':' them as needed:','line_number':608,'multiline':False]['text':' These are for regularizing HTML entities to Unicode:','line_number':611,'multiline':False]['text':'#####################################################################','line_number':615,'multiline':False]['text':' Functions for converting html entities','line_number':616,'multiline':False]['text':'#####################################################################','line_number':617,'multiline':False]['text':' Numeric character references in the 80-9F range are typically','line_number':666,'multiline':False]['text':' interpreted by browsers as representing the characters mapped','line_number':667,'multiline':False]['text':' to bytes 80-9F in the Windows-1252 encoding. For more info','line_number':668,'multiline':False]['text':' see: https://en.wikipedia.org/wiki/ISO/IEC_8859-1#Similar_character_sets','line_number':669,'multiline':False]['text':'#####################################################################','line_number':690,'multiline':False]['text':' Fix HTML character entities:','line_number':726,'multiline':False]['text':' Remove username handles','line_number':728,'multiline':False]['text':' Normalize word lengthening','line_number':731,'multiline':False]['text':' Shorten problematic sequences of characters','line_number':734,'multiline':False]['text':' Tokenize:','line_number':736,'multiline':False]['text':' Possibly alter the case, but avoid changing emoticons like :D into :d:','line_number':738,'multiline':False]['text':'#####################################################################','line_number':744,'multiline':False]['text':' Normalization Functions','line_number':745,'multiline':False]['text':'#####################################################################','line_number':746,'multiline':False]['text':' Substitute handles with ' ' to ensure that text on either side of removed handles are tokenized correctly','line_number':764,'multiline':False]['text':'#####################################################################','line_number':768,'multiline':False]['text':' Tokenization Function','line_number':769,'multiline':False]['text':'#####################################################################','line_number':770,'multiline':False]['text':'##############################################################################','line_number':782,'multiline':False]