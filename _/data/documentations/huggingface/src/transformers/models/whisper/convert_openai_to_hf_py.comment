['text':'!/usr/bin/env python','line_number':1,'multiline':False]['text':' Copyright 2022 The HuggingFace Inc. team and the OpenAI team. All rights reserved.','line_number':3,'multiline':False]['text':'','line_number':4,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]['text':'','line_number':8,'multiline':False]['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]['text':'','line_number':10,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]['text':' limitations under the License.','line_number':15,'multiline':False]['text':' a hacky way to properly set up the bos/eos/pad token ids in the model','line_number':204,'multiline':False]['text':' determine those parameters from a model checkpoint as Whisper repo does','line_number':241,'multiline':False]['text':' Adapted from https://github.com/openai/tiktoken/issues/60#issuecomment-1499977960','line_number':254,'multiline':False]['text':' account for empty token','line_number':286,'multiline':False]['text':' requires whisper, unless we use the path to the tiktoken file','line_number':294,'multiline':False]['text':' these are special tokens, not normalized','line_number':305,'multiline':False]['text':' These are not special but normalized','line_number':307,'multiline':False]['text':' # Required parameters','line_number':332,'multiline':False]['text':' the rest of default parameters are the same as hardcoded in openai/whisper','line_number':359,'multiline':False]['text':' save fast tokenizer as well','line_number':364,'multiline':False]