['text':' coding=utf-8','line_number':1,'multiline':False]['text':' Copyright 2021 The HuggingFace Inc. team. All rights reserved.','line_number':2,'multiline':False]['text':'','line_number':3,'multiline':False]['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]['text':'','line_number':7,'multiline':False]['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]['text':'','line_number':9,'multiline':False]['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]['text':' limitations under the License.','line_number':14,'multiline':False]['text':' first forward pass','line_number':185,'multiline':False]['text':' create hypothetical multiple next token and extent to next_input_ids','line_number':190,'multiline':False]['text':' append to next input_ids and','line_number':194,'multiline':False]['text':' select random slice','line_number':203,'multiline':False]['text':' test that outputs are equal for slice','line_number':210,'multiline':False]['text':' not implemented currently','line_number':238,'multiline':False]['text':' training is not supported yet','line_number':242,'multiline':False]['text':' check that output_hidden_states also work using config','line_number':307,'multiline':False]['text':' check that output_attentions also work using config','line_number':336,'multiline':False]['text':' loss is at first position','line_number':353,'multiline':False]['text':' loss is added to beginning','line_number':355,'multiline':False]['text':' past_key_values have been returned','line_number':357,'multiline':False]['text':' decoder attentions','line_number':361,'multiline':False]['text':' cross attentions','line_number':370,'multiline':False]['text':' Check attention is always last and order is fine','line_number':383,'multiline':False]['text':' Overwritten method from parent; see `test_resize_embeddings_untied`','line_number':402,'multiline':False]['text':' see `test_resize_embeddings_untied`','line_number':406,'multiline':False]['text':' TODO: copy test from PT. Not working at the moment because the test relies on `model.resize_token_embeddings`,','line_number':410,'multiline':False]['text':' whose TF implementation assumes the use of `TFWrappedEmbeddings`. But with a `TFWrappedEmbeddings` we can't','line_number':411,'multiline':False]['text':' load the weights from PT (also, it induces TF1 behavior, so we might want to rework how','line_number':412,'multiline':False]['text':' `model.resize_token_embeddings` operates).','line_number':413,'multiline':False]['text':' scores','line_number':445,'multiline':False]['text':' Attentions','line_number':448,'multiline':False]['text':' encoder','line_number':449,'multiline':False]['text':' decoder','line_number':453,'multiline':False]['text':' Hidden States','line_number':463,'multiline':False]['text':' encoder','line_number':464,'multiline':False]['text':' decoder','line_number':469,'multiline':False]['text':' overwritten from parent due to the inability to work when non-text inputs are not passed AND because the input is','line_number':479,'multiline':False]['text':' `input_features`','line_number':480,'multiline':False]['text':' iterate over all generative models','line_number':485,'multiline':False]['text':' if bos token id is not defined model needs input_features','line_number':490,'multiline':False]['text':' num_return_sequences = 1','line_number':493,'multiline':False]['text':' generating multiple sequences when no beam search generation','line_number':497,'multiline':False]['text':' is not allowed as it would always generate the same sequences','line_number':498,'multiline':False]['text':' num_return_sequences > 1, sample','line_number':501,'multiline':False]['text':' check bad words tokens language generation','line_number':504,'multiline':False]['text':' create list of 1-seq bad token and list of 2-seq of bad tokens','line_number':505,'multiline':False]['text':' only count generated tokens','line_number':510,'multiline':False]['text':' overwritten from parent due to the inability to work when non-text inputs are not passed AND because the input is','line_number':514,'multiline':False]['text':' `input_features`','line_number':515,'multiline':False]['text':' if bos token id is not defined model needs input_ids, num_return_sequences = 1','line_number':524,'multiline':False]['text':' generating more sequences than having beams leads is not possible','line_number':528,'multiline':False]['text':' num_return_sequences > 1, sample','line_number':531,'multiline':False]['text':' num_return_sequences > 1, greedy','line_number':540,'multiline':False]['text':' check bad words tokens language generation','line_number':545,'multiline':False]['text':' create list of 1-seq bad token and list of 2-seq of bad tokens','line_number':546,'multiline':False]['text':' only count generated tokens','line_number':551,'multiline':False]['text':' overwritten from parent -- the input is `input_features`, not `input_ids`','line_number':555,'multiline':False]['text':' signature.parameters is an OrderedDict => so arg_names order is deterministic','line_number':562,'multiline':False]['text':' Allow missing keys since TF doesn't cache the sinusoidal embeddings in an attribute','line_number':574,'multiline':False]['text':' automatic decoding with librispeech','line_number':591,'multiline':False]