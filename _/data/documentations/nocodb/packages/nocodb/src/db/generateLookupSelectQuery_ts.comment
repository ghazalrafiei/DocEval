['text':' this function will generate the query for lookup column','line_number':31,'multiline':False]['text':' or for  LTAR column and return the query builder','line_number':32,'multiline':False]['text':' query result will be aggregated json array string in case of Myssql and Postgres','line_number':33,'multiline':False]['text':' and string with separator in case of sqlite and mysql','line_number':34,'multiline':False]['text':' this function is used for sorting and grouping of lookup/LTAR column at the moment','line_number':35,'multiline':False]['text':' if not belongs to then throw error as we don't support','line_number':73,'multiline':False]['text':' if not belongs to then throw error as we don't support','line_number':94,'multiline':False]['text':' if not belongs to then throw error as we don't support','line_number':116,'multiline':False]['text':' if lookup column is qr code or barcode extract the referencing column','line_number':158,'multiline':False]['text':' if any of the relation in nested lookupColOpt is','line_number':185,'multiline':False]['text':' not belongs to then throw error as we don't support','line_number':186,'multiline':False]['text':' get basemodel and model of lookup column','line_number':267,'multiline':False]['text':' if all relation are belongs to then we don't need to do the aggregation','line_number':333,'multiline':False]['text':' alternate approach with array_agg','line_number':343,'multiline':False]['text':'
      // alternate approach with array_agg
      return {
        builder: knex
          .select(knex.raw('array_agg(??)', [lookupColumn.id]))
          .from(selectQb),
      };','line_number':349,'multiline':True]['text':' alternate approach with string aggregation','line_number':356,'multiline':False]['text':' return {','line_number':357,'multiline':False]['text':'   builder: knex','line_number':358,'multiline':False]['text':'     .select(','line_number':359,'multiline':False]['text':'       knex.raw('STRING_AGG(??::text, ?)', [','line_number':360,'multiline':False]['text':'         lookupColumn.id,','line_number':361,'multiline':False]['text':'         LOOKUP_VAL_SEPARATOR,','line_number':362,'multiline':False]['text':'       ]),','line_number':363,'multiline':False]['text':'     )','line_number':364,'multiline':False]['text':'     .from(selectQb.as(subQueryAlias)),','line_number':365,'multiline':False]['text':' };','line_number':366,'multiline':False]['text':' return {','line_number':376,'multiline':False]['text':'   builder: knex','line_number':377,'multiline':False]['text':'     .select(','line_number':378,'multiline':False]['text':'       knex.raw('GROUP_CONCAT(?? ORDER BY ?? ASC SEPARATOR ?)', [','line_number':379,'multiline':False]['text':'         lookupColumn.id,','line_number':380,'multiline':False]['text':'         lookupColumn.id,','line_number':381,'multiline':False]['text':'         LOOKUP_VAL_SEPARATOR,','line_number':382,'multiline':False]['text':'       ]),','line_number':383,'multiline':False]['text':'     )','line_number':384,'multiline':False]['text':'     .from(selectQb.as(subQueryAlias)),','line_number':385,'multiline':False]['text':' };','line_number':386,'multiline':False]['text':' ref: https://stackoverflow.com/questions/13382856/sqlite3-join-group-concat-using-distinct-with-custom-separator','line_number':388,'multiline':False]['text':' selectQb.orderBy(`${lookupColumn.id}`, 'asc');','line_number':389,'multiline':False]['text':' ref: https://stackoverflow.com/questions/13382856/sqlite3-join-group-concat-using-distinct-with-custom-separator','line_number':401,'multiline':False]['text':' selectQb.orderBy(`${lookupColumn.id}`, 'asc');','line_number':402,'multiline':False]