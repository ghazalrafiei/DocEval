['text':'!/usr/bin/env bash','line_number':1,'multiline':False]
['text':' Copyright 2014 The Kubernetes Authors.','line_number':3,'multiline':False]
['text':'','line_number':4,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]
['text':'','line_number':8,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]
['text':'','line_number':10,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]
['text':' limitations under the License.','line_number':15,'multiline':False]
['text':' TODO(jbeda): Provide a way to override project','line_number':17,'multiline':False]
['text':' gcloud multiplexing for shared GCE/GKE tests.','line_number':18,'multiline':False]
['text':' Specifying KUBE_GCE_API_ENDPOINT will override the default GCE Compute API endpoint (https://www.googleapis.com/compute/v1/).','line_number':22,'multiline':False]
['text':' This endpoint has to be pointing to v1 api. For example, https://www.googleapis.com/compute/staging_v1/','line_number':23,'multiline':False]
['text':' TODO: Migrate to e2-standard machine family.','line_number':30,'multiline':False]
['text':' TODO: Migrate to e2-standard machine family.','line_number':34,'multiline':False]
['text':' To allow choosing better architectures.','line_number':36,'multiline':False]
['text':' KUBE_CREATE_NODES can be used to avoid creating nodes, while master will be sized for NUM_NODES nodes.','line_number':47,'multiline':False]
['text':' Firewalls and node templates are still created.','line_number':48,'multiline':False]
['text':' An extension to local SSDs allowing users to specify block/fs and SCSI/NVMe devices','line_number':51,'multiline':False]
['text':' Format of this variable will be "#,scsi/nvme,block/fs" you can specify multiple','line_number':52,'multiline':False]
['text':' configurations by separating them by a semi-colon ex. "2,scsi,fs;1,nvme,block"','line_number':53,'multiline':False]
['text':' is a request for 2 SCSI formatted and mounted SSDs and 1 NVMe block device SSD.','line_number':54,'multiline':False]
['text':' Accelerators to be attached to each node. Format "type=<accelerator-type>,count=<accelerator-count>"','line_number':56,'multiline':False]
['text':' More information on available GPUs here - https://cloud.google.com/compute/docs/gpus/','line_number':57,'multiline':False]
['text':' default value calculated below','line_number':63,'multiline':False]
['text':' GPUs supported in GCE do not have compatible drivers in Debian 7.','line_number':79,'multiline':False]
['text':' By default a cluster will be started with the master and nodes','line_number':84,'multiline':False]
['text':' on Container-optimized OS (cos, previously known as gci). If','line_number':85,'multiline':False]
['text':' you are updating the os image versions, update this variable.','line_number':86,'multiline':False]
['text':' Also please update corresponding image for node e2e at:','line_number':87,'multiline':False]
['text':' https://github.com/kubernetes/kubernetes/blob/master/test/e2e_node/jenkins/image-config.yaml','line_number':88,'multiline':False]
['text':'','line_number':89,'multiline':False]
['text':' By default, the latest image from the image family will be used unless an','line_number':90,'multiline':False]
['text':' explicit image will be set.','line_number':91,'multiline':False]
['text':' KUBELET_TEST_ARGS are extra arguments passed to kubelet.','line_number':102,'multiline':False]
['text':' Ability to inject custom versions (Ubuntu OS images ONLY)','line_number':110,'multiline':False]
['text':' if KUBE_UBUNTU_INSTALL_CONTAINERD_VERSION or KUBE_UBUNTU_INSTALL_RUNC_VERSION','line_number':111,'multiline':False]
['text':' is set to empty then we do not override the version(s) and just','line_number':112,'multiline':False]
['text':' use whatever is in the default installation of containerd package','line_number':113,'multiline':False]
['text':' MASTER_EXTRA_METADATA is the extra instance metadata on master instance separated by commas.','line_number':117,'multiline':False]
['text':' MASTER_EXTRA_METADATA is the extra instance metadata on node instance separated by commas.','line_number':119,'multiline':False]
['text':' Enable network deletion by default (for kube-down), unless we're using 'default' network.','line_number':123,'multiline':False]
['text':' NODE_IP_RANGE is used when ENABLE_IP_ALIASES=true or CREATE_CUSTOM_NETWORK=true.','line_number':142,'multiline':False]
['text':' It is the primary range in the subnet and is the range used for node instance IPs.','line_number':143,'multiline':False]
['text':' NOTE: Avoid giving nodes empty scopes, because kubelet needs a service account','line_number':147,'multiline':False]
['text':' in order to initialize properly.','line_number':148,'multiline':False]
['text':' Extra docker options for nodes.','line_number':151,'multiline':False]
['text':' formerly PORTAL_NET','line_number':156,'multiline':False]
['text':' When set to true, Docker Cache is enabled by default as part of the cluster bring up.','line_number':159,'multiline':False]
['text':' Optional: Deploy a L7 loadbalancer controller to fulfill Ingress requests:','line_number':162,'multiline':False]
['text':'   glbc           - CE L7 Load Balancer Controller','line_number':163,'multiline':False]
['text':' Optional: Enable Metrics Server. Metrics Server should be enable everywhere,','line_number':166,'multiline':False]
['text':' since it's a critical component, but in the first release we need a way to disable','line_number':167,'multiline':False]
['text':' this in case of stability issues.','line_number':168,'multiline':False]
['text':' TODO(piosz) remove this option once Metrics Server became a stable thing.','line_number':169,'multiline':False]
['text':' Optional: Metadata agent to setup as part of the cluster bring up:','line_number':172,'multiline':False]
['text':'   none        - No metadata agent','line_number':173,'multiline':False]
['text':'   stackdriver - Stackdriver metadata agent','line_number':174,'multiline':False]
['text':' Metadata agent is a daemon set that provides metadata of kubernetes objects','line_number':175,'multiline':False]
['text':' running on the same node for exporting metrics and logs.','line_number':176,'multiline':False]
['text':' One special node out of NUM_NODES would be created of this type if specified.','line_number':179,'multiline':False]
['text':' Useful for scheduling heapster in large clusters with nodes of small size.','line_number':180,'multiline':False]
['text':' Optional: Additional nodes would be created if their type and number is specified.','line_number':183,'multiline':False]
['text':' NUM_NODES would be lowered respectively.','line_number':184,'multiline':False]
['text':' Useful for running cluster-level addons that needs more resources than would fit','line_number':185,'multiline':False]
['text':' on small nodes, like network plugins.','line_number':186,'multiline':False]
['text':' NON_MASTER_NODE_LABELS are labels will only be applied on non-master nodes.','line_number':191,'multiline':False]
['text':' To avoid running Calico on a node that is not configured appropriately,','line_number':203,'multiline':False]
['text':' label each Node so that the DaemonSet can run the Pods only on ready Nodes.','line_number':204,'multiline':False]
['text':' Windows nodes do not support Calico.','line_number':205,'multiline':False]
['text':' Optional: Enable netd.','line_number':210,'multiline':False]
['text':' To avoid running netd on a node that is not configured appropriately,','line_number':216,'multiline':False]
['text':' label each Node so that the DaemonSet can run the Pods only on ready Nodes.','line_number':217,'multiline':False]
['text':' Windows nodes do not support netd.','line_number':218,'multiline':False]
['text':' Enable metadata concealment by firewalling pod traffic to the metadata server','line_number':226,'multiline':False]
['text':' and run a proxy daemonset on nodes.','line_number':227,'multiline':False]
['text':'','line_number':228,'multiline':False]
['text':' TODO(#8867) Enable by default.','line_number':229,'multiline':False]
['text':' true, false','line_number':230,'multiline':False]
['text':' true, false','line_number':231,'multiline':False]
['text':' Put the necessary label on the node so the daemonset gets scheduled.','line_number':233,'multiline':False]
['text':' Add to the provider custom variables.','line_number':235,'multiline':False]
['text':' Optional: Enable node logging.','line_number':239,'multiline':False]
['text':' options: gcp','line_number':241,'multiline':False]
['text':' Optional: When set to true, Elasticsearch and Kibana will be setup as part of the cluster bring up.','line_number':243,'multiline':False]
['text':' Optional: Don't require https for registries in our local RFC1918 network','line_number':247,'multiline':False]
['text':' Optional: customize runtime config','line_number':252,'multiline':False]
['text':' By default disable gkenetworkparamset controller in CCM','line_number':259,'multiline':False]
['text':' List of the set of feature gates recognized by the GCP CCM','line_number':262,'multiline':False]
['text':' Optional: set feature gates','line_number':265,'multiline':False]
['text':' shellcheck disable=SC2034 # Variables sourced in other scripts.','line_number':266,'multiline':False]
['text':' Optional: Install cluster DNS.','line_number':275,'multiline':False]
['text':' Set CLUSTER_DNS_CORE_DNS to 'false' to install kube-dns instead of CoreDNS.','line_number':276,'multiline':False]
['text':' Optional: Enable DNS horizontal autoscaler','line_number':283,'multiline':False]
['text':' Optional: Install node problem detector.','line_number':286,'multiline':False]
['text':'   none           - Not run node problem detector.','line_number':287,'multiline':False]
['text':'   daemonset      - Run node problem detector as daemonset.','line_number':288,'multiline':False]
['text':'   standalone     - Run node problem detector as standalone system daemon.','line_number':289,'multiline':False]
['text':' Optional: Create autoscaler for cluster's nodes.','line_number':300,'multiline':False]
['text':' Optional: Enable allocation of pod IPs using IP aliases.','line_number':309,'multiline':False]
['text':'','line_number':310,'multiline':False]
['text':' BETA FEATURE.','line_number':311,'multiline':False]
['text':'','line_number':312,'multiline':False]
['text':' IP_ALIAS_SIZE is the size of the podCIDR allocated to a node.','line_number':313,'multiline':False]
['text':' IP_ALIAS_SUBNETWORK is the subnetwork to allocate from. If empty, a','line_number':314,'multiline':False]
['text':'   new subnetwork will be created for the cluster.','line_number':315,'multiline':False]
['text':' Number of Pods that can run on this node.','line_number':319,'multiline':False]
['text':' Size of ranges allocated to each node.','line_number':321,'multiline':False]
['text':' If we're using custom network, use the subnet we already create for it as the one for ip-alias.','line_number':325,'multiline':False]
['text':' Note that this means SUBNETWORK would override KUBE_GCE_IP_ALIAS_SUBNETWORK in case of custom network.','line_number':326,'multiline':False]
['text':' Add to the provider custom variables.','line_number':332,'multiline':False]
['text':' Should not have MAX_PODS_PER_NODE set for route-based clusters.','line_number':338,'multiline':False]
['text':' Enable GCE Alpha features.','line_number':348,'multiline':False]
['text':' Disable Docker live-restore.','line_number':353,'multiline':False]
['text':' Override default GLBC image','line_number':358,'multiline':False]
['text':' Admission Controllers to invoke prior to persisting objects in cluster','line_number':364,'multiline':False]
['text':' MutatingAdmissionWebhook should be the last controller that modifies the','line_number':367,'multiline':False]
['text':' request object, otherwise users will be confused if the mutating webhooks'','line_number':368,'multiline':False]
['text':' modification is overwritten.','line_number':369,'multiline':False]
['text':' ResourceQuota must come last, or a creation is recorded, but the pod was forbidden.','line_number':372,'multiline':False]
['text':' Optional: if set to true kube-up will automatically check for existing resources and clean them up.','line_number':375,'multiline':False]
['text':' Storage backend. 'etcd2' supported, 'etcd3' experimental.','line_number':378,'multiline':False]
['text':' Networking plugin specific settings.','line_number':381,'multiline':False]
['text':' none, kubenet','line_number':382,'multiline':False]
['text':' Network Policy plugin specific settings.','line_number':384,'multiline':False]
['text':' calico','line_number':385,'multiline':False]
['text':' How should the kubelet configure hairpin mode?','line_number':389,'multiline':False]
['text':' promiscuous-bridge, hairpin-veth, none','line_number':390,'multiline':False]
['text':' Optional: if set to true, kube-up will configure the cluster to run e2e tests.','line_number':391,'multiline':False]
['text':' Evict pods whenever compute resource availability on the nodes gets below a threshold.','line_number':394,'multiline':False]
['text':' Optional: custom scheduling algorithm','line_number':397,'multiline':False]
['text':' Optional: install a default StorageClass','line_number':400,'multiline':False]
['text':' Optional: install volume snapshot CRDs','line_number':403,'multiline':False]
['text':' Optional: Enable legacy ABAC policy that makes all service accounts superusers.','line_number':406,'multiline':False]
['text':' true, false','line_number':407,'multiline':False]
['text':' Indicates if the values (i.e. KUBE_USER and KUBE_PASSWORD for basic','line_number':409,'multiline':False]
['text':' authentication) in metadata should be treated as canonical, and therefore disk','line_number':410,'multiline':False]
['text':' copies ought to be recreated/clobbered.','line_number':411,'multiline':False]
['text':' Optional: Enable log rotation for k8s services','line_number':416,'multiline':False]
['text':' Optional: Enable log rotation for pod logs','line_number':426,'multiline':False]
['text':' Fluentd requirements','line_number':438,'multiline':False]
['text':' YAML exists to trigger a configuration refresh when changes are made.','line_number':439,'multiline':False]
['text':' Heapster requirements','line_number':446,'multiline':False]
['text':' Default Stackdriver resources version exported by Fluentd-gcp addon','line_number':452,'multiline':False]
['text':' Adding to PROVIDER_VARS, since this is GCP-specific.','line_number':455,'multiline':False]
['text':' Fluentd configuration for node-journal','line_number':458,'multiline':False]
['text':' prometheus-to-sd configuration','line_number':461,'multiline':False]
['text':' TODO(#51292): Make kube-proxy Daemonset default and remove the configuration here.','line_number':466,'multiline':False]
['text':' Optional: [Experiment Only] Run kube-proxy as a DaemonSet if set to true, run as static pods otherwise.','line_number':467,'multiline':False]
['text':' true, false','line_number':468,'multiline':False]
['text':' Control whether the startup scripts manage the lifecycle of kube-proxy','line_number':470,'multiline':False]
['text':' When true, the startup scripts do not enable kube-proxy either as a daemonset addon or as a static pod','line_number':471,'multiline':False]
['text':' regardless of the value of KUBE_PROXY_DAEMONSET.','line_number':472,'multiline':False]
['text':' When false, the value of KUBE_PROXY_DAEMONSET controls whether kube-proxy comes up as a static pod or','line_number':473,'multiline':False]
['text':' as an addon daemonset.','line_number':474,'multiline':False]
['text':' true, false','line_number':475,'multiline':False]
['text':' Will be passed into the kube-proxy via `--detect-local-mode`','line_number':477,'multiline':False]
['text':' Optional: duration of cluster signed certificates.','line_number':480,'multiline':False]
['text':' Optional: enable certificate rotation of the kubelet certificates.','line_number':483,'multiline':False]
['text':' The number of services that are allowed to sync concurrently. Will be passed','line_number':486,'multiline':False]
['text':' into kube-controller-manager via `--concurrent-service-syncs`','line_number':487,'multiline':False]
['text':' Taint Windows nodes by default to prevent Linux workloads from being','line_number':492,'multiline':False]
['text':' scheduled onto them.','line_number':493,'multiline':False]
['text':' Whether to set up a private GCE cluster, i.e. a cluster where nodes have only private IPs.','line_number':496,'multiline':False]
['text':' When KUBE_ENABLE_KONNECTIVITY_SERVICE is enabled, the three variables below will','line_number':500,'multiline':False]
['text':' default to true to enable the konnectivity network proxy and start the required pods.','line_number':501,'multiline':False]
['text':' Their values can be overridden for more granular control of the proxy.','line_number':502,'multiline':False]
['text':' Optional: Whether to do the setup for the konnectivity service','line_number':504,'multiline':False]
['text':' Includes setting up kubeconfig, tokens, egress files, and firewall rules','line_number':505,'multiline':False]
['text':' Optional: Whether to use konnectivity network proxy for all egress from apiserver.','line_number':507,'multiline':False]
['text':' Optional: Whether to start the konnectivity server and agent pods.','line_number':509,'multiline':False]
['text':' Proxy Protocol Mode determines the protocol to use to communicate between apiserver and network proxy.','line_number':511,'multiline':False]
['text':' Valid options are grpc and http-connect. Default is grpc.','line_number':512,'multiline':False]
['text':' Optional: Enable Windows CSI-Proxy','line_number':515,'multiline':False]
['text':' KUBE_APISERVER_HEALTHCHECK_ON_HOST_IP decides whether','line_number':518,'multiline':False]
['text':' kube-apiserver is healthchecked on host IP instead of 127.0.0.1.','line_number':519,'multiline':False]
['text':' ETCD_PROGRESS_NOTIFY_INTERVAL defines the interval for etcd watch progress notify events.','line_number':522,'multiline':False]
['text':' Optional: Install Pigz on Windows.','line_number':525,'multiline':False]
['text':' Pigz is a multi-core optimized version of unzip.exe.','line_number':526,'multiline':False]
['text':' It improves container image pull performance since most time is spent','line_number':527,'multiline':False]
['text':' unzipping the image layers to disk.','line_number':528,'multiline':False]
['text':' Enable Windows DSR (Direct Server Return)','line_number':531,'multiline':False]
['text':' Install Node Problem Detector (NPD) on Windows nodes.','line_number':534,'multiline':False]
['text':' NPD analyzes the host for problems that can disrupt workloads.','line_number':535,'multiline':False]
['text':' Enable Windows Hyper-V','line_number':539,'multiline':False]
['text':' sig-storage uses it to create Virtual Hard Disks in tests','line_number':540,'multiline':False]
['text':' TLS_CIPHER_SUITES defines cipher suites allowed to be used by kube-apiserver.','line_number':543,'multiline':False]
['text':' If this variable is unset or empty, kube-apiserver will allow its default set of cipher suites.','line_number':544,'multiline':False]
['text':' CLOUD_PROVIDER_FLAG defines the cloud-provider value presented to KCM, apiserver,','line_number':547,'multiline':False]
['text':' and kubelet','line_number':548,'multiline':False]
['text':' Don't run the node-ipam-controller on the KCM if cloud-provider external','line_number':551,'multiline':False]
['text':' When ENABLE_AUTH_PROVIDER_GCP is set, following flags for out-of-tree credential provider for GCP','line_number':556,'multiline':False]
['text':' are presented to kubelet:','line_number':557,'multiline':False]
['text':' --image-credential-provider-config=${path-to-config}','line_number':558,'multiline':False]
['text':' --image-credential-provider-bin-dir=${path-to-auth-provider-binary}','line_number':559,'multiline':False]
['text':' Also, it is required that DisableKubeletCloudCredentialProviders','line_number':560,'multiline':False]
['text':' feature gates are set to true for kubelet to use external credential provider.','line_number':561,'multiline':False]
