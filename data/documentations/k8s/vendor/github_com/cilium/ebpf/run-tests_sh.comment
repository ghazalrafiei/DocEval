['text':'!/usr/bin/env bash','line_number':1,'multiline':False]
['text':' Test the current package under a different kernel.','line_number':2,'multiline':False]
['text':' Requires virtme and qemu to be installed.','line_number':3,'multiline':False]
['text':' Examples:','line_number':4,'multiline':False]
['text':'     Run all tests on a 5.4 kernel','line_number':5,'multiline':False]
['text':'     $ ./run-tests.sh 5.4','line_number':6,'multiline':False]
['text':'     Run a subset of tests:','line_number':7,'multiline':False]
['text':'     $ ./run-tests.sh 5.4 ./link','line_number':8,'multiline':False]
['text':' This script is a bit like a Matryoshka doll since it keeps re-executing itself','line_number':15,'multiline':False]
['text':' in various different contexts:','line_number':16,'multiline':False]
['text':'','line_number':17,'multiline':False]
['text':'   1. invoked by the user like run-tests.sh 5.4','line_number':18,'multiline':False]
['text':'   2. invoked by go test like run-tests.sh --exec-vm','line_number':19,'multiline':False]
['text':'   3. invoked by init in the vm like run-tests.sh --exec-test','line_number':20,'multiline':False]
['text':'','line_number':21,'multiline':False]
['text':' This allows us to use all available CPU on the host machine to compile our','line_number':22,'multiline':False]
['text':' code, and then only use the VM to execute the test. This is because the VM','line_number':23,'multiline':False]
['text':' is usually slower at compiling than the host.','line_number':24,'multiline':False]
['text':' Use sudo if /dev/kvm isn't accessible by the current user.','line_number':31,'multiline':False]
['text':' stdin is /dev/null, which doesn't play well with qemu. Use a fifo as a','line_number':43,'multiline':False]
['text':' blocking substitute.','line_number':44,'multiline':False]
['text':' Open for reading and writing to avoid blocking.','line_number':46,'multiline':False]
['text':' need at least two CPUs for some tests','line_number':57,'multiline':False]
['text':' this return code is "swallowed" by qemu','line_number':95,'multiline':False]
['text':' > 0 )); then','line_number':132,'multiline':False]
['text':' LINUX_VERSION_CODE test compares this to discovered value.','line_number':138,'multiline':False]
