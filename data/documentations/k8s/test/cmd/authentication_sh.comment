['text':'!/usr/bin/env bash','line_number':1,'multiline':False]
['text':' Copyright 2020 The Kubernetes Authors.','line_number':3,'multiline':False]
['text':'','line_number':4,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]
['text':'','line_number':8,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]
['text':'','line_number':10,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]
['text':' limitations under the License.','line_number':15,'multiline':False]
['text':' Any invalid exec credential plugin will do to demonstrate','line_number':52,'multiline':False]
['text':'## Provided --token should take precedence, thus not triggering the (invalid) exec credential plugin','line_number':57,'multiline':False]
['text':' Pre-condition: Client certificate authentication enabled on the API server','line_number':58,'multiline':False]
['text':' Command','line_number':60,'multiline':False]
['text':' Post-condition: None','line_number':69,'multiline':False]
['text':'## Without provided --token, the exec credential plugin should be triggered','line_number':71,'multiline':False]
['text':' Pre-condition: Client certificate authentication enabled on the API server - already checked by positive test above','line_number':72,'multiline':False]
['text':' Command','line_number':74,'multiline':False]
['text':' Post-condition: None','line_number':83,'multiline':False]
['text':'## Valid exec plugin should authenticate user properly','line_number':109,'multiline':False]
['text':' Pre-condition: Client certificate authentication enabled on the API server - already checked by positive test above','line_number':110,'multiline':False]
['text':' Command','line_number':112,'multiline':False]
['text':' Post-condition: None','line_number':121,'multiline':False]
['text':'## Provided --username/--password should take precedence, thus not triggering the (valid) exec credential plugin','line_number':123,'multiline':False]
['text':' Pre-condition: Client certificate authentication enabled on the API server - already checked by positive test above','line_number':124,'multiline':False]
['text':' Command','line_number':126,'multiline':False]
['text':' Post-condition: None','line_number':135,'multiline':False]
['text':'## Provided --client-certificate/--client-key should take precedence on the cli, thus not triggering the (invalid) exec credential plugin','line_number':137,'multiline':False]
['text':' contained in the kubeconfig.','line_number':138,'multiline':False]
['text':' Use CSR to get a valid certificate','line_number':140,'multiline':False]
['text':' wait for certificate to not be empty','line_number':155,'multiline':False]
['text':'## Provided --client-certificate/--client-key should take precedence in the kubeconfig, thus not triggering the (invalid) exec credential plugin.','line_number':167,'multiline':False]
['text':'!/bin/bash','line_number':169,'multiline':False]
['text':'## The exec credential plugin should not be run if it kubectl already uses standard input','line_number':229,'multiline':False]
['text':' Pre-condition: The kubectl command requires standard input','line_number':230,'multiline':False]
['text':' Declare map from kubectl command to standard input data','line_number':234,'multiline':False]
['text':' Use a separate bash script for the command here so that script(1) will not get confused with kubectl flags','line_number':242,'multiline':False]
['text':'!/usr/bin/env bash','line_number':245,'multiline':False]
['text':' Run kubectl as child of script(1) so kubectl will always run with a PTY','line_number':253,'multiline':False]
['text':' Dynamically build script(1) command so that we can conditionally add flags on Linux','line_number':254,'multiline':False]
['text':' Specify SHELL env var when we call script(1) since it is picky about the format of the env var','line_number':259,'multiline':False]
['text':' Post-condition: None','line_number':276,'multiline':False]
['text':'## The kubeconfig will fail to be loaded if a v1 exec credential plugin is missing an interactiveMode field, otherwise it will default to IfAvailable','line_number':301,'multiline':False]
['text':' Pre-condition: The exec credential plugin is missing an interactiveMode setting','line_number':302,'multiline':False]
['text':' Post-condition: None','line_number':321,'multiline':False]
