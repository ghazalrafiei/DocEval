['text':' Some convenient wrappers to make callback functions easier ','line_number':14,'multiline':True]
['text':' If we're erasing the final cells of any lines, cancel the continuation
     * marker on the subsequent line
     ','line_number':50,'multiline':True]
['text':' TODO: Make an 'enable' function ','line_number':96,'multiline':True]
['text':' Update lineinfo if full line','line_number':136,'multiline':False]
['text':' else -1 to ignore','line_number':264,'multiline':False]
['text':' We'll have at most len codepoints, plus one from a previous incomplete','line_number':290,'multiline':False]
['text':' sequence.','line_number':291,'multiline':False]
['text':' There's a chance an encoding (e.g. UTF-8) hasn't found enough bytes yet
   * for even a single codepoint
   ','line_number':305,'multiline':True]
['text':' This is a combining char. that needs to be merged with the previous
   * glyph output ','line_number':316,'multiline':True]
['text':' See if the cursor has moved since ','line_number':319,'multiline':True]
['text':' Find where we need to append these combining chars ','line_number':329,'multiline':True]
['text':' Add extra ones ','line_number':334,'multiline':True]
['text':' Now render it ','line_number':350,'multiline':True]
['text':' Try to find combining characters following this','line_number':359,'multiline':False]
['text':' codepoints under this condition must be 0','line_number':379,'multiline':False]
['text':' TODO: should be += ?','line_number':390,'multiline':False]
['text':' TODO: This will be a little inefficient for large bodies of text, as','line_number':415,'multiline':False]
['text':' it'll have to 'ICH' effectively before every glyph. We should scan','line_number':416,'multiline':False]
['text':' ahead and ICH as many times as required','line_number':417,'multiline':False]
['text':' End of the buffer. Save the chars in case we have to combine with
       * more on the next call ','line_number':429,'multiline':True]
['text':' Preparing to see the leading byte','line_number':476,'multiline':False]
['text':' BEL - ECMA-48 8.3.3','line_number':481,'multiline':False]
['text':' BS - ECMA-48 8.3.5','line_number':486,'multiline':False]
['text':' In 2 cell letters, go back 2 cells','line_number':490,'multiline':False]
['text':' HT - ECMA-48 8.3.60','line_number':497,'multiline':False]
['text':' LF - ECMA-48 8.3.74','line_number':501,'multiline':False]
['text':' VT','line_number':502,'multiline':False]
['text':' FF','line_number':503,'multiline':False]
['text':' CR - ECMA-48 8.3.15','line_number':509,'multiline':False]
['text':' LS1 - ECMA-48 8.3.76','line_number':513,'multiline':False]
['text':' LS0 - ECMA-48 8.3.75','line_number':517,'multiline':False]
['text':' IND - DEPRECATED but implemented for completeness','line_number':521,'multiline':False]
['text':' NEL - ECMA-48 8.3.86','line_number':525,'multiline':False]
['text':' HTS - ECMA-48 8.3.62','line_number':530,'multiline':False]
['text':' RI - ECMA-48 8.3.104','line_number':534,'multiline':False]
['text':' SS2 - ECMA-48 8.3.141','line_number':548,'multiline':False]
['text':' SS3 - ECMA-48 8.3.142','line_number':552,'multiline':False]
['text':' Easier to decode this from the first byte, even though the final
   * byte terminates it
   ','line_number':629,'multiline':True]
['text':' S7C1T','line_number':638,'multiline':False]
['text':' S8C1T','line_number':642,'multiline':False]
['text':' DECDHL top','line_number':656,'multiline':False]
['text':' DECDHL bottom','line_number':662,'multiline':False]
['text':' DECSWL','line_number':668,'multiline':False]
['text':' DECDWL','line_number':674,'multiline':False]
['text':' DECALN','line_number':680,'multiline':False]
['text':' SCS','line_number':695,'multiline':False]
['text':' DECSC','line_number':713,'multiline':False]
['text':' DECRC','line_number':717,'multiline':False]
['text':' Ignored by VT100. Used in VT52 mode to switch up to VT100','line_number':721,'multiline':False]
['text':' DECKPAM','line_number':724,'multiline':False]
['text':' DECKPNM','line_number':728,'multiline':False]
['text':' RIS - ECMA-48 8.3.105','line_number':732,'multiline':False]
['text':' LS2 - ECMA-48 8.3.78','line_number':741,'multiline':False]
['text':' LS3 - ECMA-48 8.3.80','line_number':745,'multiline':False]
['text':' LS1R - ECMA-48 8.3.77','line_number':749,'multiline':False]
['text':' LS2R - ECMA-48 8.3.79','line_number':753,'multiline':False]
['text':' LS3R - ECMA-48 8.3.81','line_number':757,'multiline':False]
['text':' IRM - ECMA-48 7.2.10','line_number':769,'multiline':False]
['text':' LNM - ANSI X3.4-1977','line_number':773,'multiline':False]
['text':' DECSCNM - screen mode','line_number':790,'multiline':False]
['text':' DECOM - origin mode','line_number':794,'multiline':False]
['text':' DECVSSM - vertical split screen mode','line_number':816,'multiline':False]
['text':' DECLRMM - left/right margin mode','line_number':817,'multiline':False]
['text':' Setting DECVSSM must clear doublewidth/doubleheight state of every line','line_number':822,'multiline':False]
['text':' Some temporaries for later code','line_number':971,'multiline':False]
['text':' longer than 1 char','line_number':978,'multiline':False]
['text':' longer than 1 char','line_number':992,'multiline':False]
['text':' ICH - ECMA-48 8.3.64','line_number':1017,'multiline':False]
['text':' CUU - ECMA-48 8.3.22','line_number':1035,'multiline':False]
['text':' CUD - ECMA-48 8.3.19','line_number':1041,'multiline':False]
['text':' CUF - ECMA-48 8.3.20','line_number':1047,'multiline':False]
['text':' CUB - ECMA-48 8.3.18','line_number':1053,'multiline':False]
['text':' CNL - ECMA-48 8.3.12','line_number':1059,'multiline':False]
['text':' CPL - ECMA-48 8.3.13','line_number':1066,'multiline':False]
['text':' CHA - ECMA-48 8.3.9','line_number':1073,'multiline':False]
['text':' CUP - ECMA-48 8.3.21','line_number':1079,'multiline':False]
['text':' zero-based','line_number':1082,'multiline':False]
['text':' Fix a sequence that is not correct right now','line_number':1084,'multiline':False]
['text':' double cell?','line_number':1095,'multiline':False]
['text':' is ambiguous?','line_number':1096,'multiline':False]
['text':' &ambiwidth','line_number':1097,'multiline':False]
['text':' not ambiguous','line_number':1098,'multiline':False]
['text':' CHT - ECMA-48 8.3.10','line_number':1112,'multiline':False]
['text':' ED - ECMA-48 8.3.39','line_number':1117,'multiline':False]
['text':' DECSED - Selective Erase in Display','line_number':1118,'multiline':False]
['text':' EL - ECMA-48 8.3.41','line_number':1166,'multiline':False]
['text':' DECSEL - Selective Erase in Line','line_number':1167,'multiline':False]
['text':' IL - ECMA-48 8.3.67','line_number':1189,'multiline':False]
['text':' DL - ECMA-48 8.3.32','line_number':1204,'multiline':False]
['text':' DCH - ECMA-48 8.3.26','line_number':1219,'multiline':False]
['text':' SU - ECMA-48 8.3.147','line_number':1237,'multiline':False]
['text':' SD - ECMA-48 8.3.113','line_number':1249,'multiline':False]
['text':' ECH - ECMA-48 8.3.38','line_number':1261,'multiline':False]
['text':' CBT - ECMA-48 8.3.7','line_number':1273,'multiline':False]
['text':' HPA - ECMA-48 8.3.57','line_number':1278,'multiline':False]
['text':' HPR - ECMA-48 8.3.59','line_number':1284,'multiline':False]
['text':' REP - ECMA-48 8.3.103','line_number':1290,'multiline':False]
['text':' DA - ECMA-48 8.3.24','line_number':1308,'multiline':False]
['text':' DEC VT100 response','line_number':1311,'multiline':False]
['text':' DEC secondary Device Attributes','line_number':1315,'multiline':False]
['text':' This returns xterm version number 100.','line_number':1316,'multiline':False]
['text':' VPA - ECMA-48 8.3.158','line_number':1320,'multiline':False]
['text':' VPR - ECMA-48 8.3.160','line_number':1328,'multiline':False]
['text':' HVP - ECMA-48 8.3.63','line_number':1334,'multiline':False]
['text':' zero-based','line_number':1337,'multiline':False]
['text':' TBC - ECMA-48 8.3.154','line_number':1347,'multiline':False]
['text':' TODO: 1, 2 and 4 aren't meaningful yet without line tab stops ','line_number':1363,'multiline':True]
['text':' SM - ECMA-48 8.3.125','line_number':1369,'multiline':False]
['text':' DEC private mode set','line_number':1374,'multiline':False]
['text':' HPB - ECMA-48 8.3.58','line_number':1381,'multiline':False]
['text':' VPB - ECMA-48 8.3.159','line_number':1387,'multiline':False]
['text':' RM - ECMA-48 8.3.106','line_number':1393,'multiline':False]
['text':' DEC private mode reset','line_number':1398,'multiline':False]
['text':' SGR - ECMA-48 8.3.117','line_number':1405,'multiline':False]
['text':' DECSGR and XTQMODKEYS','line_number':1409,'multiline':False]
['text':' CSI ? 4 m  XTQMODKEYS: request modifyOtherKeys level','line_number':1410,'multiline':False]
['text':' No actual DEC terminal recognised these, but some printers did. These
     * are alternative ways to request subscript/superscript/off
     ','line_number':1418,'multiline':True]
['text':' Superscript on','line_number':1424,'multiline':False]
['text':' Subscript on','line_number':1428,'multiline':False]
['text':' Super+subscript off','line_number':1432,'multiline':False]
['text':' CSI > 4 ; Pv m   xterm resource modifyOtherKeys','line_number':1440,'multiline':False]
['text':' can't have both modify_other_keys and kitty_keyboard','line_number':1443,'multiline':False]
['text':' CSI > 1 u  enable kitty keyboard protocol','line_number':1450,'multiline':False]
['text':' can't have both modify_other_keys and kitty_keyboard','line_number':1453,'multiline':False]
['text':' CSI < u  disable kitty keyboard protocol','line_number':1460,'multiline':False]
['text':' CSI ? u  request kitty keyboard protocol state','line_number':1465,'multiline':False]
['text':' TODO: this only uses the values zero and one.  The protocol specifies','line_number':1467,'multiline':False]
['text':' more values, the progressive enhancement flags.','line_number':1468,'multiline':False]
['text':' DSR - ECMA-48 8.3.35','line_number':1473,'multiline':False]
['text':' DECDSR','line_number':1474,'multiline':False]
['text':' ignore - these are replies','line_number':1482,'multiline':False]
['text':' CPR - cursor position report','line_number':1487,'multiline':False]
['text':' DECSTR - DEC soft terminal reset','line_number':1495,'multiline':False]
['text':' XTVERSION - xterm query version string','line_number':1503,'multiline':False]
['text':' DECSCUSR - DEC set cursor shape','line_number':1507,'multiline':False]
['text':' DECSCA - DEC select character protection attribute','line_number':1539,'multiline':False]
['text':' DECSTBM - DEC custom','line_number':1553,'multiline':False]
['text':' Invalid','line_number':1565,'multiline':False]
['text':' Setting the scrolling region restores the cursor to the home position','line_number':1570,'multiline':False]
['text':' DECSLRM - DEC custom','line_number':1580,'multiline':False]
['text':' Always allow setting these margins, just they won't take effect without DECVSSM','line_number':1581,'multiline':False]
['text':' Invalid','line_number':1594,'multiline':False]
['text':' Setting the scrolling region restores the cursor to the home position','line_number':1599,'multiline':False]
['text':' CSI 8 ; rows ; cols t  set size','line_number':1611,'multiline':False]
['text':' DECIC','line_number':1621,'multiline':False]
['text':' DECDC','line_number':1636,'multiline':False]
['text':' Parse selection parameter ','line_number':1742,'multiline':True]
['text':' Clear selection if we're already finished but didn't do anything ','line_number':1779,'multiline':True]
['text':' Current decoding value ','line_number':1814,'multiline':True]
['text':' Number of sextets consumed ','line_number':1815,'multiline':True]
['text':' could be up to 18 bits of state in here ','line_number':1819,'multiline':True]
['text':' str','line_number':1876,'multiline':False]
['text':' len','line_number':1877,'multiline':False]
['text':' initial','line_number':1878,'multiline':False]
['text':' final','line_number':1879,'multiline':False]
['text':' request foreground color: <Esc>]10;?<0x07>','line_number':1916,'multiline':False]
['text':' request background color: <Esc>]11;?<0x07>','line_number':1926,'multiline':False]
['text':' Query SGR','line_number':1973,'multiline':False]
['text':' DCS 1$r ...','line_number':1979,'multiline':False]
['text':' ... m ST','line_number':1994,'multiline':False]
['text':' Query DECSTBM','line_number':2003,'multiline':False]
['text':' Query DECSLRM','line_number':2009,'multiline':False]
['text':' Query DECSCUSR','line_number':2015,'multiline':False]
['text':' VTERM_PROP_CURSORSHAPE_BAR_LEFT ','line_number':2020,'multiline':True]
['text':' Query DECSCA','line_number':2030,'multiline':False]
['text':' No DEBUG_LOG because all APCs are unhandled ','line_number':2063,'multiline':True]
['text':' No DEBUG_LOG because all PMs are unhandled ','line_number':2075,'multiline':True]
['text':' No DEBUG_LOG because all SOSs are unhandled ','line_number':2087,'multiline':True]
['text':' TODO: This can all be done much more efficiently bytewise ','line_number':2101,'multiline':True]
['text':' text','line_number':2191,'multiline':False]
['text':' control','line_number':2192,'multiline':False]
['text':' escape','line_number':2193,'multiline':False]
['text':' csi','line_number':2194,'multiline':False]
['text':' osc','line_number':2195,'multiline':False]
['text':' dcs','line_number':2196,'multiline':False]
['text':' apc','line_number':2197,'multiline':False]
['text':' pm','line_number':2198,'multiline':False]
['text':' sos','line_number':2199,'multiline':False]
['text':' resize','line_number':2200,'multiline':False]
['text':'
 * Return the existing state or create a new one.
 * Returns NULL when out of memory.
 ','line_number':2203,'multiline':True]
['text':' Initialise the props','line_number':2274,'multiline':False]
['text':' Only store the new value of the property if usercode said it was happy.
   * This is especially important for altscreen switching ','line_number':2343,'multiline':True]
['text':' we don't store these, just transparently pass through','line_number':2353,'multiline':False]
['text':' TODO: support sending more than one mask bit ','line_number':2431,'multiline':True]
['text':' n is either 1 or 2 now ','line_number':2492,'multiline':True]
