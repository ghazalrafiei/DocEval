['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]
['text':'#region --- Define, capture, and override some globals','line_number':21,'multiline':False]
['text':' In principle, we could convert any URI, but we have concerns','line_number':47,'multiline':False]
['text':' that parsing https URIs might end up decoding escape characters','line_number':48,'multiline':False]
['text':' and result in an unintended transformation','line_number':49,'multiline':False]
['text':' Request object - massage not supported','line_number':57,'multiline':False]
['text':' const nativeAddEventListener = addEventListener.bind(self);','line_number':80,'multiline':False]
['text':' make sure new Worker(...) always uses blob: (to maintain current origin)','line_number':94,'multiline':False]
['text':' Supporting transformation of vscode-remote URIs requires an async call to the main thread,','line_number':100,'multiline':False]
['text':' but we cannot do this call from within the embedded Worker, and the only way out would be','line_number':101,'multiline':False]
['text':' to use templating instead of a function in the web api (`resourceUriProvider`)','line_number':102,'multiline':False]
['text':' IMPORTANT: bootstrapFn is stringified and injected as worker blob-url. Because of that it CANNOT','line_number':106,'multiline':False]
['text':' have dependencies on other functions or variables. Only constant values are supported. Due to','line_number':107,'multiline':False]
['text':' that logic of FileAccess.asBrowserUri had to be copied, see `asWorkerBrowserUrl` (below).','line_number':108,'multiline':False]
['text':'i, 'vscode-file://vscode-app');','line_number':112,'multiline':False]
['text':' Request object - massage not supported','line_number':120,'multiline':False]
['text':'#endregion ---','line_number':154,'multiline':False]
['text':' protocol','line_number':167,'multiline':False]
['text':' send over port2, keep port1','line_number':176,'multiline':False]
['text':' handle terminate-message right here','line_number':188,'multiline':False]
['text':' emit non-terminate messages to the outside','line_number':194,'multiline':False]
['text':' silently ignore foreign messages','line_number':244,'multiline':False]
