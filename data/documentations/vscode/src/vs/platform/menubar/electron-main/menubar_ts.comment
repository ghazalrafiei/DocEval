['text':'---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------','line_number':1,'multiline':True]
['text':' Array to keep menus around so that GC doesn't cause crash as explained in #55347','line_number':57,'multiline':False]
['text':' TODO@sbatten Remove this when fixed upstream by Electron','line_number':58,'multiline':False]
['text':' File Menu Items','line_number':119,'multiline':False]
['text':' this is one of the few supported actions when aux window has focus','line_number':121,'multiline':False]
['text':' Recent Menu Items','line_number':130,'multiline':False]
['text':' ask for confirmation ','line_number':131,'multiline':True]
['text':' Help Menu Items','line_number':133,'multiline':False]
['text':' Keep flag when app quits','line_number':171,'multiline':False]
['text':' Listen to some events from window service to update menu','line_number':174,'multiline':False]
['text':' Save off new menu and keybindings','line_number':205,'multiline':False]
['text':' buffer multiple attempts to update the menu','line_number':213,'multiline':False]
['text':' Due to limitations in Electron, it is not possible to update menu items dynamically. The suggested','line_number':218,'multiline':False]
['text':' workaround from Electron is to set the application menu again.','line_number':219,'multiline':False]
['text':' See also https://github.com/electron/electron/issues/846','line_number':220,'multiline':False]
['text':'','line_number':221,'multiline':False]
['text':' Run delayed to prevent updating menu while it is open','line_number':222,'multiline':False]
['text':' delay this because there is an issue with updating a menu when it is open ','line_number':228,'multiline':True]
['text':' Update menu if window count goes from N > 0 or 0 > N to update menu item enablement','line_number':237,'multiline':False]
['text':' Store old menu in our array to avoid GC to collect the menu and crash. See #55347','line_number':255,'multiline':False]
['text':' TODO@sbatten Remove this when fixed upstream by Electron','line_number':256,'multiline':False]
['text':' If we don't have a menu yet, set it to null to avoid the electron menu.','line_number':262,'multiline':False]
['text':' This should only happen on the first launch ever','line_number':263,'multiline':False]
['text':' Menus','line_number':269,'multiline':False]
['text':' Mac: Application','line_number':272,'multiline':False]
['text':' Mac: Dock','line_number':281,'multiline':False]
['text':' File','line_number':291,'multiline':False]
['text':' Edit','line_number':299,'multiline':False]
['text':' Selection','line_number':307,'multiline':False]
['text':' View','line_number':315,'multiline':False]
['text':' Go','line_number':323,'multiline':False]
['text':' Debug','line_number':331,'multiline':False]
['text':' Terminal','line_number':339,'multiline':False]
['text':' Mac: Window','line_number':347,'multiline':False]
['text':' Help','line_number':359,'multiline':False]
['text':' Dispose of older menus after some time','line_number':373,'multiline':False]
['text':' Setting the application menu sets it to all opened windows,','line_number':379,'multiline':False]
['text':' but we currently do not support a menu in auxiliary windows,','line_number':380,'multiline':False]
['text':' so we need to unset it there.','line_number':381,'multiline':False]
['text':' allow to quit when no more windows are open','line_number':412,'multiline':False]
['text':' allow to quit when window has focus (fix for https://github.com/microsoft/vscode/issues/39191)','line_number':413,'multiline':False]
['text':' allow to quit when window has no focus but is minimized (https://github.com/microsoft/vscode/issues/63000)','line_number':414,'multiline':False]
['text':' never confirm when no windows are opened','line_number':450,'multiline':False]
['text':' We need to draw an empty menu to override the electron default','line_number':471,'multiline':False]
['text':' In the fallback scenario, we are either disabled or using a fallback handler','line_number':513,'multiline':False]
['text':' support alternative action if we got multiple action Ids and the option key was pressed while invoking','line_number':674,'multiline':False]
['text':' Add role for special case menu items','line_number':706,'multiline':False]
['text':' Add context aware click handlers for special case menu items','line_number':715,'multiline':False]
['text':' No Active Window','line_number':740,'multiline':False]
['text':' DevTools focused','line_number':746,'multiline':False]
['text':' Finally execute command in Window','line_number':752,'multiline':False]
['text':' We want to support auxililary windows that may have focus by','line_number':759,'multiline':False]
['text':' returning their parent windows as target to support running','line_number':760,'multiline':False]
['text':' actions via the main window.','line_number':761,'multiline':False]
['text':' We make sure to not run actions when the window has no focus, this helps','line_number':770,'multiline':False]
['text':' for https://github.com/microsoft/vscode/issues/25907 and specifically for','line_number':771,'multiline':False]
['text':' https://github.com/microsoft/vscode/issues/11928','line_number':772,'multiline':False]
['text':' Still allow to run when the last active window is minimized though for','line_number':773,'multiline':False]
['text':' https://github.com/microsoft/vscode/issues/63000','line_number':774,'multiline':False]
['text':' prevent this action from running twice on macOS (https://github.com/microsoft/vscode/issues/62719)','line_number':788,'multiline':False]
['text':' we already register a keybinding in bootstrap-window.js for opening developer tools in case something','line_number':789,'multiline':False]
['text':' goes wrong and that keybinding is only removed when the application has loaded (= window ready).','line_number':790,'multiline':False]
['text':' Apply binding if there is one','line_number':814,'multiline':False]
['text':' if the binding is native, we can just apply it','line_number':817,'multiline':False]
['text':' the keybinding is not native so we cannot show it as part of the accelerator of','line_number':823,'multiline':False]
['text':' the menu item. we fallback to a different strategy so that we always display it','line_number':824,'multiline':False]
['text':' Unset bindings if there is none','line_number':835,'multiline':False]
