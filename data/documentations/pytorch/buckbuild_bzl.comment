['text':' NOTE: This file is shared by internal and OSS BUCK build.','line_number':1,'multiline':False]
['text':' These load paths point to different files in internal and OSS environment','line_number':2,'multiline':False]
['text':' @lint-ignore BUCKRESTRICTEDSYNTAX','line_number':56,'multiline':False]
['text':' Android Prod builds','line_number':76,'multiline':False]
['text':' iOS Prod builds','line_number':79,'multiline':False]
['text':' always strip in OSS CI to expose potential issues','line_number':98,'multiline':False]
['text':' @lint-ignore BUCKRESTRICTEDSYNTAX','line_number':142,'multiline':False]
['text':' True for OSS BUCK build, and False for internal BUCK build','line_number':143,'multiline':False]
['text':' for targets in caffe2 root path','line_number':147,'multiline':False]
['text':' for targets in subfolders','line_number':150,'multiline':False]
['text':' a dictionary maps third party library name to fbsource and oss target','line_number':155,'multiline':False]
['text':' read_config is not allowed outside of function in Starlark','line_number':239,'multiline':False]
['text':' read_config is not allowed outside of function in Starlark','line_number':269,'multiline':False]
['text':' This needs to be kept in sync with https://github.com/pytorch/pytorch/blob/release/1.9/torchgen/gen.py#L892','line_number':281,'multiline':False]
['text':' NB: RegisterMeta counts as an optionally enabled backend,','line_number':342,'multiline':False]
['text':' and is intentionally omitted from here','line_number':343,'multiline':False]
['text':' This is tiresome.  A better strategy would be to unconditionally','line_number':382,'multiline':False]
['text':' generate these files, and then only actually COMPILE them depended','line_number':383,'multiline':False]
['text':' on the generated set.  C'est la vie...','line_number':384,'multiline':False]
['text':' Cannot unconditionally include this, because in the Edge selective','line_number':389,'multiline':False]
['text':' build CUDA is not enabled and thus the ufunc codegen for CUDA gets','line_number':390,'multiline':False]
['text':' skipped','line_number':391,'multiline':False]
['text':' Ideally, we would run one copy command for a single source directory along','line_number':500,'multiline':False]
['text':' with all its child directories, but it's somewhat hard to know if a directory','line_number':501,'multiline':False]
['text':' is a child of another just bu looking at the metadata (directory relative','line_number':502,'multiline':False]
['text':' path) that we currently have since 1 directory could look like a parent of','line_number':503,'multiline':False]
['text':' another and yet come from a different filegroup() rule.','line_number':504,'multiline':False]
['text':'','line_number':505,'multiline':False]
['text':' Adding *.cpp is a workaround to prevent cp from thrown an error when it','line_number':510,'multiline':False]
['text':' encounters a directory (since -r was not specified). If files with an','line_number':511,'multiline':False]
['text':' extension other than .cpp need to be copied, then the command below','line_number':512,'multiline':False]
['text':' will not work and will need to be updated.','line_number':513,'multiline':False]
['text':'','line_number':514,'multiline':False]
['text':' NB: CUDA is skipped here because this is selective build and CUDA is not','line_number':527,'multiline':False]
['text':' supported for selective build','line_number':528,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':567,'multiline':False]
['text':' Aten files','line_number':579,'multiline':False]
['text':' unboxing_wrappers files','line_number':607,'multiline':False]
['text':' Template runtime files (prim ops, etc)','line_number':620,'multiline':False]
['text':' Files needed for metal','line_number':624,'multiline':False]
['text':' Mobile build only needs libtorch - skip python bindings for now, except','line_number':676,'multiline':False]
['text':' for ovrsource, which needs Python bindings.','line_number':677,'multiline':False]
['text':' Mobile build only needs libtorch - skip python bindings for now, except','line_number':686,'multiline':False]
['text':' for ovrsource, which needs Python bindings.','line_number':687,'multiline':False]
['text':' Copy all source files over to bring them into the per app build','line_number':703,'multiline':False]
['text':' Not every directory has a mm or cpp file so '2>/dev/null || :' are tricks to suppress the error messages and codes.','line_number':708,'multiline':False]
['text':' Robocopy has a default success code of 1 which buck treats as failure so the echo masks that problem','line_number':712,'multiline':False]
['text':' Metal custom ops currently have to be brought into selective build because they directly reference metal ops instead of','line_number':715,'multiline':False]
['text':' going through the dispatcher. There is some weird issues with the genrule and these files locations on windows though, so','line_number':716,'multiline':False]
['text':' for now we simply skip building them for windows where they very likely arent needed anyway.','line_number':717,'multiline':False]
['text':' Metal MaskRCNN custom op','line_number':718,'multiline':False]
['text':' Unet Metal Prepack Custom op','line_number':724,'multiline':False]
['text':' due to an obscure bug certain custom ops werent being copied correctly on windows. ARVR also sometimes builds android targets on windows,','line_number':733,'multiline':False]
['text':' so we just exclude those targets from being copied for those platforms (They end up uncompiled anyway).','line_number':734,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':770,'multiline':False]
['text':' This library has multiple sources with the same file name','line_number':779,'multiline':False]
['text':' and does not work with Buck filegroup used in bad practices.','line_number':780,'multiline':False]
['text':' Opt out of the bad practices check with the below label.','line_number':781,'multiline':False]
['text':' need absolute path here','line_number':786,'multiline':False]
['text':' these targets are shared by internal and OSS BUCK','line_number':796,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':802,'multiline':False]
['text':' @lint-ignore BUCKRESTRICTEDSYNTAX','line_number':805,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':812,'multiline':False]
['text':' NB: no glob here, there are generated targets in this list!','line_number':815,'multiline':False]
['text':' @lint-ignore BUCKRESTRICTEDSYNTAX','line_number':816,'multiline':False]
['text':' ATen Core','line_number':827,'multiline':False]
['text':' ATen Base','line_number':830,'multiline':False]
['text':' ATen Native','line_number':839,'multiline':False]
['text':' Remove the following after modifying codegen for mobile.','line_number':854,'multiline':False]
['text':' Add again due to namespace difference from aten_header.','line_number':893,'multiline':False]
['text':' Don't need on mobile.','line_number':899,'multiline':False]
['text':' Don't build python bindings on mobile.','line_number':958,'multiline':False]
['text':'"python_functions.h",','line_number':959,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':974,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':995,'multiline':False]
['text':' @lint-ignore BUCKRESTRICTEDSYNTAX','line_number':1001,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1016,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':1026,'multiline':False]
['text':' Base library shared by lite-interpreter and full-jit.','line_number':1154,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1160,'multiline':False]
['text':' torch_mobile_deserialize brings in sources neccessary to read a module','line_number':1191,'multiline':False]
['text':' which depends on mobile module definition','line_number':1192,'multiline':False]
['text':' link_whole is enable so that all symbols neccessary for mobile module are compiled','line_number':1193,'multiline':False]
['text':' instead of only symbols used while loading; this prevents symbol','line_number':1194,'multiline':False]
['text':' found definied in runtime','line_number':1195,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1196,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1228,'multiline':False]
['text':' included in aten_cpu "torch/csrc/jit/frontend/source_range.cpp",','line_number':1248,'multiline':False]
['text':' pickler.cpp doesn't seem to be needed.','line_number':1254,'multiline':False]
['text':' "torch/csrc/jit/serialization/pickler.cpp",','line_number':1255,'multiline':False]
['text':' included in core_sources_common "torch/csrc/jit/serialization/unpickler.cpp",','line_number':1256,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1261,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1283,'multiline':False]
['text':' torch_mobile_deserialize brings in sources neccessary to read a module','line_number':1317,'multiline':False]
['text':' which depends on mobile module definition','line_number':1318,'multiline':False]
['text':' link_whole is enable so that all symbols neccessary for mobile module are compiled','line_number':1319,'multiline':False]
['text':' instead of only symbols used while loading; this prevents symbol','line_number':1320,'multiline':False]
['text':' found definied in runtime','line_number':1321,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1322,'multiline':False]
['text':' torch_mobile_core brings in sources neccessary to read and run a module','line_number':1350,'multiline':False]
['text':' link_whole is enabled so that all symbols linked','line_number':1351,'multiline':False]
['text':' operators, registerations and other few symbols are need in runtime','line_number':1352,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1353,'multiline':False]
['text':' for torch/csrc/api/src/serialize/input-archive.cpp','line_number':1392,'multiline':False]
['text':' torch_mobile_train brings in sources neccessary to read and run a mobile','line_number':1467,'multiline':False]
['text':' and save and load mobile params along with autograd','line_number':1468,'multiline':False]
['text':' link_whole is enabled so that all symbols linked','line_number':1469,'multiline':False]
['text':' operators, registerations and autograd related symbols are need in runtime','line_number':1470,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1471,'multiline':False]
['text':' torch brings in all sources neccessary to read and run a mobile module/jit module','line_number':1492,'multiline':False]
['text':' link_whole is enabled so that all symbols linked','line_number':1493,'multiline':False]
['text':' operators, registerations and other few symbols are need in runtime','line_number':1494,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1495,'multiline':False]
['text':' This is to have autograd profiler available','line_number':1499,'multiline':False]
['text':' in xplat/caffe2:torch which some builds are using','line_number':1500,'multiline':False]
['text':' notable xplate/facegen:testsAndroid','line_number':1501,'multiline':False]
['text':' torch_mobile_train_import_data brings in sources neccessary to read a mobile module','line_number':1519,'multiline':False]
['text':' link_whole is enabled so that all symbols linked','line_number':1520,'multiline':False]
['text':' operators other few symbols are need in runtime','line_number':1521,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1522,'multiline':False]
['text':' These .cpp brought in through core_sources_common','line_number':1536,'multiline':False]
['text':' "torch/csrc/jit/mobile/compatibility/runtime_compatibility.cpp",','line_number':1537,'multiline':False]
['text':' "torch/csrc/jit/serialization/unpickler.cpp",','line_number':1538,'multiline':False]
['text':' torch_mobile_model_tracer brings in sources neccessary to read and run a jit module','line_number':1598,'multiline':False]
['text':' and trace the ops','line_number':1599,'multiline':False]
['text':' link_whole is enabled so that all symbols linked','line_number':1600,'multiline':False]
['text':' operators, registerations and other few symbols are need in runtime','line_number':1601,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1602,'multiline':False]
['text':'TODO(qihan) delete','line_number':1625,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1633,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1658,'multiline':False]
['text':' Need this otherwise USE_KINETO is undefed','line_number':1676,'multiline':False]
['text':' for mobile','line_number':1677,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1680,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1704,'multiline':False]
['text':' Users of this target will need to add third_party("flatbuffers-api") as a','line_number':1733,'multiline':False]
['text':' dep.','line_number':1734,'multiline':False]
['text':' Avoid leaking implementation details by only exposing this header to','line_number':1741,'multiline':False]
['text':' the internals of the loader/serializer layer.','line_number':1742,'multiline':False]
['text':' TODO (qihan) delete','line_number':1777,'multiline':False]
['text':' Need this otherwise USE_KINETO is undefed','line_number':1788,'multiline':False]
['text':' for mobile','line_number':1789,'multiline':False]
['text':' torch_mobile_deserialize brings in sources neccessary to read a module','line_number':1795,'multiline':False]
['text':' which depends on mobile module definition','line_number':1796,'multiline':False]
['text':' link_whole is enable so that all symbols neccessary for mobile module are compiled','line_number':1797,'multiline':False]
['text':' instead of only symbols used while loading; this prevents symbol','line_number':1798,'multiline':False]
['text':' found definied in runtime','line_number':1799,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1800,'multiline':False]
['text':' TODO(qihan) delete','line_number':1814,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1872,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':1899,'multiline':False]
['text':' aten_cpu and aten_native_cpu','line_number':1911,'multiline':False]
['text':' Generated','line_number':1914,'multiline':False]
['text':' Needed by ATen/native/EmbeddingBag.cpp','line_number':1923,'multiline':False]
['text':' @lint-ignore BUCKLINT','line_number':1932,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':2064,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':2128,'multiline':False]
['text':' @lint-ignore BUCKLINT link_whole','line_number':2189,'multiline':False]
