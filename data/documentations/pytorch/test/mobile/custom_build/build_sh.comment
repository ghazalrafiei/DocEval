['text':'!/bin/bash','line_number':1,'multiline':False]
['text':'##############################################################################','line_number':2,'multiline':False]
['text':' This script tests the flow to build libtorch locally with optimized binary','line_number':3,'multiline':False]
['text':' size for mobile devices and the flow to integrate it with a simple predictor','line_number':4,'multiline':False]
['text':' in c++.','line_number':5,'multiline':False]
['text':'','line_number':6,'multiline':False]
['text':' Supported custom build types:','line_number':7,'multiline':False]
['text':'','line_number':8,'multiline':False]
['text':' 1. `TEST_DEFAULT_BUILD=1 ./build.sh` - it is similar to the prebuilt libtorch','line_number':9,'multiline':False]
['text':' libraries released for Android and iOS (same CMake build options + host','line_number':10,'multiline':False]
['text':' toolchain), which doesn't contain autograd function nor backward ops thus is','line_number':11,'multiline':False]
['text':' smaller than full LibTorch.','line_number':12,'multiline':False]
['text':'','line_number':13,'multiline':False]
['text':' 2. `TEST_CUSTOM_BUILD_STATIC=1 ./build.sh` - optimizes libtorch size by only','line_number':14,'multiline':False]
['text':' including ops used by a specific model. It relies on the static dispatch +','line_number':15,'multiline':False]
['text':' linker to prune code.','line_number':16,'multiline':False]
['text':'','line_number':17,'multiline':False]
['text':'##############################################################################','line_number':18,'multiline':False]
['text':' Here it generates registration code for used ROOT ops only, whose unboxing','line_number':48,'multiline':False]
['text':' kernels are still needed by the JIT runtime. The intermediate ops will be','line_number':49,'multiline':False]
['text':' automatically kepted by the linker as they are statically referenced by the','line_number':50,'multiline':False]
['text':' static dispatch code, for which we can bypass the registration.','line_number':51,'multiline':False]
['text':' We don't set '-DSTATIC_DISPATCH_BACKEND=CPU' explicitly to test automatic','line_number':52,'multiline':False]
['text':' fallback to static dispatch.','line_number':53,'multiline':False]
