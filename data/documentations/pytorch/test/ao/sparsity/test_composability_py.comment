['text':' Owner(s): ["module: unknown"]','line_number':1,'multiline':False]
['text':' 0','line_number':26,'multiline':False]
['text':' 2','line_number':28,'multiline':False]
['text':' 5','line_number':31,'multiline':False]
['text':' This series of tests are to check the composability goals for sparsity and quantization. Namely','line_number':61,'multiline':False]
['text':' that performing quantization and sparsity model manipulations in various orderings','line_number':62,'multiline':False]
['text':' does not cause problems','line_number':63,'multiline':False]
['text':' This test checks whether performing quantization prepare before sparse prepare','line_number':65,'multiline':False]
['text':' causes any issues and verifies that the correct observers are inserted and that','line_number':66,'multiline':False]
['text':' the quantized model works as expected','line_number':67,'multiline':False]
['text':' check that correct modules had parametrizations added','line_number':78,'multiline':False]
['text':' check that correct observers were inserted','line_number':81,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':88,'multiline':False]
['text':' This test checks whether performing sparsity prepare before quantization prepare','line_number':92,'multiline':False]
['text':' causes any issues. In particular, previous quantization flow was unable to match','line_number':93,'multiline':False]
['text':' the post sparse prepare module names (adding parametrizations changes the module class names)','line_number':94,'multiline':False]
['text':' which would result in those parametrized modules not being quantized. This test verifies that','line_number':95,'multiline':False]
['text':' the fix for this was successful.','line_number':96,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':107,'multiline':False]
['text':' that none were lost during prepare','line_number':108,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':112,'multiline':False]
['text':' occurred successfully','line_number':113,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':120,'multiline':False]
['text':' if the sparsified modules have not undergone the final squash mask operation, its possible','line_number':124,'multiline':False]
['text':' that the problem outlined in test_s_prep_before_q_prep would occur. This test verifies','line_number':125,'multiline':False]
['text':' both that the fix to the convert flow avoids this issue and that the resulting quantized','line_number':126,'multiline':False]
['text':' module uses the sparse version of the weight value.','line_number':127,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':138,'multiline':False]
['text':' that none were lost during prepare','line_number':139,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':143,'multiline':False]
['text':' occurred successfully','line_number':144,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':151,'multiline':False]
['text':' check that module was actually sparsified','line_number':155,'multiline':False]
['text':' This tests whether performing sparse prepare before fusion causes any issues. The','line_number':163,'multiline':False]
['text':' worry was that the link created between the sparsifier and the modules that need to','line_number':164,'multiline':False]
['text':' be sparsified would be broken.','line_number':165,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':177,'multiline':False]
['text':' that none were lost during prepare or fusion','line_number':178,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':182,'multiline':False]
['text':' occurred successfully','line_number':183,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':189,'multiline':False]
['text':' This tests whether performing fusion before sparse prepare causes and issues. The','line_number':193,'multiline':False]
['text':' main worry was that the links to the modules in the sparse config would be broken by fusion.','line_number':194,'multiline':False]
['text':' its absolutely broken by fusion but will still work if you put the correct fqn in','line_number':203,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':218,'multiline':False]
['text':' that none were lost during prepare','line_number':219,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':223,'multiline':False]
['text':' occurred successfully','line_number':224,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':231,'multiline':False]
['text':' check that module was actually sparsified','line_number':235,'multiline':False]
['text':' This tests whether performing sparse prepare before qat prepare causes issues.','line_number':243,'multiline':False]
['text':' The primary worries were that qat_prep wouldn't recognize the parametrized','line_number':244,'multiline':False]
['text':' modules and that the convert step for qat would remove the parametrizations','line_number':245,'multiline':False]
['text':' from the modules.','line_number':246,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':260,'multiline':False]
['text':' occurred successfully','line_number':261,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':267,'multiline':False]
['text':' check that module was actually sparsified','line_number':271,'multiline':False]
['text':' This tests whether performing qat prepare before sparse prepare causes issues.','line_number':275,'multiline':False]
['text':' need to setup sparse_config on new modules','line_number':282,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':294,'multiline':False]
['text':' that none were lost during qat prepare','line_number':295,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':299,'multiline':False]
['text':' occurred successfully','line_number':300,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':308,'multiline':False]
['text':' check that module was actually sparsified','line_number':312,'multiline':False]
['text':' look for an observer whose arg is the target module','line_number':318,'multiline':False]
['text':' its absolutely broken by auto fusion in fx','line_number':350,'multiline':False]
['text':' but will still work if you put the correct fqn in','line_number':351,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':363,'multiline':False]
['text':' that none were lost during prepare','line_number':364,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':368,'multiline':False]
['text':' occurred successfully','line_number':369,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':376,'multiline':False]
['text':' check that module was actually sparsified','line_number':380,'multiline':False]
['text':' its absolutely broken by auto fusion in fx','line_number':408,'multiline':False]
['text':' but will still work if you put the correct fqn in','line_number':409,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':421,'multiline':False]
['text':' that none were lost during prepare','line_number':422,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':426,'multiline':False]
['text':' occurred successfully','line_number':427,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':434,'multiline':False]
['text':' check that module was actually sparsified','line_number':439,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':467,'multiline':False]
['text':' that none were lost during prepare','line_number':468,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':472,'multiline':False]
['text':' occurred successfully','line_number':473,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':480,'multiline':False]
['text':' check that module was actually sparsified','line_number':484,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':512,'multiline':False]
['text':' that none were lost during prepare','line_number':513,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':518,'multiline':False]
['text':' occurred successfully','line_number':519,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':526,'multiline':False]
['text':' check that module was actually sparsified','line_number':530,'multiline':False]
['text':' check that correct modules had parametrizations added and','line_number':558,'multiline':False]
['text':' that none were lost during prepare','line_number':559,'multiline':False]
['text':' check that correct observers were inserted and that matching','line_number':563,'multiline':False]
['text':' occurred successfully','line_number':564,'multiline':False]
['text':' check that final module is the expected quantized module and that the model runs','line_number':571,'multiline':False]
['text':' check that module was actually sparsified','line_number':576,'multiline':False]
