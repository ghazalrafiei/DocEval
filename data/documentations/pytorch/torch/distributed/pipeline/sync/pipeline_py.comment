['text':' Copyright 2019 Kakao Brain','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' Copyright (c) Facebook, Inc. and its affiliates. All rights reserved.','line_number':3,'multiline':False]
['text':'','line_number':4,'multiline':False]
['text':' This source code is licensed under the BSD license found in the','line_number':5,'multiline':False]
['text':' LICENSE file in the root directory of this source tree.','line_number':6,'multiline':False]
['text':' Queue is generic only in stubs.','line_number':33,'multiline':False]
['text':' https://mypy.readthedocs.io/en/latest/common_issues.html#using-classes-that-are-generic-in-stubs-but-not-at-runtime','line_number':34,'multiline':False]
['text':' Gradients are only supported for float Tensors.','line_number':53,'multiline':False]
['text':' Gradients are only supported for float Tensors.','line_number':59,'multiline':False]
['text':' m: number of micro-batches','line_number':65,'multiline':False]
['text':' n: number of partitions','line_number':66,'multiline':False]
['text':' i: index of micro-batch','line_number':67,'multiline':False]
['text':' j: index of partition','line_number':68,'multiline':False]
['text':' k: clock number','line_number':69,'multiline':False]
['text':'','line_number':70,'multiline':False]
['text':' k (i,j) (i,j) (i,j)','line_number':71,'multiline':False]
['text':' - ----- ----- -----','line_number':72,'multiline':False]
['text':' 0 (0,0)','line_number':73,'multiline':False]
['text':' 1 (1,0) (0,1)','line_number':74,'multiline':False]
['text':' 2 (2,0) (1,1) (0,2)','line_number':75,'multiline':False]
['text':' 3       (2,1) (1,2)','line_number':76,'multiline':False]
['text':' 4             (2,2)','line_number':77,'multiline':False]
['text':' Ensure that batches[i-1] is executed after batches[i] in','line_number':127,'multiline':False]
['text':' backpropagation by an explicit dependency.','line_number':128,'multiline':False]
['text':' Disable checkpointing if in eval mode.','line_number':151,'multiline':False]
['text':' With checkpointing, the autograd graph looks like this diagram:','line_number':159,'multiline':False]
['text':' ┌─────┸──────┐','line_number':160,'multiline':False]
['text':' │    Copy    │','line_number':161,'multiline':False]
['text':' └─────┰──────┘   (fence)','line_number':162,'multiline':False]
['text':' ─ ─ ─ ╂ ─ ─ ─ ─ ─ ─ ─ ─ ─','line_number':163,'multiline':False]
['text':'       ┃          (compute)','line_number':164,'multiline':False]
['text':' ┌─────┸──────┐','line_number':165,'multiline':False]
['text':' │    Wait    │ [1] Synchronize the current stream with the copy stream.','line_number':166,'multiline':False]
['text':' └─────┰──────┘','line_number':167,'multiline':False]
['text':' ┌─────┸──────┐','line_number':168,'multiline':False]
['text':' │ Checkpoint │ [2] Compute a partition within checkpointing.','line_number':169,'multiline':False]
['text':' └─────┰──────┘','line_number':170,'multiline':False]
['text':' ┌─────┸──────┐','line_number':171,'multiline':False]
['text':' │    Wait    │ [3] Synchronize the copy stream with the current stream.','line_number':172,'multiline':False]
['text':' └─────┰──────┘','line_number':173,'multiline':False]
['text':'       ┠ ─ ─ ─ ┐','line_number':174,'multiline':False]
['text':'       ┃ ┌─────┴─────┐','line_number':175,'multiline':False]
['text':'       ┃ │ Recompute │ [4] Schedule the recomputation at backpropagation.','line_number':176,'multiline':False]
['text':'       ┃ └─────┬─────┘','line_number':177,'multiline':False]
['text':'       ┠ ─ ─ ─ ┘','line_number':178,'multiline':False]
['text':'       ┃','line_number':179,'multiline':False]
['text':' ─ ─ ─ ╂ ─ ─ ─ ─ ─ ─ ─ ─ ─','line_number':180,'multiline':False]
['text':' ┌─────┸──────┐   (fence)','line_number':181,'multiline':False]
['text':' │    Copy    │','line_number':182,'multiline':False]
['text':' └─────┰──────┘','line_number':183,'multiline':False]
['text':' Synchronize with the copied input. ([1] in the diagram)','line_number':188,'multiline':False]
['text':' Determine whether checkpointing or not.','line_number':192,'multiline':False]
['text':' type: ignore[arg-type]','line_number':206,'multiline':False]
['text':' Compute tasks in parallel. ([2] in the diagram)','line_number':225,'multiline':False]
['text':' Hold the first exception.','line_number':231,'multiline':False]
['text':' The copy stream synchronizes to copy the output. ([3] in the','line_number':240,'multiline':False]
['text':' diagram)','line_number':241,'multiline':False]
['text':' Finalize tasks. If checkpointing is enabled, here the','line_number':245,'multiline':False]
['text':' recomputation is scheduled at backpropagation. ([4] in the','line_number':246,'multiline':False]
['text':' diagram)','line_number':247,'multiline':False]
['text':' Fail at the first exception.','line_number':253,'multiline':False]
