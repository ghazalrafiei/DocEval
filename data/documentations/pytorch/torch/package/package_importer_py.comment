['text':' This is a list of imports that are implicitly allowed even if they haven't','line_number':34,'multiline':False]
['text':' been marked as extern. This is to work around the fact that Torch implicitly','line_number':35,'multiline':False]
['text':' depends on numpy and package can't track it.','line_number':36,'multiline':False]
['text':' https://github.com/pytorch/MultiPy/issues/46','line_number':37,'multiline':False]
['text':' FX GraphModule might depend on builtins module and users usually','line_number':42,'multiline':False]
['text':' don't extern builtins. Here we import it here by default.','line_number':43,'multiline':False]
['text':' Allow packaged modules to reference their PackageImporter','line_number':127,'multiline':False]
['text':' type: ignore[assignment]','line_number':128,'multiline':False]
['text':' used for reduce deserializaiton','line_number':132,'multiline':False]
['text':' used for torch.serialization._load','line_number':136,'multiline':False]
['text':' We should always be able to support importing modules from this package.','line_number':151,'multiline':False]
['text':' This is to support something like:','line_number':152,'multiline':False]
['text':'   obj = importer.load_pickle(...)','line_number':153,'multiline':False]
['text':'   importer.import_module(obj.__module__)  <- this string will be mangled','line_number':154,'multiline':False]
['text':'','line_number':155,'multiline':False]
['text':' Note that _mangler.demangle will not demangle any module names','line_number':156,'multiline':False]
['text':' produced by a different PackageImporter instance.','line_number':157,'multiline':False]
['text':' TODO: Once we decide to break serialization FC, we can','line_number':247,'multiline':False]
['text':' stop wrapping with TypedStorage','line_number':248,'multiline':False]
['text':' to fix BC breaking change, objects on this load path','line_number':253,'multiline':False]
['text':' will be loaded multiple times erroneously','line_number':254,'multiline':False]
['text':' Load the data (which may in turn use `persistent_load` to load tensors)','line_number':265,'multiline':False]
['text':' type: ignore[assignment]','line_number':268,'multiline':False]
['text':' to let reduce_package access deserializaiton context','line_number':272,'multiline':False]
['text':' TODO from zdevito:','line_number':284,'multiline':False]
['text':'   This stateful weird function will need to be removed in our efforts','line_number':285,'multiline':False]
['text':'   to unify the format. It has a race condition if multiple python','line_number':286,'multiline':False]
['text':'   threads try to read independent files','line_number':287,'multiline':False]
['text':' type: ignore[arg-type]','line_number':349,'multiline':False]
['text':' Add this module to our private global registry. It should be unique due to mangling.','line_number':364,'multiline':False]
['text':' pre-emptively install on the parent to prevent IMPORT_FROM from trying to','line_number':368,'multiline':False]
['text':' access sys.modules','line_number':369,'multiline':False]
['text':' pre-emptively install the source in `linecache` so that stack traces,','line_number':374,'multiline':False]
['text':' `inspect`, etc. work.','line_number':375,'multiline':False]
['text':' type: ignore[attr-defined]','line_number':376,'multiline':False]
['text':' type: ignore[attr-defined]','line_number':400,'multiline':False]
['text':' note: named `get_source` so that linecache can find the source','line_number':407,'multiline':False]
['text':' when this is the __loader__ of a module.','line_number':408,'multiline':False]
['text':' linecache calls `get_source` with the `module.__name__` as the argument, so we must demangle it here.','line_number':410,'multiline':False]
['text':' note: named `get_resource_reader` so that importlib.resources can find it.','line_number':414,'multiline':False]
['text':' This is otherwise considered an internal method.','line_number':415,'multiline':False]
['text':' Set the module as an attribute on its parent.','line_number':428,'multiline':False]
['text':' note: copied from cpython's import code, with call to create module replaced with _make_module','line_number':433,'multiline':False]
['text':' Crazy side-effects!','line_number':441,'multiline':False]
['text':' type: ignore[attr-defined]','line_number':447,'multiline':False]
['text':' when we attempt to import a package only containing pybinded files,','line_number':450,'multiline':False]
['text':' the parent directory isn't always a package as defined by python,','line_number':451,'multiline':False]
['text':' so we search if the package is actually there or not before calling the error.','line_number':452,'multiline':False]
['text':' note: copied from cpython's import code','line_number':483,'multiline':False]
['text':' To handle https://github.com/pytorch/pytorch/issues/57490, where std's','line_number':493,'multiline':False]
['text':' creation of fake submodules via the hacking of sys.modules is not import','line_number':494,'multiline':False]
['text':' friendly','line_number':495,'multiline':False]
['text':' note: copied from cpython's import code','line_number':519,'multiline':False]
['text':' The hell that is fromlist ...','line_number':529,'multiline':False]
['text':' If a package was imported, try to import stuff from fromlist.','line_number':530,'multiline':False]
['text':' Backwards-compatibility dictates we ignore failed','line_number':549,'multiline':False]
['text':' imports triggered by fromlist for modules that don't','line_number':550,'multiline':False]
['text':' exist.','line_number':551,'multiline':False]
['text':' Return up to the first dot in 'name'. This is complicated by the fact','line_number':568,'multiline':False]
['text':' that 'name' may be relative.','line_number':569,'multiline':False]
['text':' Figure out where to slice the module's name up to the first dot','line_number':575,'multiline':False]
['text':' in 'name'.','line_number':576,'multiline':False]
['text':' Slice end needs to be positive to alleviate need to special-case','line_number':578,'multiline':False]
['text':' when ``'.' not in name``.','line_number':579,'multiline':False]
['text':' the shorter extern covers this extern case','line_number':657,'multiline':False]
['text':' A private global registry of all modules that have been package-imported.','line_number':687,'multiline':False]
['text':' `inspect` by default only looks in `sys.modules` to find source files for classes.','line_number':690,'multiline':False]
['text':' Patch it to check our private registry of package-imported modules as well.','line_number':691,'multiline':False]
['text':' The contract for resource_path is that it either returns a concrete','line_number':722,'multiline':False]
['text':' file system path or raises FileNotFoundError.','line_number':723,'multiline':False]
['text':' If the path of the file (which is relative to the top of the zip','line_number':751,'multiline':False]
['text':' namespace), relative to the package given when the resource','line_number':752,'multiline':False]
['text':' reader was created, has a parent, then it's a name in a','line_number':753,'multiline':False]
['text':' subdirectory and thus we skip it.','line_number':754,'multiline':False]
