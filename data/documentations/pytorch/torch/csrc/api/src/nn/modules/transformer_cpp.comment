['text':' ========================TransformerEncoderLayerImpl=========================','line_number':14,'multiline':False]
['text':' NOLINTNEXTLINE(clang-analyzer-optin.cplusplus.VirtualCall)','line_number':18,'multiline':False]
['text':' NOTE: reset() is for initializing the model only, calling reset() after the','line_number':23,'multiline':False]
['text':' model is created will throw exceptionss. Call reset_parameter() if the','line_number':24,'multiline':False]
['text':' created model needs a reset','line_number':25,'multiline':False]
['text':' TODO xinyu: standardrize reset_parameters virtual funcs','line_number':49,'multiline':False]
['text':' dropout->reset_parameters();','line_number':53,'multiline':False]
['text':' dropout1->reset_parameters();','line_number':59,'multiline':False]
['text':' dropout2->reset_parameters();','line_number':60,'multiline':False]
['text':' multihead attention','line_number':67,'multiline':False]
['text':'need_weights=','line_number':69,'multiline':True]
['text':' add & norm','line_number':70,'multiline':False]
['text':' feedforward','line_number':73,'multiline':False]
['text':' add & norm','line_number':88,'multiline':False]
['text':' ========================TransformerDecoderLayerImpl=========================','line_number':92,'multiline':False]
['text':' NOLINTNEXTLINE(clang-analyzer-optin.cplusplus.VirtualCall)','line_number':96,'multiline':False]
['text':' NOTE: reset() is for initializing the model only, calling reset() after the','line_number':101,'multiline':False]
['text':' model is created will cause throwing exceptions. Call reset_parameter() if','line_number':102,'multiline':False]
['text':' the created model needs a reset.','line_number':103,'multiline':False]
['text':' initialize self attention','line_number':105,'multiline':False]
['text':' initialize multihed attention','line_number':112,'multiline':False]
['text':' Initialize Feed forward first linear layer','line_number':119,'multiline':False]
['text':' initialize Feed forward dropout layer','line_number':122,'multiline':False]
['text':' initialize Feed forward second linear layer','line_number':124,'multiline':False]
['text':' initialize Normalization, post self attention','line_number':128,'multiline':False]
['text':' initialize post multi-headed attention Normalization','line_number':131,'multiline':False]
['text':' initialize normalization, post feed forward','line_number':134,'multiline':False]
['text':' initialize Dropout, post self attention','line_number':138,'multiline':False]
['text':' initialize post multi-headed attention dropout layer','line_number':140,'multiline':False]
['text':' initialize dropout, post feed forward','line_number':142,'multiline':False]
['text':' TODO xinyu: standardrize reset_parameters virtual funcs','line_number':147,'multiline':False]
['text':' dropout->reset_paramteres();','line_number':152,'multiline':False]
['text':' dropout1->reset_parameters();','line_number':158,'multiline':False]
['text':' dropout2->reset_parameters();','line_number':159,'multiline':False]
['text':' dropout3->reset_paramteres();','line_number':160,'multiline':False]
['text':'/ Pass the inputs (and mask) through the decoder layer.','line_number':163,'multiline':False]
['text':' query','line_number':172,'multiline':False]
['text':' key','line_number':173,'multiline':False]
['text':' value','line_number':174,'multiline':False]
['text':' key_padding_mask','line_number':175,'multiline':False]
['text':' need_weights','line_number':176,'multiline':False]
['text':' attn_mask','line_number':177,'multiline':False]
['text':' query','line_number':183,'multiline':False]
['text':' key','line_number':184,'multiline':False]
['text':' value','line_number':185,'multiline':False]
['text':' key_padding_mask','line_number':186,'multiline':False]
['text':' need_weights','line_number':187,'multiline':False]
['text':' attn_mask','line_number':188,'multiline':False]
['text':' ========================TransformerEncoderImpl=========================','line_number':216,'multiline':False]
['text':' NOLINTNEXTLINE(clang-analyzer-optin.cplusplus.VirtualCall)','line_number':220,'multiline':False]
['text':' Suppress unused variable warning','line_number':227,'multiline':False]
['text':' a. No way to know whether module in AnyModule has api to reset_parameters,','line_number':249,'multiline':False]
['text':' so replace instead b. Allow user to add/delete normalization module when','line_number':250,'multiline':False]
['text':' reset parameters','line_number':251,'multiline':False]
['text':' ========================TransformerDecoderImpl=========================','line_number':283,'multiline':False]
['text':' NOLINTNEXTLINE(clang-analyzer-optin.cplusplus.VirtualCall)','line_number':287,'multiline':False]
['text':' Suppress unused variable warning','line_number':294,'multiline':False]
['text':' a. No way to know whether module in AnyModule has api to reset_parameters,','line_number':316,'multiline':False]
['text':' so replace instead b. Allow user to add/delete normalization module when','line_number':317,'multiline':False]
['text':' reset parameters','line_number':318,'multiline':False]
['text':' =======================================TransformerImpl================================','line_number':364,'multiline':False]
['text':' NOLINTNEXTLINE(clang-analyzer-optin.cplusplus.VirtualCall)','line_number':367,'multiline':False]
['text':' set up encoder','line_number':372,'multiline':False]
['text':' set up decoder','line_number':390,'multiline':False]
['text':' Treat 0 dim valid here','line_number':466,'multiline':False]
['text':' check IEEE754 support here since -inf is not guaranteed to be valid on non','line_number':472,'multiline':False]
['text':' IEEE754 platform','line_number':473,'multiline':False]
['text':' if IEEE754 is not supported, we use the smallest float number in current','line_number':478,'multiline':False]
['text':' platform','line_number':479,'multiline':False]
['text':' namespace nn','line_number':489,'multiline':False]
['text':' namespace torch','line_number':490,'multiline':False]
