['text':' [Job id in artifacts]','line_number':18,'multiline':False]
['text':' Retrieve the job id from the report path. In our GHA workflows, we append','line_number':19,'multiline':False]
['text':' the job id to the end of the report name, so `report` looks like:','line_number':20,'multiline':False]
['text':'     unzipped-test-reports-foo_5596745227/test/test-reports/foo/TEST-foo.xml','line_number':21,'multiline':False]
['text':' and we want to get `5596745227` out of it.','line_number':22,'multiline':False]
['text':' [invoking file]','line_number':50,'multiline':False]
['text':' The name of the file that the test is located in is not necessarily','line_number':51,'multiline':False]
['text':' the same as the name of the file that invoked the test.','line_number':52,'multiline':False]
['text':' For example, `test_jit.py` calls into multiple other test files (e.g.','line_number':53,'multiline':False]
['text':' jit/test_dce.py). For sharding/test selection purposes, we want to','line_number':54,'multiline':False]
['text':' record the file that invoked the test.','line_number':55,'multiline':False]
['text':'','line_number':56,'multiline':False]
['text':' To do this, we leverage an implementation detail of how we write out','line_number':57,'multiline':False]
['text':' tests (https://bit.ly/3ajEV1M), which is that reports are created','line_number':58,'multiline':False]
['text':' under a folder with the same name as the invoking file.','line_number':59,'multiline':False]
['text':' Convert attributes directly into dict elements.','line_number':70,'multiline':False]
['text':' e.g.','line_number':71,'multiline':False]
['text':'     <testcase name="test_foo" classname="test_bar"></testcase>','line_number':72,'multiline':False]
['text':' becomes:','line_number':73,'multiline':False]
['text':'     {"name": "test_foo", "classname": "test_bar"}','line_number':74,'multiline':False]
['text':' The XML format encodes all values as strings. Convert to ints/floats if','line_number':77,'multiline':False]
['text':' possible to make aggregation possible in Rockset.','line_number':78,'multiline':False]
['text':' Convert inner and outer text into special dict elements.','line_number':89,'multiline':False]
['text':' e.g.','line_number':90,'multiline':False]
['text':'     <testcase>my_inner_text</testcase> my_tail','line_number':91,'multiline':False]
['text':' becomes:','line_number':92,'multiline':False]
['text':'     {"text": "my_inner_text", "tail": " my_tail"}','line_number':93,'multiline':False]
['text':' Convert child elements recursively, placing them at a key:','line_number':99,'multiline':False]
['text':' e.g.','line_number':100,'multiline':False]
['text':'     <testcase>','line_number':101,'multiline':False]
['text':'       <foo>hello</foo>','line_number':102,'multiline':False]
['text':'       <foo>world</foo>','line_number':103,'multiline':False]
['text':'       <bar>another</bar>','line_number':104,'multiline':False]
['text':'     </testcase>','line_number':105,'multiline':False]
['text':' becomes','line_number':106,'multiline':False]
['text':'    {','line_number':107,'multiline':False]
['text':'       "foo": [{"text": "hello"}, {"text": "world"}],','line_number':108,'multiline':False]
['text':'       "bar": {"text": "another"}','line_number':109,'multiline':False]
['text':'    }','line_number':110,'multiline':False]
['text':' If there are multiple tags with the same name, they should be','line_number':115,'multiline':False]
['text':' coalesced into a list.','line_number':116,'multiline':False]
['text':' Download and extract all the reports (both GHA and S3)','line_number':128,'multiline':False]
['text':' Parse the reports and transform them to JSON','line_number':141,'multiline':False]
['text':' Parse the reports and transform them to JSON','line_number':159,'multiline':False]
['text':' [see: invoking file]','line_number':184,'multiline':False]
['text':' [see: invoking file]','line_number':195,'multiline':False]
['text':' Flush stdout so that any errors in Rockset upload show up last in the logs.','line_number':265,'multiline':False]
['text':' For PRs, only upload a summary of test_runs. This helps lower the','line_number':268,'multiline':False]
['text':' volume of writes we do to Rockset.','line_number':269,'multiline':False]
['text':' Separate out the failed test cases.','line_number':279,'multiline':False]
['text':' Uploading everything is too data intensive most of the time,','line_number':280,'multiline':False]
['text':' but these will be just a tiny fraction.','line_number':281,'multiline':False]
['text':' For jobs on main branch, upload everything.','line_number':295,'multiline':False]
