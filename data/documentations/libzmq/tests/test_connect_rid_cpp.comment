['text':' SPDX-License-Identifier: MPL-2.0 ','line_number':1,'multiline':True]
['text':'  Set up listener STREAM.','line_number':23,'multiline':False]
['text':'  Set up connection stream.','line_number':32,'multiline':False]
['text':'  Do the connection.','line_number':37,'multiline':False]
['text':'  Uncomment to test assert on duplicate routing id.
    //  Test duplicate connect attempt.
    TEST_ASSERT_SUCCESS_ERRNO (zmq_setsockopt (rconn1, ZMQ_CONNECT_ROUTING_ID, rconn1routing_id, strlen(rconn1routing_id)));
    TEST_ASSERT_SUCCESS_ERRNO (zmq_connect (rconn1, bindip));
','line_number':43,'multiline':True]
['text':'  Send data to the bound stream.','line_number':48,'multiline':False]
['text':'  Accept data on the bound stream.','line_number':52,'multiline':False]
['text':' an auto-generated routing id','line_number':55,'multiline':False]
['text':' Handle close of the socket.','line_number':58,'multiline':False]
['text':'  Create bind socket.','line_number':71,'multiline':False]
['text':'  Create connection socket.','line_number':77,'multiline':False]
['text':'  If we're in named mode, set some identities.','line_number':82,'multiline':False]
['text':'  Make call to connect using a connect_routing_id.','line_number':90,'multiline':False]
['text':'  Uncomment to test assert on duplicate routing id
    //  Test duplicate connect attempt.
    TEST_ASSERT_SUCCESS_ERRNO (zmq_setsockopt (rconn1, ZMQ_CONNECT_ROUTING_ID, rconn1routing_id, strlen (rconn1routing_id)));
    TEST_ASSERT_SUCCESS_ERRNO (zmq_connect (rconn1, bindip));
','line_number':95,'multiline':True]
['text':'  Send some data.','line_number':100,'multiline':False]
['text':'  Receive the name.','line_number':105,'multiline':False]
['text':'  Receive the data.','line_number':114,'multiline':False]
['text':'  Send some data back.','line_number':117,'multiline':False]
['text':'  If bound socket identity naming a problem, we'll likely see something funky here.','line_number':122,'multiline':False]
['text':'  Create xbind socket.','line_number':139,'multiline':False]
['text':'  Create zbind socket.','line_number':145,'multiline':False]
['text':'  Create connection socket.','line_number':151,'multiline':False]
['text':' set identities for each socket','line_number':156,'multiline':False]
['text':'  Connect Y to X using a routing id','line_number':164,'multiline':False]
['text':'  Send some data from Y to X.','line_number':169,'multiline':False]
['text':' wait for the Y->X message to be received','line_number':173,'multiline':False]
['text':' Now X tries to connect to Z and send a message','line_number':176,'multiline':False]
['text':'  Try to send some data from X to Z.','line_number':181,'multiline':False]
['text':' wait for the X->Z message to be received (so that our non-blocking check will actually','line_number':185,'multiline':False]
['text':' fail if the message is routed to Y)','line_number':186,'multiline':False]
['text':' nothing should have been received on the Y socket','line_number':189,'multiline':False]
['text':' the message should have been received on the Z socket','line_number':193,'multiline':False]
