['text':' SPDX-License-Identifier: MPL-2.0 ','line_number':1,'multiline':True]
['text':' for sleep()','line_number':14,'multiline':False]
['text':' NOTE: SCHED_OTHER is the default Linux scheduler','line_number':18,'multiline':False]
['text':' NOTE1: if setrlimit() fails with EPERM, this means that current user has not enough permissions.','line_number':22,'multiline':False]
['text':' NOTE2: even for privileged users (e.g., root) getrlimit() would usually return 0 as nice limit; the only way to','line_number':23,'multiline':False]
['text':'        discover if the user is able to increase the nice value is to actually try to change the rlimit:','line_number':24,'multiline':False]
['text':' rlim_cur == 40 means that this process is allowed to set a nice value of -20','line_number':29,'multiline':False]
['text':' verify that setting negative values (e.g., default values) fail:','line_number':56,'multiline':False]
['text':' test scheduling policy:','line_number':65,'multiline':False]
['text':' set context options that alter the background thread CPU scheduling/affinity settings;','line_number':67,'multiline':False]
['text':' as of ZMQ 4.2.3 this has an effect only on POSIX systems (nothing happens on Windows, but still it should return success):','line_number':68,'multiline':False]
['text':' test priority:','line_number':74,'multiline':False]
['text':' in theory SCHED_OTHER supports only the static priority 0 but quoting the docs','line_number':76,'multiline':False]
['text':'     http://man7.org/linux/man-pages/man7/sched.7.html','line_number':77,'multiline':False]
['text':' "The thread to run is chosen from the static priority 0 list based on','line_number':78,'multiline':False]
['text':' a dynamic priority that is determined only inside this list.  The','line_number':79,'multiline':False]
['text':' dynamic priority is based on the nice value [...]','line_number':80,'multiline':False]
['text':' The nice value can be modified using nice(2), setpriority(2), or sched_setattr(2)."','line_number':81,'multiline':False]
['text':' ZMQ will internally use nice(2) to set the nice value when using SCHED_OTHER.','line_number':82,'multiline':False]
['text':' However changing the nice value of a process requires appropriate permissions...','line_number':83,'multiline':False]
['text':' check that the current effective user is able to do that:','line_number':84,'multiline':False]
['text':' any positive value different than the default will be ok ','line_number':88,'multiline':True]
['text':' test affinity:','line_number':92,'multiline':False]
['text':' this should result in background threads being placed only on the','line_number':94,'multiline':False]
['text':' first CPU available on this system; try experimenting with other values','line_number':95,'multiline':False]
['text':' (e.g., 5 to use CPU index 5) and use "top -H" or "taskset -pc" to see the result','line_number':96,'multiline':False]
['text':' you can also remove CPUs from list of affinities:','line_number':105,'multiline':False]
['text':' test INTEGER thread name prefix:','line_number':115,'multiline':False]
['text':' test STRING thread name prefix:','line_number':123,'multiline':False]
['text':' max len is 16 chars','line_number':125,'multiline':False]
['text':' Default value is 1.','line_number':142,'multiline':False]
['text':' Test we can set it to 0.','line_number':146,'multiline':False]
['text':' Create a TCP socket pair using the context and test that messages can be','line_number':152,'multiline':False]
['text':' received. Note that inproc sockets cannot be used for this test.','line_number':153,'multiline':False]
['text':' Clean up.','line_number':171,'multiline':False]
['text':' this is useful when you want to use an external tool (like top or taskset) to view','line_number':240,'multiline':False]
['text':' properties of the background threads','line_number':241,'multiline':False]
