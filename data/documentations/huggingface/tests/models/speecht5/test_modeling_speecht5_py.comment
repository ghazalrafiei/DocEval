['text':' coding=utf-8','line_number':1,'multiline':False]
['text':' Copyright 2022 The HuggingFace Inc. team. All rights reserved.','line_number':2,'multiline':False]
['text':'','line_number':3,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]
['text':' limitations under the License.','line_number':14,'multiline':False]
['text':' signature.parameters is an OrderedDict => so arg_names order is deterministic','line_number':198,'multiline':False]
['text':' this model has no inputs_embeds','line_number':214,'multiline':False]
['text':' this model has no input embeddings','line_number':218,'multiline':False]
['text':' decoder cannot keep gradients','line_number':223,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':228,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':233,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':238,'multiline':False]
['text':' speech is longer','line_number':248,'multiline':False]
['text':' first forward pass','line_number':334,'multiline':False]
['text':' create hypothetical multiple next token and extent to next_input_ids','line_number':339,'multiline':False]
['text':' append to next input_ids and','line_number':343,'multiline':False]
['text':' select random slice','line_number':352,'multiline':False]
['text':' test that outputs are equal for slice','line_number':359,'multiline':False]
['text':' check that output_attentions also work using config','line_number':428,'multiline':False]
['text':' loss is at first position','line_number':447,'multiline':False]
['text':' loss is added to beginning','line_number':449,'multiline':False]
['text':' past_key_values have been returned','line_number':451,'multiline':False]
['text':' decoder attentions','line_number':455,'multiline':False]
['text':' cross attentions','line_number':464,'multiline':False]
['text':' Check attention is always last and order is fine','line_number':477,'multiline':False]
['text':' signature.parameters is an OrderedDict => so arg_names order is deterministic','line_number':503,'multiline':False]
['text':' check that output_hidden_states also work using config','line_number':566,'multiline':False]
['text':' this model has no inputs_embeds','line_number':599,'multiline':False]
['text':' if model cannot untied embeddings -> leave test','line_number':610,'multiline':False]
['text':' if no output embeddings -> leave test','line_number':618,'multiline':False]
['text':' Check that resizing the token embeddings with a larger vocab size increases the model's vocab size','line_number':622,'multiline':False]
['text':' Check bias if present','line_number':628,'multiline':False]
['text':' Check that the model can still do a forward pass successfully (every parameter should be resized)','line_number':631,'multiline':False]
['text':' Check that resizing the token embeddings with a smaller vocab size decreases the model's vocab size','line_number':634,'multiline':False]
['text':' Check that it actually resizes the embeddings matrix','line_number':637,'multiline':False]
['text':' Check bias if present','line_number':640,'multiline':False]
['text':' Check that the model can still do a forward pass successfully (every parameter should be resized)','line_number':643,'multiline':False]
['text':' Check that the model can still do a forward pass successfully (every parameter should be resized)','line_number':646,'multiline':False]
['text':' Retrieve the embeddings and clone theme','line_number':663,'multiline':False]
['text':' Check that resizing the token embeddings with a larger vocab size increases the model's vocab size','line_number':667,'multiline':False]
['text':' Check that it actually resizes the embeddings matrix','line_number':670,'multiline':False]
['text':' Check that the model can still do a forward pass successfully (every parameter should be resized)','line_number':672,'multiline':False]
['text':' Check that resizing the token embeddings with a smaller vocab size decreases the model's vocab size','line_number':675,'multiline':False]
['text':' Check that it actually resizes the embeddings matrix','line_number':678,'multiline':False]
['text':' make sure that decoder_input_ids are resized','line_number':681,'multiline':False]
['text':' Check that adding and removing tokens has not modified the first part of the embedding matrix.','line_number':686,'multiline':False]
['text':' decoder cannot keep gradients','line_number':695,'multiline':False]
['text':' training is not supported yet','line_number':698,'multiline':False]
['text':' overwrite from test_modeling_common','line_number':717,'multiline':False]
['text':' automatic decoding with librispeech','line_number':744,'multiline':False]
['text':' speech is longer','line_number':799,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':911,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':915,'multiline':False]
['text':' signature.parameters is an OrderedDict => so arg_names order is deterministic','line_number':925,'multiline':False]
['text':' this model has no inputs_embeds','line_number':964,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':968,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':972,'multiline':False]
['text':' decoder cannot keep gradients','line_number':977,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':982,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':987,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':992,'multiline':False]
['text':' training is not supported yet','line_number':995,'multiline':False]
['text':' overwrite from test_modeling_common','line_number':1014,'multiline':False]
['text':' make deterministic','line_number':1047,'multiline':False]
['text':' make deterministic','line_number':1057,'multiline':False]
['text':' test model.generate, same method than generate_speech but with additional kwargs to absorb kwargs such as attention_mask','line_number':1059,'multiline':False]
['text':' make deterministic','line_number':1070,'multiline':False]
['text':' Check waveform results are the same with or without using vocder','line_number':1090,'multiline':False]
['text':' Check waveform results are the same with return_concrete_lengths=True/False','line_number':1102,'multiline':False]
['text':' Check results when batching are consistent with results without batching','line_number':1113,'multiline':False]
['text':' make deterministic','line_number':1115,'multiline':False]
['text':' Check whether waveforms are the same with/without passing vocoder','line_number':1125,'multiline':False]
['text':' speech is longer','line_number':1141,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':1273,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':1277,'multiline':False]
['text':' check that output_attentions also work using config','line_number':1311,'multiline':False]
['text':' loss is at first position','line_number':1330,'multiline':False]
['text':' loss is added to beginning','line_number':1332,'multiline':False]
['text':' past_key_values have been returned','line_number':1334,'multiline':False]
['text':' decoder attentions','line_number':1338,'multiline':False]
['text':' cross attentions','line_number':1347,'multiline':False]
['text':' Check attention is always last and order is fine','line_number':1360,'multiline':False]
['text':' signature.parameters is an OrderedDict => so arg_names order is deterministic','line_number':1386,'multiline':False]
['text':' check that output_hidden_states also work using config','line_number':1449,'multiline':False]
['text':' this model has no inputs_embeds','line_number':1482,'multiline':False]
['text':' this model has no input embeddings','line_number':1486,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':1490,'multiline':False]
['text':' decoder cannot keep gradients','line_number':1495,'multiline':False]
['text':' skipped because there is always dropout in SpeechT5SpeechDecoderPrenet','line_number':1498,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':1504,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':1509,'multiline':False]
['text':' disabled because this model doesn't have decoder_input_ids','line_number':1514,'multiline':False]
['text':' training is not supported yet','line_number':1517,'multiline':False]
['text':' overwrite from test_modeling_common','line_number':1536,'multiline':False]
['text':' automatic decoding with librispeech','line_number':1563,'multiline':False]
['text':' signature.parameters is an OrderedDict => so arg_names order is deterministic','line_number':1660,'multiline':False]
['text':' this model does not output hidden states','line_number':1668,'multiline':False]
['text':' skip','line_number':1672,'multiline':False]
['text':' this model has no inputs_embeds','line_number':1676,'multiline':False]
['text':' this model has no input embeddings','line_number':1680,'multiline':False]
['text':' skip as this model doesn't support all arguments tested','line_number':1684,'multiline':False]
['text':' this model does not output hidden states','line_number':1688,'multiline':False]
['text':' skip because it fails on automapping of SpeechT5HifiGanConfig','line_number':1692,'multiline':False]
['text':' skip because it fails on automapping of SpeechT5HifiGanConfig','line_number':1696,'multiline':False]
