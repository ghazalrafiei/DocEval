['text':' Copyright 2021 The HuggingFace Team. All rights reserved.','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':3,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':4,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':5,'multiline':False]
['text':'','line_number':6,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':7,'multiline':False]
['text':'','line_number':8,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':9,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':10,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':11,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':12,'multiline':False]
['text':' limitations under the License.','line_number':13,'multiline':False]
['text':' We can't use this mixin because it assumes TF support.','line_number':55,'multiline':False]
['text':' from .test_pipelines_common import CustomInputPipelineCommonMixin','line_number':56,'multiline':False]
['text':' Side effect of no Fast Tokenizer class for these model, so skipping','line_number':68,'multiline':False]
['text':' But the slow tokenizer test should still run as they're quite small','line_number':69,'multiline':False]
['text':' return None, None','line_number':72,'multiline':False]
['text':' test with a raw waveform','line_number':78,'multiline':False]
['text':' Striding','line_number':88,'multiline':False]
['text':' Non CTC models cannot use striding.','line_number':97,'multiline':False]
['text':' Timestamps','line_number':101,'multiline':False]
['text':' Non CTC models cannot use return_timestamps','line_number':138,'multiline':False]
['text':' Non CTC models cannot use return_timestamps','line_number':163,'multiline':False]
['text':' Override back to pure CTC','line_number':223,'multiline':False]
['text':' plumajre != plumaje','line_number':226,'multiline':False]
['text':' Simple test with CTC with LM, chunking + timestamps','line_number':237,'multiline':False]
['text':' CTC + LM models cannot use return_timestamps="char"','line_number':263,'multiline':False]
['text':' test that model without tokenizer file cannot be loaded','line_number':275,'multiline':False]
['text':' fmt: off','line_number':328,'multiline':False]
['text':' fmt: on','line_number':345,'multiline':False]
['text':' segment-level timestamps are accepted','line_number':349,'multiline':False]
['text':' word-level timestamps are accepted','line_number':368,'multiline':False]
['text':' char-level timestamps are not accepted','line_number':381,'multiline':False]
['text':' Merge when the previous sequence is a suffix of the next sequence','line_number':429,'multiline':False]
['text':' fmt: off','line_number':430,'multiline':False]
['text':' fmt: on','line_number':434,'multiline':False]
['text':' fmt: off','line_number':458,'multiline':False]
['text':' fmt: on','line_number':463,'multiline':False]
['text':' Merge when the sequence is in the middle of the 1st next sequence','line_number':481,'multiline':False]
['text':' fmt: off','line_number':482,'multiline':False]
['text':' fmt: on','line_number':486,'multiline':False]
['text':' {'text': ' of spectators, retrievality is not worth thinking about. His instant panic was followed by a small, sharp blow high on his chest.','timestamp': (0.0, 9.4)}','line_number':487,'multiline':False]
['text':' fmt: off','line_number':494,'multiline':False]
['text':' fmt: on','line_number':499,'multiline':False]
['text':' Merge when the previous sequence is not included in the current sequence','line_number':519,'multiline':False]
['text':' fmt: skip','line_number':520,'multiline':False]
['text':' {'text': ' His instant panic was followed by a small, sharp blow high on his chest.','timestamp': (0.0, 9.4)}','line_number':521,'multiline':False]
['text':' fmt: skip','line_number':531,'multiline':False]
['text':' last case is when the sequence is not in the first next predicted start and end of timestamp','line_number':548,'multiline':False]
['text':' fmt: skip','line_number':551,'multiline':False]
['text':' fmt: skip','line_number':561,'multiline':False]
['text':' fmt: off','line_number':775,'multiline':False]
['text':' fmt: on','line_number':801,'multiline':False]
['text':' Whisper can only predict segment level timestamps or word level, not character level','line_number':803,'multiline':False]
['text':' either use generate_kwargs or set the model's generation_config','line_number':835,'multiline':False]
['text':' model.generation_config.task = "transcribe"','line_number':836,'multiline':False]
['text':' model.generation_config.lang = "<|it|>"','line_number':837,'multiline':False]
['text':' 1. English-only model compatible with no language argument','line_number':858,'multiline':False]
['text':' 2. English-only Whisper does not accept the language argument','line_number':865,'multiline':False]
['text':' 3. Multilingual model accepts language argument','line_number':873,'multiline':False]
['text':' Take short audio to keep the test readable','line_number':980,'multiline':False]
['text':' Batch_size = 1','line_number':1028,'multiline':False]
['text':' batch_size = 2','line_number':1033,'multiline':False]
['text':' TODO There is an offby one error because of the ratio.','line_number':1038,'multiline':False]
['text':' Maybe logits get affected by the padding on this random','line_number':1039,'multiline':False]
['text':' model is more likely. Add some masking ?','line_number':1040,'multiline':False]
['text':' self.assertEqual(output1, output2)','line_number':1041,'multiline':False]
['text':' Making sure the argument are passed to the decoder','line_number':1061,'multiline':False]
['text':' Since no change happens in the result, check the error comes from','line_number':1062,'multiline':False]
['text':' the `decode_beams` function.','line_number':1063,'multiline':False]
['text':' fmt: off','line_number':1093,'multiline':False]
['text':' fmt: on','line_number':1095,'multiline':False]
['text':' The audio is 74_400 / 16_000 = 4.65s long.','line_number':1161,'multiline':False]
['text':' Tiny change linked to chunking.','line_number':1239,'multiline':False]
['text':' CTC models must specify return_timestamps type - cannot set `return_timestamps=True` blindly','line_number':1246,'multiline':False]
['text':' two chunks no stride','line_number':1283,'multiline':False]
['text':' two chunks incomplete last','line_number':1290,'multiline':False]
['text':' one chunk since first is also last, because it contains only data','line_number':1297,'multiline':False]
['text':' in the right strided part we just mark that part as non stride','line_number':1298,'multiline':False]
['text':' This test is specifically crafted to trigger a bug if next chunk','line_number':1299,'multiline':False]
['text':' would be ignored by the fact that all the data would be','line_number':1300,'multiline':False]
['text':' contained in the strided left data.','line_number':1301,'multiline':False]
['text':' (0, 25)','line_number':1347,'multiline':False]
['text':' (25, 45)','line_number':1349,'multiline':False]
['text':' (45, 65)','line_number':1351,'multiline':False]
['text':' (65, 85)','line_number':1353,'multiline':False]
['text':' (85, 100)','line_number':1355,'multiline':False]
['text':' 0 effective ids Just take the middle one','line_number':1368,'multiline':False]
['text':' Only 1 arange.','line_number':1372,'multiline':False]
['text':' 2nd arange','line_number':1376,'multiline':False]
['text':' Original model wasn't trained with timestamps and has incorrect generation config','line_number':1390,'multiline':False]
['text':' This is finished, but the chunk_bytes doesn't know it yet.','line_number':1452,'multiline':False]
