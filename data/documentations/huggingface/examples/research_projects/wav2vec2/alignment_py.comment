['text':' Parts of the code are adapted from the snippets provided in the TorchAudio Wav2Vec forced alignment tutorial.','line_number':1,'multiline':False]
['text':' The full tutorial can be found here: https://pytorch.org/audio/stable/tutorials/forced_alignment_tutorial.html','line_number':2,'multiline':False]
['text':' get the emission probability at frame level','line_number':52,'multiline':False]
['text':' get labels from vocab','line_number':56,'multiline':False]
['text':' logits don't align with the tokenizer's vocab','line_number':59,'multiline':False]
['text':' Trellis has extra diemsions for both time axis and tokens.','line_number':75,'multiline':False]
['text':' The extra dim for tokens represents <SoS> (start-of-sentence)','line_number':76,'multiline':False]
['text':' The extra dim for time axis is for simplification of the code.','line_number':77,'multiline':False]
['text':' Score for staying at the same token','line_number':82,'multiline':False]
['text':' Score for changing to the next token','line_number':84,'multiline':False]
['text':' Note:','line_number':101,'multiline':False]
['text':' j and t are indices for trellis, which has extra dimensions','line_number':102,'multiline':False]
['text':' for time and tokens at the beginning.','line_number':103,'multiline':False]
['text':' When referring to time frame index `T` in trellis,','line_number':104,'multiline':False]
['text':' the corresponding index in emission is `T-1`.','line_number':105,'multiline':False]
['text':' Similarly, when referring to token index `J` in trellis,','line_number':106,'multiline':False]
['text':' the corresponding index in transcript is `J-1`.','line_number':107,'multiline':False]
['text':' 1. Figure out if the current position was stay or change','line_number':113,'multiline':False]
['text':' Note (again):','line_number':114,'multiline':False]
['text':' `emission[J-1]` is the emission at time frame `J` of trellis dimension.','line_number':115,'multiline':False]
['text':' Score for token staying the same from time frame J-1 to T.','line_number':116,'multiline':False]
['text':' Score for token changing from C-1 at T-1 to J at T.','line_number':118,'multiline':False]
['text':' 2. Store the path with frame-wise probability.','line_number':121,'multiline':False]
['text':' Return token index and time index in non-trellis coordinate.','line_number':123,'multiline':False]
['text':' 3. Update the token','line_number':126,'multiline':False]
['text':' load text file','line_number':182,'multiline':False]
