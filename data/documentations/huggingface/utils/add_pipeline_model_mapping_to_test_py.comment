['text':' coding=utf-8','line_number':1,'multiline':False]
['text':' Copyright 2023 The HuggingFace Inc. team.','line_number':2,'multiline':False]
['text':'','line_number':3,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]
['text':' limitations under the License.','line_number':14,'multiline':False]
['text':' DO **NOT** add item to this set (unless the reason is approved)','line_number':45,'multiline':False]
['text':' The pipeline test mapping is added to `test_modeling_esm.py`','line_number':47,'multiline':False]
['text':' Use the cached results','line_number':66,'multiline':False]
['text':' cache the results','line_number':81,'multiline':False]
['text':' This could be a list/tuple of model classes, but it's rare.','line_number':99,'multiline':False]
['text':' A list/tuple of model classes','line_number':132,'multiline':False]
['text':' A single model class','line_number':135,'multiline':False]
['text':' If a test class has defined `pipeline_model_mapping`, let's take it','line_number':158,'multiline':False]
['text':' Take the test class with the shortest name (just a heuristic)','line_number':162,'multiline':False]
['text':' Outside the definition block of `pipeline_model_mapping`','line_number':176,'multiline':False]
['text':' The code defined the class `test_class`','line_number':193,'multiline':False]
['text':' `inspect` gives the code for an object, including decorator(s) if any.','line_number':195,'multiline':False]
['text':' We (only) need the exact line of the class definition.','line_number':196,'multiline':False]
['text':' The index in `class_lines` that starts the definition of `all_model_classes`, `all_generative_model_classes` or','line_number':204,'multiline':False]
['text':' `pipeline_model_mapping`. This assumes they are defined in such order, and we take the start index of the last','line_number':205,'multiline':False]
['text':' block that appears in a `test_class`.','line_number':206,'multiline':False]
['text':' The indent level of the line at `class_lines[start_idx]` (if defined)','line_number':208,'multiline':False]
['text':' To record if `pipeline_model_mapping` is found in `test_class`.','line_number':210,'multiline':False]
['text':' Find the ending index (inclusive) of the above found block.','line_number':227,'multiline':False]
['text':' Extract `is_xxx_available()` from existing blocks: some models require specific libraries like `timm` and use','line_number':230,'multiline':False]
['text':' `is_timm_available()` instead of `is_torch_available()`.','line_number':231,'multiline':False]
['text':' Keep leading and trailing whitespaces','line_number':232,'multiline':False]
['text':' replace the leading and trailing whitespaces to the space character " ".','line_number':237,'multiline':False]
['text':' `pipeline_model_mapping` is not defined. The target index is set to the ending index (inclusive) of','line_number':243,'multiline':False]
['text':' `all_model_classes` or `all_generative_model_classes`.','line_number':244,'multiline':False]
['text':' `pipeline_model_mapping` is defined. The target index is set to be one **BEFORE** its start index.','line_number':247,'multiline':False]
['text':' mark the lines of the currently existing `pipeline_model_mapping` to be removed.','line_number':249,'multiline':False]
['text':' These lines are going to be removed before writing to the test file.','line_number':251,'multiline':False]
['text':' noqa','line_number':252,'multiline':False]
['text':' Make sure the test class is a subclass of `PipelineTesterMixin`.','line_number':254,'multiline':False]
['text':' Put `PipelineTesterMixin` just before `unittest.TestCase`','line_number':257,'multiline':False]
['text':' Here we **assume** the original string is always with `unittest.TestCase`.','line_number':260,'multiline':False]
['text':' Find the ending of the declaration of `test_class`','line_number':264,'multiline':False]
['text':' mark the lines of the declaration of `test_class` to be removed','line_number':266,'multiline':False]
['text':' noqa','line_number':268,'multiline':False]
['text':' Add the new, one-line, class declaration for `test_class`','line_number':270,'multiline':False]
['text':' Add indentation','line_number':273,'multiline':False]
['text':' Insert `pipeline_model_mapping` to `class_lines`.','line_number':275,'multiline':False]
['text':' (The line at `target_idx` should be kept by definition!)','line_number':276,'multiline':False]
['text':' Remove the lines that are marked to be removed','line_number':278,'multiline':False]
['text':' Move from test class to module (in order to write to the test file)','line_number':281,'multiline':False]
['text':' Be careful with the 1-off between line numbers and array indices','line_number':283,'multiline':False]
['text':' `Flax` is not concerned at this moment','line_number':329,'multiline':False]
