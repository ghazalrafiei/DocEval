['text':' coding=utf-8','line_number':1,'multiline':False]
['text':' Copyright 2023 The HuggingFace Inc. team. All rights reserved.','line_number':2,'multiline':False]
['text':'','line_number':3,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]
['text':' limitations under the License.','line_number':14,'multiline':False]
['text':' PIL RGBA images are converted to RGB','line_number':342,'multiline':False]
['text':' All transformations expect numpy arrays.','line_number':346,'multiline':False]
['text':' We assume that all images have the same channel dimension format.','line_number':356,'multiline':False]
['text':' tf.image expects NHWC, we transpose the NCHW inputs for it','line_number':531,'multiline':False]
['text':' And then we transpose them back at the end','line_number':538,'multiline':False]
['text':' cropped_images stays as np','line_number':617,'multiline':False]
['text':' cropped_images stays as np','line_number':625,'multiline':False]
['text':' compute stability score','line_number':746,'multiline':False]
['text':' binarize masks','line_number':754,'multiline':False]
['text':' conversion to rle is necessary to run non-maximum suppresion','line_number':767,'multiline':False]
['text':' compute stability score','line_number':823,'multiline':False]
['text':' binarize masks','line_number':831,'multiline':False]
['text':' conversion to rle is necessary to run non-maximum suppresion','line_number':844,'multiline':False]
['text':' One mask is always contained inside the other.','line_number':851,'multiline':False]
['text':' Save memory by preventing unnecesary cast to torch.int64','line_number':852,'multiline':False]
['text':' Torch does Py3-style division but TF does floor division with ints. We cast to float32 in TF to make sure','line_number':862,'multiline':False]
['text':' we get the right division results.','line_number':863,'multiline':False]
['text':' Is it tuple here?','line_number':912,'multiline':False]
['text':' Original image','line_number':979,'multiline':False]
['text':' Coordinate transform masks','line_number':1034,'multiline':False]
['text':' Coordinate transform masks','line_number':1044,'multiline':False]
['text':' Check if boxes has a channel dimension','line_number':1057,'multiline':False]
['text':' Check if boxes has a channel dimension','line_number':1075,'multiline':False]
['text':' torch.max below raises an error on empty inputs, just skip in this case','line_number':1101,'multiline':False]
['text':' Normalize shape to Cxheightxwidth','line_number':1106,'multiline':False]
['text':' Get top and bottom edges','line_number':1110,'multiline':False]
['text':' Get left and right edges','line_number':1117,'multiline':False]
['text':' If the mask is empty the right edge will be to the left of the left edge.','line_number':1124,'multiline':False]
['text':' Replace these boxes with [0, 0, 0, 0]','line_number':1125,'multiline':False]
['text':' Return to original shape','line_number':1130,'multiline':False]
['text':' Normalize shape to Cxheightxwidth','line_number':1154,'multiline':False]
['text':' Get top and bottom edges','line_number':1158,'multiline':False]
['text':' Get left and right edges','line_number':1165,'multiline':False]
['text':' If the mask is empty the right edge will be to the left of the left edge.','line_number':1172,'multiline':False]
['text':' Replace these boxes with [0, 0, 0, 0]','line_number':1173,'multiline':False]
['text':' Return to original shape','line_number':1178,'multiline':False]
['text':' Put in fortran order and flatten height and width','line_number':1187,'multiline':False]
['text':' Compute change indices','line_number':1191,'multiline':False]
['text':' Encode run length','line_number':1195,'multiline':False]
['text':' Put in fortran order and flatten height and width','line_number':1210,'multiline':False]
['text':' Compute change indices','line_number':1214,'multiline':False]
['text':' Encode run length','line_number':1218,'multiline':False]
['text':' Reshape to original shape','line_number':1240,'multiline':False]
