['text':' coding=utf-8','line_number':1,'multiline':False]
['text':' Copyright 2021 Microsoft Research and the HuggingFace Inc. team.','line_number':2,'multiline':False]
['text':'','line_number':3,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]
['text':' limitations under the License.','line_number':14,'multiline':False]
['text':' 2, Wh, Ww','line_number':127,'multiline':False]
['text':' 2, Wh*Ww, Wh*Ww','line_number':129,'multiline':False]
['text':' Wh*Ww, Wh*Ww, 2','line_number':130,'multiline':False]
['text':' shift to start from 0','line_number':131,'multiline':False]
['text':' Wh*Ww, Wh*Ww','line_number':136,'multiline':False]
['text':' work with diff dim tensors, not just 2D ConvNets','line_number':160,'multiline':False]
['text':' the dtype of the computation','line_number':170,'multiline':False]
['text':' the dtype of the computation','line_number':204,'multiline':False]
['text':' replace the masked visual tokens by mask_tokens','line_number':228,'multiline':False]
['text':' the dtype of the computation','line_number':244,'multiline':False]
['text':' 2*Wh-1 * 2*Ww-1, nH','line_number':252,'multiline':False]
['text':' cls to token & token 2 cls & cls to cls','line_number':253,'multiline':False]
['text':' Wh*Ww,Wh*Ww,nH','line_number':260,'multiline':False]
['text':' the dtype of the computation','line_number':267,'multiline':False]
['text':' Add relative position bias if present.','line_number':321,'multiline':False]
['text':' Add shared relative position bias if provided.','line_number':326,'multiline':False]
['text':' the dtype of the computation','line_number':351,'multiline':False]
['text':' the dtype of the computation','line_number':395,'multiline':False]
['text':' the dtype of the computation','line_number':414,'multiline':False]
['text':' the dtype of the computation','line_number':435,'multiline':False]
['text':' in BEiT, layernorm is applied before self-attention','line_number':457,'multiline':False]
['text':' apply lambda_1 if present','line_number':464,'multiline':False]
['text':' first residual connection','line_number':468,'multiline':False]
['text':' in BEiT, layernorm is also applied after self-attention','line_number':471,'multiline':False]
['text':' apply lambda_2 if present','line_number':477,'multiline':False]
['text':' second residual connection','line_number':481,'multiline':False]
['text':' the dtype of the computation','line_number':497,'multiline':False]
['text':' the dtype of the computation','line_number':550,'multiline':False]
['text':' stochastic depth decay rule','line_number':558,'multiline':False]
['text':' init input tensors','line_number':613,'multiline':False]
['text':' Handle any PRNG if needed','line_number':651,'multiline':False]
['text':' the dtype of the computation','line_number':672,'multiline':False]
['text':' Mean pool the final hidden states of the patch tokens','line_number':680,'multiline':False]
['text':' Pool by simply taking the final hidden state of the [CLS] token','line_number':684,'multiline':False]
['text':' the dtype of the computation','line_number':692,'multiline':False]
['text':' if pooled is None, don't return it','line_number':728,'multiline':False]
['text':' the dtype of the computation','line_number':777,'multiline':False]
['text':' Classifier head','line_number':782,'multiline':False]
