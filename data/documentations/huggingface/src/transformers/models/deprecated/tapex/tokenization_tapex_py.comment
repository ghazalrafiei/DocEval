['text':' coding=utf-8','line_number':1,'multiline':False]
['text':' Copyright 2022 Microsoft Research and The HuggingFace Inc. team. All rights reserved.','line_number':2,'multiline':False]
['text':'','line_number':3,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':'     http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]
['text':' limitations under the License.','line_number':14,'multiline':False]
['text':' process header','line_number':165,'multiline':False]
['text':' process rows','line_number':167,'multiline':False]
['text':' NOTE: the row should start from row 1 instead of 0','line_number':169,'multiline':False]
['text':' Mask token behave like a normal word, i.e. include the space before it','line_number':296,'multiline':False]
['text':' how to handle errors in decoding','line_number':302,'multiline':False]
['text':' Should have added re.IGNORECASE so BPE merges can happen for capitalized versions of contractions','line_number':313,'multiline':False]
['text':' additional properties','line_number':316,'multiline':False]
['text':' Maps all our bytes to unicode strings, avoiding control tokens of the BPE (spaces in our case)','line_number':468,'multiline':False]
['text':' Input type checking for clearer error','line_number':614,'multiline':False]
['text':' Check that table have a valid type','line_number':618,'multiline':False]
['text':' Check that query have a valid type','line_number':624,'multiline':False]
['text':' Backward compatibility for 'truncation_strategy', 'pad_to_max_length'','line_number':708,'multiline':False]
['text':' single table, many queries case','line_number':767,'multiline':False]
['text':' duplicate table for every query','line_number':768,'multiline':False]
['text':' many tables, single query case','line_number':771,'multiline':False]
['text':' duplicate query for every table','line_number':772,'multiline':False]
['text':' we pad in batch afterwards','line_number':835,'multiline':False]
['text':' we pad in batch afterwards','line_number':839,'multiline':False]
['text':' we pad in batch afterwards','line_number':840,'multiline':False]
['text':' We convert the whole batch to tensors at the end','line_number':845,'multiline':False]
['text':' Backward compatibility for 'truncation_strategy', 'pad_to_max_length'','line_number':919,'multiline':False]
['text':' if necessary, perform lower case','line_number':982,'multiline':False]
['text':' Backward compatibility for 'truncation_strategy', 'pad_to_max_length'','line_number':1096,'multiline':False]
['text':' we pad in batch afterwards','line_number':1152,'multiline':False]
['text':' we pad in batch afterwards','line_number':1156,'multiline':False]
['text':' we pad in batch afterwards','line_number':1157,'multiline':False]
['text':' We convert the whole batch to tensors at the end','line_number':1162,'multiline':False]
['text':' Backward compatibility for 'truncation_strategy', 'pad_to_max_length'','line_number':1239,'multiline':False]
['text':' if necessary, perform lower case','line_number':1296,'multiline':False]
['text':' step 1: create table dictionary','line_number':1336,'multiline':False]
['text':' step 2: modify table internally','line_number':1339,'multiline':False]
['text':' always truncate table cells based on self.max_cell_length','line_number':1340,'multiline':False]
['text':' optionally truncate rows if truncation_strategy is set to it','line_number':1341,'multiline':False]
['text':' step 3: linearize table','line_number':1346,'multiline':False]
['text':' step 4: concatenate query with linear_table','line_number':1358,'multiline':False]
['text':' TODO (Qian): is it possible to revert the original cell if it is in the final answer?','line_number':1365,'multiline':False]
['text':' modify the answer list','line_number':1374,'multiline':False]
['text':' do not process on these cases','line_number':1381,'multiline':False]
['text':' randomly delete unrelated rows','line_number':1410,'multiline':False]
['text':' guarantee the result < max_length','line_number':1412,'multiline':False]
['text':' over the size limit, and take action','line_number':1417,'multiline':False]
['text':' calculate the tokens of header, special tokens will only be pre-prepended into question','line_number':1427,'multiline':False]
['text':' calculate the tokens of header','line_number':1429,'multiline':False]
['text':' split all cell values into tokens and see how many can be accommodated','line_number':1432,'multiline':False]
['text':' remaining token space for rows','line_number':1434,'multiline':False]
['text':' use a general index to roughly estimate the overall token len','line_number':1439,'multiline':False]
['text':' no row will be deleted','line_number':1444,'multiline':False]
['text':' calc a roughly delete rate','line_number':1447,'multiline':False]
['text':' add question key words into answer set','line_number':1460,'multiline':False]
['text':' add neighbours to preserve information aggressively','line_number':1470,'multiline':False]
['text':' remove the neighbours','line_number':1473,'multiline':False]
['text':' select some cases to drop','line_number':1477,'multiline':False]
['text':' only when the drop ratio is too large, logging for warning.','line_number':1485,'multiline':False]
