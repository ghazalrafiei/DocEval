['text':'
htop - DragonFlyBSDMachine.c
(C) 2014 Hisham H. Muhammad
(C) 2017 Diederik de Groot
Released under the GNU GPLv2+, see the COPYING file
in the source distribution for its full text.
','line_number':1,'multiline':True]
['text':' physical memory in system: hw.physmem','line_number':50,'multiline':False]
['text':' physical page size: hw.pagesize','line_number':51,'multiline':False]
['text':' usable pagesize : vm.stats.vm.v_page_size','line_number':52,'multiline':False]
['text':' usable page count vm.stats.vm.v_page_count','line_number':60,'multiline':False]
['text':' actually usable memory : vm.stats.vm.v_page_count * vm.stats.vm.v_page_size','line_number':61,'multiline':False]
['text':' fetch initial single (or average) CPU clicks from kernel','line_number':84,'multiline':False]
['text':' on smp box, fetch rest of initial CPU's clicks','line_number':87,'multiline':False]
['text':' TODO: support offline CPUs and hot swapping','line_number':97,'multiline':False]
['text':' on smp we need CPUs + 1 to store averages too (as kernel kindly provides that as well)','line_number':103,'multiline':False]
['text':'sane default for kernel provided CPU percentage scaling, at least on x86 machines, in case this sysctl call failed','line_number':109,'multiline':False]
['text':' actual CPU count','line_number':146,'multiline':False]
['text':' max iteration (in case we have average + smp)','line_number':147,'multiline':False]
['text':' old clicks state','line_number':154,'multiline':False]
['text':' current clicks state','line_number':155,'multiline':False]
['text':' get averages or single CPU clicks','line_number':160,'multiline':False]
['text':' get rest of CPUs','line_number':164,'multiline':False]
['text':' on smp systems DragonFlyBSD kernel concats all CPU states into one long array in','line_number':166,'multiline':False]
['text':' kern.cp_times sysctl OID','line_number':167,'multiline':False]
['text':' we store averages in dfpl->cpus[0], and actual cores after that','line_number':168,'multiline':False]
['text':' single CPU box','line_number':176,'multiline':False]
['text':' average','line_number':181,'multiline':False]
['text':' specific smp cores','line_number':185,'multiline':False]
['text':' diff old vs new','line_number':192,'multiline':False]
['text':' totals','line_number':202,'multiline':False]
['text':' save current state as old and calc percentages','line_number':208,'multiline':False]
['text':' this one is not really used, but we store it anyway','line_number':220,'multiline':False]
['text':' @etosan:','line_number':228,'multiline':False]
['text':' memory counter relationships seem to be these:','line_number':229,'multiline':False]
['text':'  total = active + wired + inactive + cache + free','line_number':230,'multiline':False]
['text':'  htop_used (unavail to anybody) = active + wired','line_number':231,'multiline':False]
['text':'  htop_cache (for cache meter)   = buffers + cache','line_number':232,'multiline':False]
['text':'  user_free (avail to procs)     = buffers + inactive + cache + free','line_number':233,'multiline':False]
['text':'disabled for now, as it is always smaller than phycal amount of memory...','line_number':236,'multiline':False]
['text':'...to avoid "where is my memory?" questions','line_number':237,'multiline':False]
['text':'sysctl(MIB_vm_stats_vm_v_page_count, 4, &(this->totalMem), &len, NULL, 0);','line_number':238,'multiline':False]
['text':'this->totalMem *= pageSizeKb;','line_number':239,'multiline':False]
['text':' Jail list ','line_number':270,'multiline':True]
