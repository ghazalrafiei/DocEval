['text':'===-- tsd_shared.h --------------------------------------------*- C++ -*-===//','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.','line_number':3,'multiline':False]
['text':' See https://llvm.org/LICENSE.txt for license information.','line_number':4,'multiline':False]
['text':' SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception','line_number':5,'multiline':False]
['text':'','line_number':6,'multiline':False]
['text':'===----------------------------------------------------------------------===//','line_number':7,'multiline':False]
['text':' This is a platform-provided header that needs to be on the include path when','line_number':17,'multiline':False]
['text':' Scudo is compiled. It must declare a function with the prototype:','line_number':18,'multiline':False]
['text':'   uintptr_t *getPlatformAllocatorTlsSlot()','line_number':19,'multiline':False]
['text':' that returns the address of a thread-local word of storage reserved for','line_number':20,'multiline':False]
['text':' Scudo, that must be zero-initialized in newly created threads.','line_number':21,'multiline':False]
['text':' Sets Initialized.','line_number':44,'multiline':False]
['text':' TSDs is an array of locks and which is not supported for marking','line_number':73,'multiline':False]
['text':' thread-safety capability.','line_number':74,'multiline':False]
['text':' Try to lock the currently associated context.','line_number':80,'multiline':False]
['text':' If that fails, go down the slow path.','line_number':83,'multiline':False]
['text':' Only 1 TSD, not need to go any further.','line_number':85,'multiline':False]
['text':' The compiler will optimize this one way or the other.','line_number':86,'multiline':False]
['text':' Not supported by the TSD Registry, but not an error either.','line_number':110,'multiline':False]
['text':' Compute all the coprimes of NumberOfTSDs. This will be used to walk the','line_number':158,'multiline':False]
['text':' array of TSDs in a random order. For details, see:','line_number':159,'multiline':False]
['text':' https://lemire.me/blog/2017/09/18/visiting-all-values-in-an-array-exactly-once-in-random-order/','line_number':160,'multiline':False]
['text':' Find the GCD between I + 1 and N. If 1, they are coprimes.','line_number':164,'multiline':False]
['text':' Initial context assignment is done in a plain round-robin fashion.','line_number':183,'multiline':False]
['text':' TSDs is an array of locks which is not supported for marking thread-safety','line_number':189,'multiline':False]
['text':' capability.','line_number':190,'multiline':False]
['text':' Use the Precedence of the current TSD as our random seed. Since we are','line_number':193,'multiline':False]
['text':' in the slow path, it means that tryLock failed, and as a result it's','line_number':194,'multiline':False]
['text':' very likely that said Precedence is non-zero.','line_number':195,'multiline':False]
['text':' Go randomly through at most 4 contexts and find a candidate.','line_number':208,'multiline':False]
['text':' A 0 precedence here means another thread just locked this TSD.','line_number':215,'multiline':False]
['text':' Last resort, stick with the current one.','line_number':230,'multiline':False]
['text':' namespace scudo','line_number':245,'multiline':False]
['text':' SCUDO_TSD_SHARED_H_','line_number':247,'multiline':False]
