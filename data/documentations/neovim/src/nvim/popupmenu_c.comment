['text':'/ @file popupmenu.c','line_number':1,'multiline':False]
['text':'/','line_number':2,'multiline':False]
['text':'/ Popup menu (PUM)','line_number':3,'multiline':False]
['text':' items of displayed pum','line_number':41,'multiline':False]
['text':' nr of items in "pum_array"','line_number':42,'multiline':False]
['text':' index of selected item or -1','line_number':43,'multiline':False]
['text':' index of top item','line_number':44,'multiline':False]
['text':' nr of displayed pum items','line_number':46,'multiline':False]
['text':' width of displayed pum items','line_number':47,'multiline':False]
['text':' width of pum items base','line_number':48,'multiline':False]
['text':' width of pum items kind column','line_number':49,'multiline':False]
['text':' width of extra stuff','line_number':50,'multiline':False]
['text':' one when scrollbar present, else zero','line_number':51,'multiline':False]
['text':' true when popupmenu is drawn 'rightleft'','line_number':52,'multiline':False]
['text':' grid where position is defined','line_number':54,'multiline':False]
['text':' top row of pum','line_number':55,'multiline':False]
['text':' left column of pum','line_number':56,'multiline':False]
['text':' pum is drawn above cursor line','line_number':57,'multiline':False]
['text':' the screen was just cleared','line_number':62,'multiline':False]
['text':' Compute the width of the widest match and the widest extra.','line_number':71,'multiline':False]
['text':'/ Show the popup menu with items "array[size]".','line_number':98,'multiline':False]
['text':'/ "array" must remain valid until pum_undisplay() is called!','line_number':99,'multiline':False]
['text':'/ When possible the leftmost character is aligned with cursor column.','line_number':100,'multiline':False]
['text':'/ The menu appears above the screen line "row" or at "row" + "height" - 1.','line_number':101,'multiline':False]
['text':'/','line_number':102,'multiline':False]
['text':'/ @param array','line_number':103,'multiline':False]
['text':'/ @param size','line_number':104,'multiline':False]
['text':'/ @param selected index of initially selected item, none if out of range','line_number':105,'multiline':False]
['text':'/ @param array_changed if true, array contains different items since last call','line_number':106,'multiline':False]
['text':'/                      if false, a new item is selected, but the array','line_number':107,'multiline':False]
['text':'/                      is the same','line_number':108,'multiline':False]
['text':'/ @param cmd_startcol only for cmdline mode: column of completed match','line_number':109,'multiline':False]
['text':' To keep the code simple, we only allow changing the','line_number':118,'multiline':False]
['text':' draw mode when the popup menu is not being displayed','line_number':119,'multiline':False]
['text':' Mark the pum as visible already here,','line_number':127,'multiline':False]
['text':' to avoid that must_redraw is set when 'cursorcolumn' is on.','line_number':128,'multiline':False]
['text':' wildoptions=pum','line_number':135,'multiline':False]
['text':' anchor position: the start of the completed word','line_number':141,'multiline':False]
['text':' Figure out the size and position of the pum.','line_number':213,'multiline':False]
['text':' Put the pum below "pum_win_row" if possible.','line_number':224,'multiline':False]
['text':' If there are few lines decide on where there is more room.','line_number':225,'multiline':False]
['text':' pum above "pum_win_row"','line_number':228,'multiline':False]
['text':' for cmdline pum, no need for context lines','line_number':232,'multiline':False]
['text':' Leave two lines of context if possible','line_number':235,'multiline':False]
['text':' pum below "pum_win_row"','line_number':256,'multiline':False]
['text':' for cmdline pum, no need for context lines','line_number':260,'multiline':False]
['text':' Leave two lines of context if possible','line_number':263,'multiline':False]
['text':' don't display when we only have room for one line','line_number':284,'multiline':False]
['text':' If there is a preview window above avoid drawing over it.','line_number':289,'multiline':False]
['text':' Set "pum_size" before returning so that pum_set_event_info() gets the correct size.','line_number':296,'multiline':False]
['text':' if there are more items than room we need a scrollbar','line_number':306,'multiline':False]
['text':' align pum with "cursor_col"','line_number':322,'multiline':False]
['text':' start with the maximum space available','line_number':325,'multiline':False]
['text':' the width is more than needed for the items, make it','line_number':335,'multiline':False]
['text':' narrower','line_number':336,'multiline':False]
['text':' align pum edge with "cursor_col"','line_number':346,'multiline':False]
['text':' use full width to end of the screen','line_number':355,'multiline':False]
['text':' not enough room, will use what we have','line_number':389,'multiline':False]
['text':' truncate','line_number':398,'multiline':False]
['text':' Set selected item and redraw.  If the window size changed need to redo','line_number':409,'multiline':False]
['text':' the positioning.  Limit this to two times, when there is not much','line_number':410,'multiline':False]
['text':' room the window size will keep changing.','line_number':411,'multiline':False]
['text':'/ Redraw the popup menu, using "pum_first" and "pum_selected".','line_number':418,'multiline':False]
['text':'                         "word"       "kind"       "extra text"','line_number':430,'multiline':False]
['text':' Never display more than we have','line_number':484,'multiline':False]
['text':' start with "word" highlight','line_number':502,'multiline':False]
['text':' prepend a space if there is room','line_number':506,'multiline':False]
['text':' Display each entry, use two spaces for a Tab.','line_number':515,'multiline':False]
['text':' Do this 3 times:','line_number':516,'multiline':False]
['text':' 0 - main text','line_number':517,'multiline':False]
['text':' 1 - kind','line_number':518,'multiline':False]
['text':' 2 - extra info','line_number':519,'multiline':False]
['text':' Display the text that fits or comes before a Tab.','line_number':545,'multiline':False]
['text':' First convert it to printable characters.','line_number':546,'multiline':False]
['text':' Most left character requires 2-cells but only 1 cell','line_number':570,'multiline':False]
['text':' is available on screen.  Put a '<' on the left of the','line_number':571,'multiline':False]
['text':' pum item','line_number':572,'multiline':False]
['text':' use grid_line_puts() to truncate the text','line_number':582,'multiline':False]
['text':' Display two spaces for a Tab.','line_number':592,'multiline':False]
['text':' start text at next char','line_number':601,'multiline':False]
['text':' Stop when there is nothing more to display.','line_number':616,'multiline':False]
['text':'/ Set the index of the currently selected item.  The menu will scroll when','line_number':657,'multiline':False]
['text':'/ necessary.  When "n" is out of range don't scroll.','line_number':658,'multiline':False]
['text':'/ This may be repeated when the preview window is used:','line_number':659,'multiline':False]
['text':'/ "repeat" == 0: open preview window normally','line_number':660,'multiline':False]
['text':'/ "repeat" == 1: open preview window but don't set the size','line_number':661,'multiline':False]
['text':'/ "repeat" == 2: don't open preview window','line_number':662,'multiline':False]
['text':'/','line_number':663,'multiline':False]
['text':'/ @param n','line_number':664,'multiline':False]
['text':'/ @param repeat','line_number':665,'multiline':False]
['text':'/','line_number':666,'multiline':False]
['text':'/ @returns true when the window was resized and the location of the popup','line_number':667,'multiline':False]
['text':'/ menu must be recomputed.','line_number':668,'multiline':False]
['text':' scroll down; when we did a jump it's probably a PageUp then','line_number':678,'multiline':False]
['text':' scroll a whole page','line_number':679,'multiline':False]
['text':' scroll up; when we did a jump it's probably a PageDown then','line_number':691,'multiline':False]
['text':' scroll a whole page','line_number':692,'multiline':False]
['text':' Give a few lines of context when possible.','line_number':703,'multiline':False]
['text':' scroll down','line_number':710,'multiline':False]
['text':' scroll up','line_number':717,'multiline':False]
['text':' Show extra info in the preview window if there is something and','line_number':722,'multiline':False]
['text':' 'completeopt' contains "preview".','line_number':723,'multiline':False]
['text':' Skip this when tried twice already.','line_number':724,'multiline':False]
['text':' Skip this also when there is not much room.','line_number':725,'multiline':False]
['text':' NOTE: Be very careful not to sync undo!','line_number':726,'multiline':False]
['text':' Open a preview window.  3 lines by default.  Prefer','line_number':734,'multiline':False]
['text':' 'previewheight' if set and smaller.','line_number':735,'multiline':False]
['text':' Prevent undo sync here, if an autocommand syncs undo weird','line_number':742,'multiline':False]
['text':' things can happen to the undo tree.','line_number':743,'multiline':False]
['text':' Already a "wipeout" buffer, make it empty.','line_number':757,'multiline':False]
['text':' Don't want to sync undo in the current buffer.','line_number':762,'multiline':False]
['text':' Edit a new, empty buffer. Set options for a "wipeout"','line_number':768,'multiline':False]
['text':' buffer.','line_number':769,'multiline':False]
['text':' Increase the height of the preview window to show the','line_number':793,'multiline':False]
['text':' text, but no more than 'previewheight' lines.','line_number':794,'multiline':False]
['text':' When the first completion is done and the preview','line_number':817,'multiline':False]
['text':' window is not resized, skip the preview window's','line_number':818,'multiline':False]
['text':' status line redrawing.','line_number':819,'multiline':False]
['text':' Return cursor to where we were','line_number':824,'multiline':False]
['text':' When the preview window was resized we need to','line_number':828,'multiline':False]
['text':' update the view on the buffer.  Only go back to','line_number':829,'multiline':False]
['text':' the window when needed, otherwise it will always be','line_number':830,'multiline':False]
['text':' redrawn.','line_number':831,'multiline':False]
['text':' Update the screen before drawing the popup menu.','line_number':839,'multiline':False]
['text':' Enable updating the status lines.','line_number':840,'multiline':False]
['text':' TODO(bfredl): can simplify, get rid of the flag munging?','line_number':841,'multiline':False]
['text':' or at least eliminate extra redraw before win_enter()?','line_number':842,'multiline':False]
['text':' May need to update the screen again when there are','line_number':853,'multiline':False]
['text':' autocommands involved.','line_number':854,'multiline':False]
['text':'/ Undisplay the popup menu (later).','line_number':867,'multiline':False]
['text':' TODO(bfredl): consider keeping float grids allocated.','line_number':890,'multiline':False]
['text':'/ Clear the popup menu.  Currently only resets the offset to the first','line_number':898,'multiline':False]
['text':'/ displayed item.','line_number':899,'multiline':False]
['text':'/ @return true if the popup menu is displayed.','line_number':905,'multiline':False]
['text':'/ @return true if the popup menu is displayed and drawn on the grid.','line_number':911,'multiline':False]
['text':'/ Screen was cleared, need to redraw next time','line_number':917,'multiline':False]
['text':'/ Gets the height of the menu.','line_number':939,'multiline':False]
['text':'/','line_number':940,'multiline':False]
['text':'/ @return the height of the popup menu, the number of entries visible.','line_number':941,'multiline':False]
['text':'/ Only valid when pum_visible() returns true!','line_number':942,'multiline':False]
['text':'/ Add size information about the pum to "dict".','line_number':954,'multiline':False]
['text':' Enough space below the mouse row.','line_number':991,'multiline':False]
['text':' Show above the mouse row, reduce height if it does not fit.','line_number':998,'multiline':False]
['text':' Enough space to show at mouse column.','line_number':1008,'multiline':False]
['text':' Not enough space, right align with window.','line_number':1011,'multiline':False]
['text':'/ Select the pum entry at the mouse position.','line_number':1021,'multiline':False]
['text':'/ Execute the currently selected popup menu item.','line_number':1041,'multiline':False]
['text':'/ Open the terminal version of the popup menu and don't return until it is closed.','line_number':1056,'multiline':False]
['text':' When there are only Terminal mode menus, using "popup Edit" results in','line_number':1069,'multiline':False]
['text':' pum_size being zero.','line_number':1070,'multiline':False]
['text':' Make a copy of the text, the menu may be redefined in a callback.','line_number':1081,'multiline':False]
['text':' Pretend 'mousemoveevent' is set.','line_number':1102,'multiline':False]
['text':' show above cmdline area #23275','line_number':1109,'multiline':False]
['text':' Bail out when typing Esc, CTRL-C or some callback or <expr> mapping','line_number':1115,'multiline':False]
['text':' closed the popup menu.','line_number':1116,'multiline':False]
['text':' enter: select current item, if any, and close','line_number':1120,'multiline':False]
['text':' cursor up: select previous item','line_number':1124,'multiline':False]
['text':' cursor down: select next item','line_number':1132,'multiline':False]
['text':' Right mouse down: reposition the menu.','line_number':1140,'multiline':False]
['text':' mouse moved: select item in the mouse row','line_number':1144,'multiline':False]
['text':' left mouse click: select clicked item, if any, and close;','line_number':1147,'multiline':False]
['text':' right mouse release: select clicked item, close if any','line_number':1148,'multiline':False]
['text':' Hack: set mouse position at the cursor so that the menu pops up','line_number':1173,'multiline':False]
['text':' around there.','line_number':1174,'multiline':False]
