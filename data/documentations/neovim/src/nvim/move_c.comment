['text':' move.c: Functions for moving the cursor and scrolling text.','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' There are two ways to move the cursor:','line_number':3,'multiline':False]
['text':' 1. Move the cursor directly, the text is scrolled to keep the cursor in the','line_number':4,'multiline':False]
['text':'    window.','line_number':5,'multiline':False]
['text':' 2. Scroll the text, the cursor is moved into the text visible in the','line_number':6,'multiline':False]
['text':'    window.','line_number':7,'multiline':False]
['text':' The 'scrolloff' option makes this a bit complicated.','line_number':8,'multiline':False]
['text':' line number','line_number':51,'multiline':False]
['text':' filler lines','line_number':52,'multiline':False]
['text':' height of added line','line_number':53,'multiline':False]
['text':'/ Get the number of screen lines skipped with "wp->w_skipcol".','line_number':60,'multiline':False]
['text':'/ Return how many lines "lnum" will take on the screen, taking into account','line_number':76,'multiline':False]
['text':'/ whether it is the first line, whether w_skipcol is non-zero and limiting to','line_number':77,'multiline':False]
['text':'/ the window height.','line_number':78,'multiline':False]
['text':' Compute wp->w_botline for the current wp->w_topline.  Can be called after','line_number':91,'multiline':False]
['text':' wp->w_topline changed.','line_number':92,'multiline':False]
['text':' If w_cline_row is valid, start there.','line_number':98,'multiline':False]
['text':' Otherwise have to start at w_topline.','line_number':99,'multiline':False]
['text':' wp->w_botline is the line that is just below the window','line_number':127,'multiline':False]
['text':'/ Redraw when w_virtcol changes and 'cursorcolumn' is set or 'cursorlineopt'','line_number':137,'multiline':False]
['text':'/ contains "screenline" or when the "CurSearch" highlight is in use.','line_number':138,'multiline':False]
['text':'/ Also when concealing is on and 'concealcursor' is active.','line_number':139,'multiline':False]
['text':' When 'cursorcolumn' is set or "CurSearch" is in use','line_number':146,'multiline':False]
['text':' need to redraw with UPD_SOME_VALID.','line_number':147,'multiline':False]
['text':' When 'cursorlineopt' contains "screenline" need to redraw with UPD_VALID.','line_number':150,'multiline':False]
['text':' If the cursor moves horizontally when 'concealcursor' is active, then the','line_number':154,'multiline':False]
['text':' current line needs to be redrawn in order to calculate the correct','line_number':155,'multiline':False]
['text':' cursor position.','line_number':156,'multiline':False]
['text':'/ Calculates how much the 'listchars' "precedes" or 'smoothscroll' "<<<"','line_number':162,'multiline':False]
['text':'/ marker overlaps with buffer text for window "wp".','line_number':163,'multiline':False]
['text':'/ Parameter "extra2" should be the padding on the 2nd line, not the first','line_number':164,'multiline':False]
['text':'/ line.','line_number':165,'multiline':False]
['text':'/ Returns the number of columns of overlap with buffer text, excluding the','line_number':166,'multiline':False]
['text':'/ extra padding on the ledge.','line_number':167,'multiline':False]
['text':' There is no marker overlap when in showbreak mode, thus no need to','line_number':170,'multiline':False]
['text':' account for it.  See grid_put_linebuf().','line_number':171,'multiline':False]
['text':' Overlap when 'list' and 'listchars' "precedes" are set is 1.','line_number':176,'multiline':False]
['text':'/ Calculates the skipcol offset for window "wp" given how many','line_number':184,'multiline':False]
['text':'/ physical lines we want to scroll down.','line_number':185,'multiline':False]
['text':'/ Set wp->w_skipcol to zero and redraw later if needed.','line_number':200,'multiline':False]
['text':' Should use the least expensive way that displays all that changed.','line_number':206,'multiline':False]
['text':' UPD_NOT_VALID is too expensive, UPD_REDRAW_TOP does not redraw','line_number':207,'multiline':False]
['text':' enough when the top line gets another screen line.','line_number':208,'multiline':False]
['text':' Update curwin->w_topline to move the cursor onto the screen.','line_number':213,'multiline':False]
['text':' Cursor is updated instead when this is true for 'splitkeep'.','line_number':220,'multiline':False]
['text':' If there is no valid screen and when the window height is zero just use','line_number':225,'multiline':False]
['text':' the cursor line.','line_number':226,'multiline':False]
['text':' When dragging with the mouse, don't scroll that quickly','line_number':240,'multiline':False]
['text':' If the buffer is empty, always set topline to 1.','line_number':248,'multiline':False]
['text':' special case - file is empty','line_number':249,'multiline':False]
['text':' If the cursor is above or near the top of the window, scroll the window','line_number':260,'multiline':False]
['text':' to show the line the cursor is in, with 'scrolloff' context.','line_number':261,'multiline':False]
['text':' If the cursor is above topline, scrolling is always needed.','line_number':263,'multiline':False]
['text':' If the cursor is far below topline and there is no folding,','line_number':264,'multiline':False]
['text':' scrolling down is never needed.','line_number':265,'multiline':False]
['text':' Check that the cursor position is visible.  Add columns for','line_number':273,'multiline':False]
['text':' the marker displayed in the top-left if needed.','line_number':274,'multiline':False]
['text':' Check if there are more filler lines than allowed.','line_number':282,'multiline':False]
['text':' Count the number of logical lines between the cursor and','line_number':294,'multiline':False]
['text':' topline + p_so (approximation of how much will be','line_number':295,'multiline':False]
['text':' scrolled).','line_number':296,'multiline':False]
['text':' stop at end of file or when we know we are far off','line_number':301,'multiline':False]
['text':' If we weren't very close to begin with, we scroll to put the','line_number':312,'multiline':False]
['text':' cursor in the middle of the window.  Otherwise put the cursor','line_number':313,'multiline':False]
['text':' near the top of the window.','line_number':314,'multiline':False]
['text':' Make sure topline is the first line of a fold.','line_number':322,'multiline':False]
['text':' If the cursor is below the bottom of the window, scroll the window','line_number':328,'multiline':False]
['text':' to put the cursor on the window.','line_number':329,'multiline':False]
['text':' When w_botline is invalid, recompute it first, to avoid a redraw later.','line_number':330,'multiline':False]
['text':' If w_botline was approximated, we might need a redraw later in a few','line_number':331,'multiline':False]
['text':' cases, but we don't want to spend (a lot of) time recomputing w_botline','line_number':332,'multiline':False]
['text':' for every small change.','line_number':333,'multiline':False]
['text':' Cursor is (a few lines) above botline, check if there are','line_number':345,'multiline':False]
['text':' 'scrolloff' window lines below the cursor.  If not, need to','line_number':346,'multiline':False]
['text':' scroll.','line_number':347,'multiline':False]
['text':' In a fold go to its last line.','line_number':350,'multiline':False]
['text':' sufficient context, no need to scroll','line_number':364,'multiline':False]
['text':' sufficient context, no need to scroll','line_number':368,'multiline':False]
['text':' Count the number of logical lines between the cursor and','line_number':375,'multiline':False]
['text':' botline - p_so (approximation of how much will be','line_number':376,'multiline':False]
['text':' scrolled).','line_number':377,'multiline':False]
['text':' stop at end of file or when we know we are far off','line_number':381,'multiline':False]
['text':' Need to redraw when topline changed.','line_number':402,'multiline':False]
['text':' When 'smoothscroll' is not set, should reset w_skipcol.','line_number':408,'multiline':False]
['text':' May need to set w_skipcol when cursor in w_topline.','line_number':415,'multiline':False]
['text':' Return the scrolljump value to use for the current window.','line_number':424,'multiline':False]
['text':' When 'scrolljump' is positive use it as-is.','line_number':425,'multiline':False]
['text':' When 'scrolljump' is negative use it as a percentage of the window height.','line_number':426,'multiline':False]
['text':' Return true when there are not 'scrolloff' lines above the cursor for the','line_number':433,'multiline':False]
['text':' current window.','line_number':434,'multiline':False]
['text':' always have this context','line_number':443,'multiline':False]
['text':' Count the visible screen lines above the cursor line.','line_number':444,'multiline':False]
['text':' Stop when included a line above the window.','line_number':447,'multiline':False]
['text':'/ Update w_curswant.','line_number':462,'multiline':False]
['text':'/ Update w_curswant if w_set_curswant is set.','line_number':470,'multiline':False]
['text':' Check if the cursor has moved.  Set the w_valid flag accordingly.','line_number':478,'multiline':False]
['text':' Call this function when some window settings have changed, which require','line_number':507,'multiline':False]
['text':' the cursor position, botline and topline to be recomputed and the window to','line_number':508,'multiline':False]
['text':' be redrawn.  E.g, when changing the 'wrap' option or folding.','line_number':509,'multiline':False]
['text':' Set wp->w_topline to a certain number.','line_number':523,'multiline':False]
['text':' go to first of folded lines','line_number':528,'multiline':False]
['text':' Approximate the value of w_botline','line_number':530,'multiline':False]
['text':' Keep the filler lines when the topline didn't change.','line_number':535,'multiline':False]
['text':' Don't set VALID_TOPLINE here, 'scrolloff' needs to be checked.','line_number':539,'multiline':False]
['text':'/ Call this function when the length of the cursor line (in screen','line_number':543,'multiline':False]
['text':'/ characters) has changed, and the change is before the cursor.','line_number':544,'multiline':False]
['text':'/ If the line length changed the number of screen lines might change,','line_number':545,'multiline':False]
['text':'/ requiring updating w_topline.  That may also invalidate w_crow.','line_number':546,'multiline':False]
['text':'/ Need to take care of w_botline separately!','line_number':547,'multiline':False]
['text':' Call this function when the length of a line (in screen characters) above','line_number':554,'multiline':False]
['text':' the cursor have changed.','line_number':555,'multiline':False]
['text':' Need to take care of w_botline separately!','line_number':556,'multiline':False]
['text':'/ Display of line has changed for "buf", invalidate cursor position and','line_number':569,'multiline':False]
['text':'/ w_botline.','line_number':570,'multiline':False]
['text':' Make sure the value of curwin->w_botline is valid.','line_number':582,'multiline':False]
['text':' Mark wp->w_botline as invalid (because of some change in the buffer).','line_number':590,'multiline':False]
['text':' Return true if curwin->w_wrow and curwin->w_wcol are valid.','line_number':601,'multiline':False]
['text':' Validate cursor position.  Makes sure w_wrow and w_wcol are valid.','line_number':608,'multiline':False]
['text':' w_topline must be valid, you may need to call update_topline() first!','line_number':609,'multiline':False]
['text':' Compute wp->w_cline_row and wp->w_cline_height, based on the current value','line_number':619,'multiline':False]
['text':' of wp->w_topline.','line_number':620,'multiline':False]
['text':' Check if wp->w_lines[].wl_size is invalid','line_number':623,'multiline':False]
['text':' skip changed or deleted lines','line_number':633,'multiline':False]
['text':' Check for newly inserted lines below this row, in which','line_number':636,'multiline':False]
['text':' case we need to check for folded lines.','line_number':637,'multiline':False]
['text':' hold at inserted lines','line_number':645,'multiline':False]
['text':' Cursor inside folded lines, don't count this row','line_number':650,'multiline':False]
['text':' a line that is too long to fit on the last screen line','line_number':677,'multiline':False]
['text':' Validate curwin->w_virtcol only.','line_number':691,'multiline':False]
['text':' Validate wp->w_virtcol only.','line_number':697,'multiline':False]
['text':' Validate curwin->w_cline_height only.','line_number':711,'multiline':False]
['text':' Validate w_wcol and w_virtcol only.','line_number':726,'multiline':False]
['text':' long line wrapping, adjust curwin->w_wrow','line_number':740,'multiline':False]
['text':' use same formula as what is used in curs_columns()','line_number':743,'multiline':False]
['text':' Compute offset of a window, occupied by absolute or relative line number,','line_number':756,'multiline':False]
['text':' fold column and sign column (these don't move when scrolling horizontally).','line_number':757,'multiline':False]
['text':' Return the difference in column offset for the second screen line of a','line_number':771,'multiline':False]
['text':' wrapped line.  It's positive if 'number' or 'relativenumber' is on and 'n'','line_number':772,'multiline':False]
['text':' is in 'cpoptions'.','line_number':773,'multiline':False]
['text':' Compute wp->w_wcol and wp->w_virtcol.','line_number':788,'multiline':False]
['text':' Also updates wp->w_wrow and wp->w_cline_row.','line_number':789,'multiline':False]
['text':' Also updates wp->w_leftcol.','line_number':790,'multiline':False]
['text':' @param may_scroll when true, may scroll horizontally','line_number':791,'multiline':False]
['text':' First make sure that w_topline is valid (after moving the cursor).','line_number':797,'multiline':False]
['text':' Next make sure that w_cline_row is valid.','line_number':800,'multiline':False]
['text':' Compute the number of virtual columns.','line_number':805,'multiline':False]
['text':' In a folded line the cursor is always in the first column','line_number':807,'multiline':False]
['text':' remove '$' from change command when cursor moves onto it','line_number':813,'multiline':False]
['text':' Now compute w_wrow, counting screen lines from w_cline_row.','line_number':822,'multiline':False]
['text':' text width for first screen line','line_number':826,'multiline':False]
['text':' text width for second and later screen line','line_number':827,'multiline':False]
['text':' No room for text, put cursor in last char of window.','line_number':830,'multiline':False]
['text':' If not wrapping, the last non-empty line.','line_number':831,'multiline':False]
['text':' skip columns that are not visible','line_number':841,'multiline':False]
['text':' Deduct by multiples of width2.  This allows the long line wrapping','line_number':845,'multiline':False]
['text':' formula below to correctly calculate the w_wcol value when wrapping.','line_number':846,'multiline':False]
['text':' long line wrapping, adjust wp->w_wrow','line_number':856,'multiline':False]
['text':' this same formula is used in validate_cursor_col()','line_number':858,'multiline':False]
['text':' No line wrapping: compute wp->w_leftcol if scrolling is on and line','line_number':865,'multiline':False]
['text':' is not folded.','line_number':866,'multiline':False]
['text':' If scrolling is off, wp->w_leftcol is assumed to be 0','line_number':867,'multiline':False]
['text':' If Cursor is left of the screen, scroll rightwards.','line_number':869,'multiline':False]
['text':' If Cursor is right of the screen, scroll leftwards','line_number':870,'multiline':False]
['text':' If we get closer to the edge than 'sidescrolloff', scroll a little','line_number':871,'multiline':False]
['text':' extra','line_number':872,'multiline':False]
['text':' When far off or not enough room on either side, put cursor in','line_number':879,'multiline':False]
['text':' middle of window.','line_number':880,'multiline':False]
['text':' screen has to be redrawn with new wp->w_leftcol','line_number':901,'multiline':False]
['text':' Skip over filler lines.  At the top use w_topfill, there','line_number':912,'multiline':False]
['text':' may be some filler lines above the window.','line_number':913,'multiline':False]
['text':' Cursor past end of screen.  Happens with a single line that does','line_number':932,'multiline':False]
['text':' not fit on screen.  Find a skipcol to show the text around the','line_number':933,'multiline':False]
['text':' cursor.  Avoid scrolling all the time. compute value of "extra":','line_number':934,'multiline':False]
['text':' 1: Less than "p_so" lines above','line_number':935,'multiline':False]
['text':' 2: Less than "p_so" lines below','line_number':936,'multiline':False]
['text':' 3: both of them','line_number':937,'multiline':False]
['text':' Compute last display line of the buffer line that we want at the','line_number':942,'multiline':False]
['text':' bottom of the window.','line_number':943,'multiline':False]
['text':' not enough room for 'scrolloff', put cursor in the middle','line_number':959,'multiline':False]
['text':' don't skip more than necessary','line_number':966,'multiline':False]
['text':' less than 'scrolloff' lines above, decrease skipcol','line_number':976,'multiline':False]
['text':' less than 'scrolloff' lines below, increase skipcol','line_number':986,'multiline':False]
['text':' adjust w_wrow for the changed w_skipcol','line_number':996,'multiline':False]
['text':' small window, make sure cursor is in it','line_number':1004,'multiline':False]
['text':' extra could be either positive or negative','line_number':1010,'multiline':False]
['text':' now w_leftcol and w_skipcol are valid, avoid check_cursor_moved()','line_number':1022,'multiline':False]
['text':' thinking otherwise','line_number':1023,'multiline':False]
['text':'/ Compute the screen position of text character at "pos" in window "wp"','line_number':1030,'multiline':False]
['text':'/ The resulting values are one-based, zero when character is not visible.','line_number':1031,'multiline':False]
['text':'/','line_number':1032,'multiline':False]
['text':'/ @param[out] rowp screen row','line_number':1033,'multiline':False]
['text':'/ @param[out] scolp start screen column','line_number':1034,'multiline':False]
['text':'/ @param[out] ccolp cursor screen column','line_number':1035,'multiline':False]
['text':'/ @param[out] ecolp end screen column','line_number':1036,'multiline':False]
['text':' "row" should be the screen line where line "lnum" begins, which can','line_number':1050,'multiline':False]
['text':' be negative if "lnum" is "w_topline" and "w_skipcol" is non-zero.','line_number':1051,'multiline':False]
['text':' Add filler lines above this buffer line.','line_number':1053,'multiline':False]
['text':' similar to what is done in validate_cursor_col()','line_number':1073,'multiline':False]
['text':' long line wrapping, adjust row','line_number':1078,'multiline':False]
['text':' use same formula as what is used in curs_columns()','line_number':1080,'multiline':False]
['text':' character is left, right or below of the window','line_number':1092,'multiline':False]
['text':'/ "screenpos({winid}, {lnum}, {col})" function','line_number':1108,'multiline':False]
['text':'/ Convert a virtual (screen) column to a character column.  The first column','line_number':1141,'multiline':False]
['text':'/ is one.  For a multibyte character, the column number of the first byte is','line_number':1142,'multiline':False]
['text':'/ returned.','line_number':1143,'multiline':False]
['text':' empty line','line_number':1151,'multiline':False]
['text':' Move to the first byte of the last char.','line_number':1154,'multiline':False]
['text':'/ "virtcol2col({winid}, {lnum}, {col})" function','line_number':1160,'multiline':False]
['text':'/ Scroll the current window down by "line_count" logical lines.  "CTRL-Y"','line_number':1190,'multiline':False]
['text':'/','line_number':1191,'multiline':False]
['text':'/ @param line_count number of lines to scroll','line_number':1192,'multiline':False]
['text':'/ @param byfold if true, count a closed fold as one line','line_number':1193,'multiline':False]
['text':' total # of physical lines done','line_number':1196,'multiline':False]
['text':' Make sure w_topline is at the first of a sequence of folded lines.','line_number':1206,'multiline':False]
['text':' w_wrow needs to be valid','line_number':1208,'multiline':False]
['text':' break when at the very top','line_number':1215,'multiline':False]
['text':' scroll a screen line down','line_number':1220,'multiline':False]
['text':' scroll a text line down','line_number':1229,'multiline':False]
['text':' A sequence of folded lines only counts for one logical line','line_number':1233,'multiline':False]
['text':' approximate w_botline','line_number':1262,'multiline':False]
['text':' keep w_wrow updated','line_number':1265,'multiline':False]
['text':' keep w_cline_row updated','line_number':1266,'multiline':False]
['text':' Compute the row number of the last row of the cursor line','line_number':1273,'multiline':False]
['text':' and move the cursor onto the displayed part of the window.','line_number':1274,'multiline':False]
['text':' Move cursor to first line of closed fold.','line_number':1300,'multiline':False]
['text':' make sure the cursor is in the visible text','line_number':1309,'multiline':False]
['text':'/ Scroll the current window up by "line_count" logical lines.  "CTRL-E"','line_number':1328,'multiline':False]
['text':'/','line_number':1329,'multiline':False]
['text':'/ @param line_count number of lines to scroll','line_number':1330,'multiline':False]
['text':'/ @param byfold if true, count a closed fold as one line','line_number':1331,'multiline':False]
['text':' diff mode: first consume "topfill"','line_number':1348,'multiline':False]
['text':' 'smoothscroll': increase "w_skipcol" until it goes over the end of','line_number':1349,'multiline':False]
['text':' the line, then advance to the next line.','line_number':1350,'multiline':False]
['text':' folding: count each sequence of folded lines as one logical line.','line_number':1351,'multiline':False]
['text':' for a closed fold: go to the last line in the fold','line_number':1358,'multiline':False]
['text':' 'smoothscroll': increase "w_skipcol" until it goes over','line_number':1362,'multiline':False]
['text':' the end of the line, then advance to the next line.','line_number':1363,'multiline':False]
['text':' at the last screen line, can't scroll further','line_number':1368,'multiline':False]
['text':' approximate w_botline','line_number':1382,'multiline':False]
['text':' need to redraw more, because wl_size of the (new) topline may','line_number':1395,'multiline':False]
['text':' now be invalid','line_number':1396,'multiline':False]
['text':' approximate w_botline','line_number':1401,'multiline':False]
['text':' Make sure w_topline is at the first of a sequence of folded lines.','line_number':1414,'multiline':False]
['text':' If we have non-zero scrolloff, just ignore the marker as we are','line_number':1437,'multiline':False]
['text':' going past it anyway.','line_number':1438,'multiline':False]
['text':' Make sure the cursor is in a visible part of the line, taking','line_number':1441,'multiline':False]
['text':' 'scrolloff' into account, but using screen lines.','line_number':1442,'multiline':False]
['text':' If there are not enough screen lines put the cursor in the middle.','line_number':1443,'multiline':False]
['text':' validate_virtcol() marked various things as valid, but after','line_number':1460,'multiline':False]
['text':' moving the cursor they need to be recomputed','line_number':1461,'multiline':False]
['text':'/ Called after changing the cursor column: make sure that curwin->w_skipcol is','line_number':1471,'multiline':False]
['text':'/ valid for 'smoothscroll'.','line_number':1472,'multiline':False]
['text':' no text will be displayed','line_number':1481,'multiline':False]
['text':' w_cline_height may be capped at w_height_inner, check there aren't','line_number':1490,'multiline':False]
['text':' actually more lines.','line_number':1491,'multiline':False]
['text':' the line just fits in the window, don't scroll','line_number':1493,'multiline':False]
['text':' scroll a screen line down','line_number':1502,'multiline':False]
['text':' don't scroll in the other direction now','line_number':1513,'multiline':False]
['text':'/ Don't end up with too many filler lines in the window.','line_number':1536,'multiline':False]
['text':'/','line_number':1537,'multiline':False]
['text':'/ @param down  when true scroll down when not enough space','line_number':1538,'multiline':False]
['text':' Use as many filler lines as possible for w_topline.  Make sure w_topline','line_number':1558,'multiline':False]
['text':' is still visible.','line_number':1559,'multiline':False]
['text':' Scroll the screen one line down, but don't do it if it would move the','line_number':1573,'multiline':False]
['text':' cursor off the screen.','line_number':1574,'multiline':False]
['text':' w_wrow needs to be valid','line_number':1584,'multiline':False]
['text':' Compute the row number of the last row of the cursor line','line_number':1586,'multiline':False]
['text':' and make sure it doesn't go off the screen. Make sure the cursor','line_number':1587,'multiline':False]
['text':' doesn't go past 'scrolloff' lines from the screen end.','line_number':1588,'multiline':False]
['text':' approximate w_botline','line_number':1610,'multiline':False]
['text':' Scroll the screen one line up, but don't do it if it would move the cursor','line_number':1615,'multiline':False]
['text':' off the screen.','line_number':1616,'multiline':False]
['text':' w_wrow needs to be valid','line_number':1624,'multiline':False]
['text':' Compute the row number of the first row of the cursor line','line_number':1626,'multiline':False]
['text':' and make sure it doesn't go off the screen. Make sure the cursor','line_number':1627,'multiline':False]
['text':' doesn't go before 'scrolloff' lines from the screen start.','line_number':1628,'multiline':False]
['text':' approximate w_botline','line_number':1643,'multiline':False]
['text':' Add one line above "lp->lnum".  This can be a filler line, a closed fold or','line_number':1648,'multiline':False]
['text':' a (wrapped) text line.  Uses and sets "lp->fill".','line_number':1649,'multiline':False]
['text':' Returns the height of the added line in "lp->height".','line_number':1650,'multiline':False]
['text':' Lines above the first one are incredibly high: MAXCOL.','line_number':1651,'multiline':False]
['text':' When "winheight" is true limit to window height.','line_number':1652,'multiline':False]
['text':' Add a filler line','line_number':1656,'multiline':False]
['text':' Add a closed fold','line_number':1665,'multiline':False]
['text':' Add one line below "lp->lnum".  This can be a filler line, a closed fold or','line_number':1678,'multiline':False]
['text':' a (wrapped) text line.  Uses and sets "lp->fill".','line_number':1679,'multiline':False]
['text':' Returns the height of the added line in "lp->height".','line_number':1680,'multiline':False]
['text':' Lines below the last one are incredibly high.','line_number':1681,'multiline':False]
['text':' Add a filler line.','line_number':1685,'multiline':False]
['text':' Add a closed fold','line_number':1695,'multiline':False]
['text':' Switch from including filler lines below lp->lnum to including filler','line_number':1703,'multiline':False]
['text':' lines above loff.lnum + 1.  This keeps pointing to the same line.','line_number':1704,'multiline':False]
['text':' When there are no filler lines nothing changes.','line_number':1705,'multiline':False]
['text':' Switch from including filler lines above lp->lnum to including filler','line_number':1714,'multiline':False]
['text':' lines below loff.lnum - 1.  This keeps pointing to the same line.','line_number':1715,'multiline':False]
['text':' When there are no filler lines nothing changes.','line_number':1716,'multiline':False]
['text':' Recompute topline to put the cursor at the top of the window.','line_number':1725,'multiline':False]
['text':' Scroll at least "min_scroll" lines.','line_number':1726,'multiline':False]
['text':' If "always" is true, always set topline (for "zt").','line_number':1727,'multiline':False]
['text':' Decrease topline until:','line_number':1739,'multiline':False]
['text':' - it has become 1','line_number':1740,'multiline':False]
['text':' - (part of) the cursor line is moved off the screen or','line_number':1741,'multiline':False]
['text':' - moved at least 'scrolljump' lines and','line_number':1742,'multiline':False]
['text':' - at least 'scrolloff' lines above and below the cursor','line_number':1743,'multiline':False]
['text':' includes filler lines above','line_number':1746,'multiline':False]
['text':' just above displayed lines','line_number':1751,'multiline':False]
['text':' just below displayed lines','line_number':1752,'multiline':False]
['text':' "used" already contains the number of filler lines above, don't add it','line_number':1762,'multiline':False]
['text':' again.','line_number':1763,'multiline':False]
['text':' Hide filler lines above cursor line by adding them to "extra".','line_number':1764,'multiline':False]
['text':' Check if the lines from "top" to "bot" fit in the window.  If they do,','line_number':1767,'multiline':False]
['text':' set new_topline and advance "top" and "bot" to include more lines.','line_number':1768,'multiline':False]
['text':' count one logical line for a sequence of folded lines','line_number':1771,'multiline':False]
['text':' If scrolling is needed, scroll at least 'sj' lines.','line_number':1777,'multiline':False]
['text':' count one logical line for a sequence of folded lines','line_number':1785,'multiline':False]
['text':' If we don't have enough space, put cursor in the middle.','line_number':1801,'multiline':False]
['text':' This makes sure we get the same position when using "k" and "j"','line_number':1802,'multiline':False]
['text':' in a small window.','line_number':1803,'multiline':False]
['text':' If "always" is false, only adjust topline to a lower value, higher','line_number':1807,'multiline':False]
['text':' value may happen with wrapping lines.','line_number':1808,'multiline':False]
['text':' TODO(vim): if the line doesn't fit may optimize w_skipcol instead','line_number':1828,'multiline':False]
['text':' of making it zero','line_number':1829,'multiline':False]
['text':' Set w_empty_rows and w_filler_rows for window "wp", having used up "used"','line_number':1844,'multiline':False]
['text':' screen lines for text lines.','line_number':1845,'multiline':False]
['text':' single line that doesn't fit','line_number':1850,'multiline':False]
['text':'/ Recompute topline to put the cursor at the bottom of the window.','line_number':1865,'multiline':False]
['text':'/ When scrolling scroll at least "min_scroll" lines.','line_number':1866,'multiline':False]
['text':'/ If "set_topbot" is true, set topline and botline first (for "zb").','line_number':1867,'multiline':False]
['text':'/ This is messy stuff!!!','line_number':1868,'multiline':False]
['text':' Cursor Line Number','line_number':1878,'multiline':False]
['text':' 'smoothscroll' and 'wrap' are set.  The above line is','line_number':1897,'multiline':False]
['text':' too long to show in its entirety, so we show just a part','line_number':1898,'multiline':False]
['text':' of it.','line_number':1899,'multiline':False]
['text':' The lines of the cursor line itself are always used.','line_number':1931,'multiline':False]
['text':' If the cursor is on or below botline, we will at least scroll by the','line_number':1935,'multiline':False]
['text':' height of the cursor line, which is "used".  Correct for empty lines,','line_number':1936,'multiline':False]
['text':' which are really part of botline.','line_number':1937,'multiline':False]
['text':' 'smoothscroll' and 'wrap' are set.','line_number':1944,'multiline':False]
['text':' Calculate how many screen lines the current top line of window','line_number':1945,'multiline':False]
['text':' occupies. If it is occupying more than the entire window, we','line_number':1946,'multiline':False]
['text':' need to scroll the additional clipped lines to scroll past the','line_number':1947,'multiline':False]
['text':' top line before we can move on to the other lines.','line_number':1948,'multiline':False]
['text':' similar formula is used in curs_columns()','line_number':1954,'multiline':False]
['text':' Stop counting lines to scroll when','line_number':1970,'multiline':False]
['text':' - hitting start of the file','line_number':1971,'multiline':False]
['text':' - scrolled nothing or at least 'sj' lines','line_number':1972,'multiline':False]
['text':' - at least 'so' lines below the cursor','line_number':1973,'multiline':False]
['text':' - lines between botline and cursor have been counted','line_number':1974,'multiline':False]
['text':' Stop when scrolled nothing or at least "min_scroll", found "extra"','line_number':1986,'multiline':False]
['text':' context for 'scrolloff' and counted all lines below the window.','line_number':1987,'multiline':False]
['text':' Add one line above','line_number':1997,'multiline':False]
['text':' Count screen lines that are below the window.','line_number':2010,'multiline':False]
['text':' Add one line below','line_number':2019,'multiline':False]
['text':' Count screen lines that are below the window.','line_number':2031,'multiline':False]
['text':' curwin->w_empty_rows is larger, no need to scroll','line_number':2043,'multiline':False]
['text':' more than a screenfull, don't scroll but redraw','line_number':2046,'multiline':False]
['text':' scroll minimal number of lines','line_number':2049,'multiline':False]
['text':' below curwin->w_botline, don't scroll','line_number':2060,'multiline':False]
['text':' Scroll up if the cursor is off the bottom of the screen a bit.','line_number':2065,'multiline':False]
['text':' Otherwise put it at 1/2 of the screen.','line_number':2066,'multiline':False]
['text':' TODO(vim):','line_number':2071,'multiline':False]
['text':' If topline didn't change we need to restore w_botline and w_empty_rows','line_number':2077,'multiline':False]
['text':' (we changed them).','line_number':2078,'multiline':False]
['text':' If topline did change, update_screen() will set botline.','line_number':2079,'multiline':False]
['text':'/ Recompute topline to put the cursor halfway across the window','line_number':2089,'multiline':False]
['text':'/','line_number':2090,'multiline':False]
['text':'/ @param atend if true, also put the cursor halfway to the end of the file.','line_number':2091,'multiline':False]
['text':'/','line_number':2092,'multiline':False]
['text':' 'smoothscroll' and 'wrap' are set','line_number':2108,'multiline':False]
['text':' If using smoothscroll, we can precisely scroll to the','line_number':2119,'multiline':False]
['text':' exact point where the cursor is halfway down the screen.','line_number':2120,'multiline':False]
['text':' If not using smoothscroll, we have to iteratively find how many','line_number':2144,'multiline':False]
['text':' lines to scroll down to roughly fit the cursor.','line_number':2145,'multiline':False]
['text':' This may not be right in the middle if the lines'','line_number':2146,'multiline':False]
['text':' physical height > 1 (e.g. 'wrap' is on).','line_number':2147,'multiline':False]
['text':' Depending on "prefer_above" we add a line above or below first.','line_number':2149,'multiline':False]
['text':' Loop twice to avoid duplicating code.','line_number':2150,'multiline':False]
['text':' add a line below the cursor','line_number':2158,'multiline':False]
['text':' count a "~" line','line_number':2168,'multiline':False]
['text':' add a line above the cursor','line_number':2178,'multiline':False]
['text':' Correct the cursor position so that it is in a part of the screen at least','line_number':2218,'multiline':False]
['text':' 'so' lines from the top and bottom, if possible.','line_number':2219,'multiline':False]
['text':' If not possible, put it at the same position as scroll_cursor_halfway().','line_number':2220,'multiline':False]
['text':' When called topline must be valid!','line_number':2221,'multiline':False]
['text':' How many lines we would like to have above/below the cursor depends on','line_number':2224,'multiline':False]
['text':' whether the first/last line of the file is on screen.','line_number':2225,'multiline':False]
['text':' If there are sufficient file-lines above and below the cursor, we can','line_number':2249,'multiline':False]
['text':' return now.','line_number':2250,'multiline':False]
['text':' Cursor Line Number','line_number':2251,'multiline':False]
['text':' 'smoothscroll' is active','line_number':2259,'multiline':False]
['text':' The cursor line just fits in the window, don't scroll.','line_number':2261,'multiline':False]
['text':' TODO(vim): If the cursor line doesn't fit in the window then only adjust w_skipcol.','line_number':2265,'multiline':False]
['text':' Narrow down the area where the cursor can be put by taking lines from','line_number':2268,'multiline':False]
['text':' the top and the bottom until:','line_number':2269,'multiline':False]
['text':' - the desired context lines are found','line_number':2270,'multiline':False]
['text':' - the lines from the top is past the lines from the bottom','line_number':2271,'multiline':False]
['text':' count filler lines as context','line_number':2274,'multiline':False]
['text':' screen lines above topline','line_number':2275,'multiline':False]
['text':' screen lines below botline','line_number':2276,'multiline':False]
['text':' Count filler lines below this line as context.','line_number':2293,'multiline':False]
['text':'/ Move screen "count" pages up ("dir" is BACKWARD) or down ("dir" is FORWARD)','line_number':2320,'multiline':False]
['text':'/ and update the screen.','line_number':2321,'multiline':False]
['text':'/','line_number':2322,'multiline':False]
['text':'/ @return  FAIL for failure, OK otherwise.','line_number':2323,'multiline':False]
['text':' nothing to do','line_number':2331,'multiline':False]
['text':' It's an error to move a page up when the first line is already on','line_number':2338,'multiline':False]
['text':' the screen. It's an error to move a page down when the last line','line_number':2339,'multiline':False]
['text':' is on the screen and the topline is 'scrolloff' lines from the','line_number':2340,'multiline':False]
['text':' last line.','line_number':2341,'multiline':False]
['text':' Vi compatible scrolling','line_number':2355,'multiline':False]
['text':' at end of file','line_number':2366,'multiline':False]
['text':' For the overlap, start with the line just below the window','line_number':2371,'multiline':False]
['text':' and go upwards.','line_number':2372,'multiline':False]
['text':' dir == BACKWARDS','line_number':2384,'multiline':False]
['text':' Include max number of filler lines','line_number':2386,'multiline':False]
['text':' Vi compatible scrolling (sort of)','line_number':2391,'multiline':False]
['text':' Find the line at the top of the window that is going to be the','line_number':2407,'multiline':False]
['text':' line at the bottom of the window.  Make sure this results in','line_number':2408,'multiline':False]
['text':' the same line as before doing CTRL-F.','line_number':2409,'multiline':False]
['text':' Find the line just above the new topline to get the right line','line_number':2422,'multiline':False]
['text':' at the bottom of the window.','line_number':2423,'multiline':False]
['text':' at begin of file','line_number':2433,'multiline':False]
['text':' Go two lines forward again.','line_number':2438,'multiline':False]
['text':' We're at the wrong end of a fold now.','line_number':2443,'multiline':False]
['text':' Always scroll at least one line.  Avoid getting stuck on','line_number':2446,'multiline':False]
['text':' very long lines.','line_number':2447,'multiline':False]
['text':' First try using the maximum number of filler lines.  If','line_number':2451,'multiline':False]
['text':' that's not enough, backup one line.','line_number':2452,'multiline':False]
['text':' Avoid the screen jumping up and down when 'scrolloff' is non-zero.','line_number':2483,'multiline':False]
['text':' But make sure we scroll at least one line (happens with mix of long','line_number':2484,'multiline':False]
['text':' wrapping lines and non-wrapping line).','line_number':2485,'multiline':False]
['text':' Decide how much overlap to use for page-up or page-down scrolling.','line_number':2502,'multiline':False]
['text':' This is symmetric, so that doing both keeps the same lines displayed.','line_number':2503,'multiline':False]
['text':' Three lines are examined:','line_number':2504,'multiline':False]
['text':'','line_number':2505,'multiline':False]
['text':'  before CTRL-F           after CTRL-F / before CTRL-B','line_number':2506,'multiline':False]
['text':'     etc.                     l1','line_number':2507,'multiline':False]
['text':'  l1 last but one line        ------------','line_number':2508,'multiline':False]
['text':'  l2 last text line           l2 top text line','line_number':2509,'multiline':False]
['text':'  -------------               l3 second text line','line_number':2510,'multiline':False]
['text':'  l3                             etc.','line_number':2511,'multiline':False]
['text':' no overlap','line_number':2523,'multiline':False]
['text':' no overlap','line_number':2533,'multiline':False]
['text':' no overlap','line_number':2545,'multiline':False]
['text':' 1 line overlap','line_number':2557,'multiline':False]
['text':' 2 lines overlap','line_number':2559,'multiline':False]
['text':' Scroll 'scroll' lines up or down.','line_number':2563,'multiline':False]
['text':' scroll the text up','line_number':2581,'multiline':False]
['text':' Correct w_botline for changed w_topline.','line_number':2606,'multiline':False]
['text':' Won't work when there are filler lines.','line_number':2607,'multiline':False]
['text':' When hit bottom of the file: move cursor down.','line_number':2624,'multiline':False]
['text':' scroll the text down','line_number':2639,'multiline':False]
['text':' When hit top of the file: move cursor up.','line_number':2664,'multiline':False]
['text':' Move cursor to first line of closed fold.','line_number':2679,'multiline':False]
['text':' loop through the cursorbound windows','line_number':2708,'multiline':False]
['text':' skip original window and windows with 'nocursorbind'','line_number':2713,'multiline':False]
['text':' Make sure the cursor is in a valid position.  Temporarily set','line_number':2726,'multiline':False]
['text':' "restart_edit" to allow the cursor to be beyond the EOL.','line_number':2727,'multiline':False]
['text':' Avoid a scroll here for the cursor position, 'scrollbind' is','line_number':2733,'multiline':False]
['text':' more important.','line_number':2734,'multiline':False]
['text':' Correct cursor for multi-byte character.','line_number':2741,'multiline':False]
['text':' Only scroll when 'scrollbind' hasn't done this.','line_number':2745,'multiline':False]
['text':' reset current-window','line_number':2753,'multiline':False]
