['text':'!/bin/bash','line_number':1,'multiline':False]
['text':' Copyright 2015 The Bazel Authors. All rights reserved.','line_number':3,'multiline':False]
['text':'','line_number':4,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':5,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':6,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':7,'multiline':False]
['text':'','line_number':8,'multiline':False]
['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':9,'multiline':False]
['text':'','line_number':10,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':11,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':12,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':13,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':14,'multiline':False]
['text':' limitations under the License.','line_number':15,'multiline':False]
['text':' Main deploy functions for the continuous build system','line_number':19,'multiline':False]
['text':' Just source this file and use the various method:','line_number':20,'multiline':False]
['text':'   bazel_build build bazel and run all its test','line_number':21,'multiline':False]
['text':'   bazel_release use the artifact generated by bazel_build and push','line_number':22,'multiline':False]
['text':'     them to github for a release and to GCS for a release candidate.','line_number':23,'multiline':False]
['text':'     Also prepare an email for announcing the release.','line_number':24,'multiline':False]
['text':' Load common.sh','line_number':26,'multiline':False]
['text':' if ! command -v ssmtp &>/dev/null; then','line_number':62,'multiline':False]
['text':'   echo "Required tool 'ssmtp' not found. Please install it via apt-get:"','line_number':63,'multiline':False]
['text':'   echo "apt-get install ssmtp"','line_number':64,'multiline':False]
['text':'   exit 1','line_number':65,'multiline':False]
['text':' fi','line_number':66,'multiline':False]
['text':' Generate a string from a template and a list of substitutions.','line_number':70,'multiline':False]
['text':' The first parameter is the template name and each subsequent parameter','line_number':71,'multiline':False]
['text':' is taken as a couple: first is the string the substitute and the second','line_number':72,'multiline':False]
['text':' is the result of the substitution.','line_number':73,'multiline':False]
['text':' >= 2 )); do','line_number':77,'multiline':False]
['text':' Generate the email for the release.','line_number':84,'multiline':False]
['text':' The first line of the output will be the recipient, the second line','line_number':85,'multiline':False]
['text':' the mail subjects and the subsequent lines the mail, its content.','line_number':86,'multiline':False]
['text':' If no planned release, then this function output will be empty.','line_number':87,'multiline':False]
['text':' Deploy a github release using a third party tool:','line_number':139,'multiline':False]
['text':'   https://github.com/c4milo/github-release','line_number':140,'multiline':False]
['text':' This methods expects the following arguments:','line_number':141,'multiline':False]
['text':'   $1..$n files generated by package_build (should not contains the README file)','line_number':142,'multiline':False]
['text':' Please set GITHUB_TOKEN to talk to the Github API.','line_number':143,'multiline':False]
['text':' Creates an index of the files contained in folder $1 in Markdown format.','line_number':158,'multiline':False]
['text':' First, add the release notes','line_number':160,'multiline':False]
['text':' Then, add the list of files','line_number':162,'multiline':False]
['text':' just list the sha256 ones','line_number':166,'multiline':False]
['text':' Creates an index of the files contained in folder $1 in HTML format.','line_number':172,'multiline':False]
['text':' Deploy a release candidate to Google Cloud Storage.','line_number':177,'multiline':False]
['text':' It requires to have gsutil installed. You can force the path to gsutil','line_number':178,'multiline':False]
['text':' by setting the GSUTIL environment variable.','line_number':179,'multiline':False]
['text':' This methods expects the following arguments:','line_number':180,'multiline':False]
['text':'   $1..$n files generated by package_build','line_number':181,'multiline':False]
['text':' Store rolling releases and their RCs in the same directory (for simplicity)','line_number':192,'multiline':False]
['text':' Set the content type on index.html so it isn't autodetected incorrectly by the browser.','line_number':199,'multiline':False]
['text':' Existing track -> remove everything before the previous release','line_number':210,'multiline':False]
['text':' New track: keep the entire content of the file','line_number':214,'multiline':False]
['text':' Make sure we use stronger digest algorithmã€‚','line_number':234,'multiline':False]
['text':' We use reprepro to generate the debian repository,','line_number':235,'multiline':False]
['text':' but there's no way to pass flags to gpg using reprepro, so writing it into','line_number':236,'multiline':False]
['text':' ~/.gnupg/gpg.conf','line_number':237,'multiline':False]
['text':' Generate new content of Release file','line_number':243,'multiline':False]
['text':' Print the headers of the original Release file','line_number':246,'multiline':False]
['text':' Re-generate hashes for all metadata fiels','line_number':257,'multiline':False]
['text':' Merge metadata with previous distribution','line_number':275,'multiline':False]
['text':' Download the metadata info from previous distribution','line_number':278,'multiline':False]
['text':' Merge Packages and Packages.gz file','line_number':282,'multiline':False]
['text':' Merge Sources.gz file','line_number':286,'multiline':False]
['text':' Update Release file','line_number':293,'multiline':False]
['text':' Generate new signatures for Release file','line_number':297,'multiline':False]
['text':' Create a debian package with version in package name and add it to the repo','line_number':303,'multiline':False]
['text':' Extract the original package','line_number':307,'multiline':False]
['text':' Get bazel version','line_number':311,'multiline':False]
['text':' Generate new control file','line_number':315,'multiline':False]
['text':' Rename the actual Bazel binary to bazel-${bazel_version}','line_number':319,'multiline':False]
['text':' Re-pack the debian package and add it to the repo','line_number':323,'multiline':False]
['text':' TODO(#2264): this is a quick workaround #2256, figure out a correct fix.','line_number':360,'multiline':False]
['text':' A wrapper around the release deployment methods.','line_number':410,'multiline':False]
