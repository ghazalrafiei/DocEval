['text':' pylint: disable=g-backslash-continuation','line_number':1,'multiline':False]
['text':' Copyright 2023 The Bazel Authors. All rights reserved.','line_number':2,'multiline':False]
['text':'','line_number':3,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':4,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':5,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':10,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':11,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':12,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':13,'multiline':False]
['text':' limitations under the License.','line_number':14,'multiline':False]
['text':' pylint: disable=g-long-ternary','line_number':15,'multiline':False]
['text':' In ipv6 only network, this has to be enabled.','line_number':44,'multiline':False]
['text':' 'startup --host_jvm_args=-Djava.net.preferIPv6Addresses=true',','line_number':45,'multiline':False]
['text':' We need to have BCR here to make sure built-in modules like','line_number':49,'multiline':False]
['text':' bazel_tools can work.','line_number':50,'multiline':False]
['text':' Set an explicit Java language version','line_number':53,'multiline':False]
['text':' TODO(pcloudy): investigate why this is needed, MODULE.bazel.lock is not','line_number':59,'multiline':False]
['text':' deterministic?','line_number':60,'multiline':False]
['text':' Add module 'sss' to the registry with dep on 'aaa'','line_number':64,'multiline':False]
['text':' Create a project with deps on 'sss'','line_number':66,'multiline':False]
['text':' Change registry -> update 'sss' module file (corrupt it)','line_number':83,'multiline':False]
['text':' Shutdown bazel to empty any cache of the deps tree','line_number':87,'multiline':False]
['text':' Runing again will try to get 'sss' which should produce an error','line_number':89,'multiline':False]
['text':' Add module 'sss' to the registry with dep on 'aaa'','line_number':110,'multiline':False]
['text':' Create a project with deps on 'sss'','line_number':112,'multiline':False]
['text':' Change registry -> update 'sss' module file (corrupt it)','line_number':128,'multiline':False]
['text':' Shutdown bazel to empty any cache of the deps tree','line_number':132,'multiline':False]
['text':' Running with the lockfile, should not recognize the registry changes','line_number':134,'multiline':False]
['text':' hence find no errors','line_number':135,'multiline':False]
['text':' Add module 'sss' to the registry with dep on 'aaa'','line_number':139,'multiline':False]
['text':' Create a project with deps on 'sss'','line_number':141,'multiline':False]
['text':' Change registry -> update 'sss' module file (corrupt it)','line_number':153,'multiline':False]
['text':' Shutdown bazel to empty any cache of the deps tree','line_number':157,'multiline':False]
['text':' Running with the lockfile, but adding a flag should cause resolution rerun','line_number':159,'multiline':False]
['text':' Run with updated module and a different flag','line_number':187,'multiline':False]
['text':' Run with updated module and a different flag','line_number':231,'multiline':False]
['text':' Only set one env var, to make sure null variables don't crash','line_number':292,'multiline':False]
['text':' Verify that the build succeeds using the lockfile.','line_number':350,'multiline':False]
['text':' Verify that the build succeeds using the lockfile.','line_number':396,'multiline':False]
['text':' Update extension usage to be non-isolated.','line_number':400,'multiline':False]
['text':' Verify that the build succeeds using the lockfile.','line_number':420,'multiline':False]
['text':' Test that the module extension stays in the lockfile (as long as it's','line_number':425,'multiline':False]
['text':' used in the module) even if it is not in the current build','line_number':426,'multiline':False]
['text':' Run again to make sure the resolution value is cached. So even if module','line_number':492,'multiline':False]
['text':' resolution doesn't rerun (its event is null), the lockfile is still','line_number':493,'multiline':False]
['text':' updated with the newest extension eval results','line_number':494,'multiline':False]
['text':' Update extension. Make sure that it is executed and updated in the','line_number':497,'multiline':False]
['text':' lockfile without errors (since it's already in the lockfile)','line_number':498,'multiline':False]
['text':' Update extension.','line_number':545,'multiline':False]
['text':' Test that the module extension is removed from the lockfile if it is not','line_number':577,'multiline':False]
['text':' used anymore','line_number':578,'multiline':False]
['text':' Paths to module files in error message always use forward slashes as','line_number':651,'multiline':False]
['text':' separators, even on Windows.','line_number':652,'multiline':False]
['text':' Run with same value, no evaluated','line_number':703,'multiline':False]
['text':' Run with different value, will be re-evaluated','line_number':708,'multiline':False]
['text':' If environ is set up in module extension, it should be re-evaluated if its','line_number':715,'multiline':False]
['text':' value changed','line_number':716,'multiline':False]
['text':' Shutdown bazel to empty cache and run with no changes','line_number':793,'multiline':False]
['text':' Update file and rerun','line_number':800,'multiline':False]
['text':' Set version to old','line_number':812,'multiline':False]
['text':' Run in error mode','line_number':820,'multiline':False]
['text':' Run again with update','line_number':836,'multiline':False]
['text':' The build fails due to the "invalid_dep" import, which is not','line_number':875,'multiline':False]
['text':' generated by the extension.','line_number':876,'multiline':False]
['text':' Warnings should still be shown.','line_number':877,'multiline':False]
['text':' Shut down bazel to empty cache and run with no changes to verify','line_number':902,'multiline':False]
['text':' that the warnings are still shown.','line_number':903,'multiline':False]
['text':' Fix the imports, which should not trigger a rerun of the extension','line_number':929,'multiline':False]
['text':' even though imports and locations changed.','line_number':930,'multiline':False]
['text':' Return the lockfile to the state it had before the','line_number':991,'multiline':False]
['text':' previous build: it didn't exist.','line_number':992,'multiline':False]
['text':' build to generate lockfile with this extension','line_number':1028,'multiline':False]
['text':' validate an extension named 'general' is created','line_number':1031,'multiline':False]
['text':' replace general extension with one depend on os and arch','line_number':1040,'multiline':False]
['text':' update extension to depend on OS and arch.','line_number':1046,'multiline':False]
['text':' build again to update the file','line_number':1065,'multiline':False]
['text':' assert win_key still exists and another one was added','line_number':1067,'multiline':False]
['text':' update extension to only depend on os only','line_number':1078,'multiline':False]
['text':' build again to update the file','line_number':1094,'multiline':False]
['text':' assert both win_key and the added_key before are deleted,','line_number':1096,'multiline':False]
['text':' and a new one without arch exists','line_number':1097,'multiline':False]
['text':' Trigger evaluation of all extensions.','line_number':1172,'multiline':False]
['text':' Shut down bazel to empty the cache, modify the MODULE.bazel','line_number':1211,'multiline':False]
['text':' file in a way that does not affect the resolution of ext_1,','line_number':1212,'multiline':False]
['text':' but requires rerunning module resolution and removes ext_3, then','line_number':1213,'multiline':False]
['text':' trigger module resolution without evaluating any of the extensions.','line_number':1214,'multiline':False]
['text':' The usages of ext_1 did not change.','line_number':1244,'multiline':False]
['text':' The usages of ext_2 changed, but the extension is not re-evaluated,','line_number':1252,'multiline':False]
['text':' so its previous, now stale resolution result must have been removed.','line_number':1253,'multiline':False]
['text':' The only usage of ext_3 was removed.','line_number':1255,'multiline':False]
['text':' Trigger evaluation of all remaining extensions.','line_number':1258,'multiline':False]
['text':' Shut down bazel to empty the cache, modify the MODULE.bazel','line_number':1404,'multiline':False]
['text':' file in a way that only changes the order of the bazel_deps','line_number':1405,'multiline':False]
['text':' on aaa and bbb, which results in their usages being ordered','line_number':1406,'multiline':False]
['text':' differently in module_ctx.modules, which is visible to the','line_number':1407,'multiline':False]
['text':' extension. Rerun a build that does not trigger evaluation','line_number':1408,'multiline':False]
['text':' of the extension.','line_number':1409,'multiline':False]
['text':' The order of usages of ext changed, but the extension','line_number':1428,'multiline':False]
['text':' is not re-evaluated, so its previous, now stale','line_number':1429,'multiline':False]
['text':' resolution result must have been removed.','line_number':1430,'multiline':False]
['text':' Trigger evaluation of the extension.','line_number':1433,'multiline':False]
['text':' tests that the repo spec in the lockfile is invalidated when the attr type','line_number':1451,'multiline':False]
['text':' changes, even if the MODULE.bazel file hasn't changed','line_number':1452,'multiline':False]
['text':' Shutdown bazel to make sure we rely on the lockfile and not skyframe','line_number':1477,'multiline':False]
['text':' changed attr type to label in the line above!','line_number':1486,'multiline':False]
