['text':' Copyright 2014 The Bazel Authors. All rights reserved.','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' Licensed under the Apache License, Version 2.0 (the "License");','line_number':3,'multiline':False]
['text':' you may not use this file except in compliance with the License.','line_number':4,'multiline':False]
['text':' You may obtain a copy of the License at','line_number':5,'multiline':False]
['text':'','line_number':6,'multiline':False]
['text':'    http://www.apache.org/licenses/LICENSE-2.0','line_number':7,'multiline':False]
['text':'','line_number':8,'multiline':False]
['text':' Unless required by applicable law or agreed to in writing, software','line_number':9,'multiline':False]
['text':' distributed under the License is distributed on an "AS IS" BASIS,','line_number':10,'multiline':False]
['text':' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.','line_number':11,'multiline':False]
['text':' See the License for the specific language governing permissions and','line_number':12,'multiline':False]
['text':' limitations under the License.','line_number':13,'multiline':False]
['text':' Linting disabled for this line because for google code we could use','line_number':36,'multiline':False]
['text':' absl::Mutex but we cannot yet because Bazel doesn't depend on absl.','line_number':37,'multiline':False]
['text':' NOLINT','line_number':38,'multiline':False]
['text':' See unix_jni.h.','line_number':72,'multiline':False]
['text':' Keep consistent with package-info.html!','line_number':74,'multiline':False]
['text':'','line_number':75,'multiline':False]
['text':' See /usr/include/asm/errno.h for UNIX error messages.','line_number':76,'multiline':False]
['text':' Select the most appropriate Java exception for a given UNIX error number.','line_number':77,'multiline':False]
['text':' (Consistent with errors generated by java.io package.)','line_number':78,'multiline':False]
['text':' Illegal pointer (unlikely; perhaps from or via FUSE?)','line_number':81,'multiline':False]
['text':' Local socket timed out','line_number':84,'multiline':False]
['text':' No such file or directory','line_number':87,'multiline':False]
['text':' Permission denied','line_number':90,'multiline':False]
['text':' Operation not permitted','line_number':94,'multiline':False]
['text':' Interrupted system call','line_number':98,'multiline':False]
['text':' Out of memory','line_number':101,'multiline':False]
['text':' Function not implemented','line_number':104,'multiline':False]
['text':' Operation not supported on transport endpoint','line_number':105,'multiline':False]
['text':' (aka EOPNOTSUPP)','line_number':106,'multiline':False]
['text':' Invalid argument','line_number':109,'multiline':False]
['text':' Too many symbolic links encountered','line_number':113,'multiline':False]
['text':' Bad file number or descriptor already closed.','line_number':117,'multiline':False]
['text':' File name too long','line_number':118,'multiline':False]
['text':' No data available','line_number':119,'multiline':False]
['text':' Multihop attempted','line_number':121,'multiline':False]
['text':' Link has been severed','line_number':123,'multiline':False]
['text':' I/O error','line_number':124,'multiline':False]
['text':' Try again','line_number':125,'multiline':False]
['text':' File too large','line_number':126,'multiline':False]
['text':' Broken pipe','line_number':127,'multiline':False]
['text':' No space left on device','line_number':128,'multiline':False]
['text':' Cross-device link','line_number':129,'multiline':False]
['text':' Read-only file system','line_number':130,'multiline':False]
['text':' File exists','line_number':131,'multiline':False]
['text':' Too many links','line_number':132,'multiline':False]
['text':' Is a directory','line_number':133,'multiline':False]
['text':' Not a directory','line_number':134,'multiline':False]
['text':' Directory not empty','line_number':135,'multiline':False]
['text':' Device or resource busy','line_number':136,'multiline':False]
['text':' File table overflow','line_number':137,'multiline':False]
['text':' Too many open files','line_number':138,'multiline':False]
['text':' Throws RuntimeExceptions for IO operations which fail unexpectedly.','line_number':150,'multiline':False]
['text':' See package-info.html.','line_number':151,'multiline':False]
['text':' Returns true iff an exception was thrown.','line_number':152,'multiline':False]
['text':' Illegal pointer--not likely','line_number':157,'multiline':False]
['text':' Bad file number','line_number':158,'multiline':False]
['text':' Out of memory','line_number':161,'multiline':False]
['text':' Operation not supported on transport endpoint','line_number':164,'multiline':False]
['text':' (aka EOPNOTSUPP)','line_number':165,'multiline':False]
['text':' TODO(bazel-team): split out all the FileSystem class's native methods','line_number':236,'multiline':False]
['text':' into a separate source file, fsutils.cc.','line_number':237,'multiline':False]
['text':' RAII class for jstring.','line_number':356,'multiline':False]
['text':' namespace','line_number':371,'multiline':False]
['text':' NOLINT','line_number':393,'multiline':False]
['text':' Save errno immediately, before we do any other syscalls','line_number':415,'multiline':False]
['text':' EACCES ENOENT ENOTDIR ELOOP -> IOException','line_number':418,'multiline':False]
['text':' ENAMETOOLONGEFAULT          -> RuntimeException','line_number':419,'multiline':False]
['text':' ENOMEM                      -> OutOfMemoryError','line_number':420,'multiline':False]
['text':' namespace','line_number':437,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    stat
 * Signature: (Ljava/lang/String;)Lcom/google/devtools/build/lib/unix/FileStatus;
 * Throws:    java.io.IOException
 ','line_number':439,'multiline':True]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    lstat
 * Signature: (Ljava/lang/String;)Lcom/google/devtools/build/lib/unix/FileStatus;
 * Throws:    java.io.IOException
 ','line_number':452,'multiline':True]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    statNullable
 * Signature: (Ljava/lang/String;)Lcom/google/devtools/build/lib/unix/FileStatus;
 ','line_number':465,'multiline':True]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    lstatNullable
 * Signature: (Ljava/lang/String;)Lcom/google/devtools/build/lib/unix/FileStatus;
 ','line_number':477,'multiline':True]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    utime
 * Signature: (Ljava/lang/String;ZII)V
 * Throws:    java.io.IOException
 ','line_number':489,'multiline':True]
['text':' EACCES ENOENT EMULTIHOP ELOOP EINTR','line_number':511,'multiline':False]
['text':' ENOTDIR ENOLINK EPERM EROFS   -> IOException','line_number':512,'multiline':False]
['text':' EFAULT ENAMETOOLONG           -> RuntimeException','line_number':513,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    umask
 * Signature: (I)I
 ','line_number':520,'multiline':True]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    mkdir
 * Signature: (Ljava/lang/String;I)Z
 * Throws:    java.io.IOException
 ','line_number':532,'multiline':True]
['text':' EACCES ENOENT ELOOP','line_number':546,'multiline':False]
['text':' ENOSPC ENOTDIR EPERM EROFS     -> IOException','line_number':547,'multiline':False]
['text':' EFAULT ENAMETOOLONG            -> RuntimeException','line_number':548,'multiline':False]
['text':' ENOMEM                         -> OutOfMemoryError','line_number':549,'multiline':False]
['text':' EEXIST                         -> return false','line_number':550,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    mkdirWritable
 * Signature: (Ljava/lang/String;I)Z
 * Throws:    java.io.IOException
 ','line_number':561,'multiline':True]
['text':' directory does not exist.','line_number':583,'multiline':False]
['text':' path already exists','line_number':589,'multiline':False]
['text':' Make sure the mode is correct.','line_number':594,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    mkdirs
 * Signature: (Ljava/lang/String;I)V
 * Throws:    java.io.IOException
 ','line_number':601,'multiline':True]
['text':' First, check if the directory already exists and early-out.','line_number':617,'multiline':False]
['text':' Exists but is not a directory.','line_number':620,'multiline':False]
['text':' Find the first directory that already exists and leave a pointer just past','line_number':629,'multiline':False]
['text':' it.','line_number':630,'multiline':False]
['text':' Exists and must be a directory, or the initial stat would have failed','line_number':639,'multiline':False]
['text':' with ENOTDIR.','line_number':640,'multiline':False]
['text':' p now points at the '/' after the last directory that exists.','line_number':648,'multiline':False]
['text':' Successively create each directory','line_number':649,'multiline':False]
['text':' EEXIST is fine, just means we're racing to create the directory.','line_number':655,'multiline':False]
['text':' Note that somebody could have raced to create a file here, but that','line_number':656,'multiline':False]
['text':' will get handled by a ENOTDIR by a subsequent mkdir call.','line_number':657,'multiline':False]
['text':' Exists but is not a directory.','line_number':674,'multiline':False]
['text':' stat failed or returned something weird; fall through','line_number':709,'multiline':False]
['text':' namespace','line_number':715,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    readdir
 * Signature: (Ljava/lang/String;Z)Lcom/google/devtools/build/lib/unix/Dirents;
 * Throws:    java.io.IOException
 ','line_number':717,'multiline':True]
['text':' EACCES EMFILE ENFILE ENOENT ENOTDIR -> IOException','line_number':733,'multiline':False]
['text':' ENOMEM                              -> OutOfMemoryError','line_number':734,'multiline':False]
['text':' Clear errno beforehand.  Because readdir() is not required to clear it at','line_number':746,'multiline':False]
['text':' EOF, this is the only way to reliably distinguish EOF from error.','line_number':747,'multiline':False]
['text':' EOF','line_number':751,'multiline':False]
['text':' It is unclear whether an error can also skip some records.','line_number':752,'multiline':False]
['text':' That does not appear to happen with glibc, at least.','line_number':753,'multiline':False]
['text':' interrupted by a signal','line_number':754,'multiline':False]
['text':' glibc returns this on transient errors','line_number':755,'multiline':False]
['text':' Otherwise, this is a real error we should report.','line_number':756,'multiline':False]
['text':' Omit . and .. from results.','line_number':761,'multiline':False]
['text':' async exception!','line_number':781,'multiline':False]
['text':' async exception!','line_number':787,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    rename
 * Signature: (Ljava/lang/String;Ljava/lang/String;)V
 * Throws:    java.io.IOException
 ','line_number':805,'multiline':True]
['text':' EISDIR EXDEV ENOTEMPTY EEXIST EBUSY','line_number':819,'multiline':False]
['text':' EINVAL EMLINK ENOTDIR EACCES EPERM','line_number':820,'multiline':False]
['text':' ENOENT EROFS ELOOP ENOSPC           -> IOException','line_number':821,'multiline':False]
['text':' EFAULT ENAMETOOLONG                 -> RuntimeException','line_number':822,'multiline':False]
['text':' ENOMEM                              -> OutOfMemoryError','line_number':823,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    remove
 * Signature: (Ljava/lang/String;)V
 * Throws:    java.io.IOException
 ','line_number':831,'multiline':True]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    mkfifo
 * Signature: (Ljava/lang/String;I)V
 * Throws:    java.io.IOException
 ','line_number':855,'multiline':True]
['text':' Posts an exception generated by the DeleteTreesBelow algorithm and its helper','line_number':874,'multiline':False]
['text':' functions.','line_number':875,'multiline':False]
['text':'','line_number':876,'multiline':False]
['text':' This is just a convenience wrapper over PostException to format the','line_number':877,'multiline':False]
['text':' path that caused an error only when necessary, as we keep that path tokenized','line_number':878,'multiline':False]
['text':' throughout the deletion process.','line_number':879,'multiline':False]
['text':'','line_number':880,'multiline':False]
['text':' env is the JNI environment in which to post the exception. error and function','line_number':881,'multiline':False]
['text':' capture the errno value and the name of the system function that triggered','line_number':882,'multiline':False]
['text':' it. The faulty path is specified by all the components of dir_path and the','line_number':883,'multiline':False]
['text':' optional entry subcomponent, which may be NULL.','line_number':884,'multiline':False]
['text':' When scanning the top-level directory given to DeleteTreesBelow, the','line_number':901,'multiline':False]
['text':' dir_path buffer is still empty but we have the full path in entry.','line_number':902,'multiline':False]
['text':' Tries to open a directory and, if the first attempt fails, retries after','line_number':909,'multiline':False]
['text':' granting extra permissions to the directory.','line_number':910,'multiline':False]
['text':'','line_number':911,'multiline':False]
['text':' The directory to open is identified by the open descriptor of the parent','line_number':912,'multiline':False]
['text':' directory (dir_fd) and the subpath to resolve within that directory (entry).','line_number':913,'multiline':False]
['text':' dir_path contains the path components that were used when opening dir_fd and','line_number':914,'multiline':False]
['text':' is only used for error reporting purposes.','line_number':915,'multiline':False]
['text':'','line_number':916,'multiline':False]
['text':' Returns a directory handle on success or an errno on error. If the error is','line_number':917,'multiline':False]
['text':' other than ENOENT, posts an exception before returning.','line_number':918,'multiline':False]
['text':' If dir_fd is a readable but non-executable directory containing entry, we','line_number':928,'multiline':False]
['text':' could have obtained entry by readdir()-ing, but any attempt to open or','line_number':929,'multiline':False]
['text':' stat the entry would fail with EACCESS. In this case, we need to fix the','line_number':930,'multiline':False]
['text':' permissions on dir_fd (which we can do only if it's a "real" file','line_number':931,'multiline':False]
['text':' descriptor, not AT_FDCWD used as the starting point of DeleteTreesBelow','line_number':932,'multiline':False]
['text':' recursion).','line_number':933,'multiline':False]
['text':' Tries to delete a file within a directory and, if the first attempt fails,','line_number':968,'multiline':False]
['text':' retries after granting extra write permissions to the directory.','line_number':969,'multiline':False]
['text':'','line_number':970,'multiline':False]
['text':' The file to delete is identified by the open descriptor of the parent','line_number':971,'multiline':False]
['text':' directory (dir_fd) and the subpath to resolve within that directory (entry).','line_number':972,'multiline':False]
['text':' dir_path contains the path components that were used when opening dir_fd and','line_number':973,'multiline':False]
['text':' is only used for error reporting purposes.','line_number':974,'multiline':False]
['text':'','line_number':975,'multiline':False]
['text':' is_dir indicates whether the entry to delete is a directory or not.','line_number':976,'multiline':False]
['text':'','line_number':977,'multiline':False]
['text':' Returns 0 when the file doesn't exist or is successfully deleted. Otherwise,','line_number':978,'multiline':False]
['text':' returns -1 and posts an exception.','line_number':979,'multiline':False]
['text':' Returns true if the given directory entry represents a subdirectory of dir.','line_number':1006,'multiline':False]
['text':'','line_number':1007,'multiline':False]
['text':' The file to check is identified by the open descriptor of the parent','line_number':1008,'multiline':False]
['text':' directory (dir_fd) and the directory entry within that directory (de).','line_number':1009,'multiline':False]
['text':' dir_path contains the path components that were used when opening dir_fd and','line_number':1010,'multiline':False]
['text':' is only used for error reporting purposes.','line_number':1011,'multiline':False]
['text':'','line_number':1012,'multiline':False]
['text':' This function prefers to extract the type information from the directory','line_number':1013,'multiline':False]
['text':' entry itself if available. If not available, issues a stat starting from','line_number':1014,'multiline':False]
['text':' dir_fd.','line_number':1015,'multiline':False]
['text':'','line_number':1016,'multiline':False]
['text':' Returns 0 on success and updates is_dir accordingly. Returns -1 on error and','line_number':1017,'multiline':False]
['text':' posts an exception.','line_number':1018,'multiline':False]
['text':' Recursively deletes all trees under the given path.','line_number':1047,'multiline':False]
['text':'','line_number':1048,'multiline':False]
['text':' The directory to delete is identified by the open descriptor of the parent','line_number':1049,'multiline':False]
['text':' directory (dir_fd) and the subpath to resolve within that directory (entry).','line_number':1050,'multiline':False]
['text':' dir_path contains the path components that were used when opening dir_fd and','line_number':1051,'multiline':False]
['text':' is only used for error reporting purposes.','line_number':1052,'multiline':False]
['text':'','line_number':1053,'multiline':False]
['text':' dir_path is an in/out parameter updated with the path to the directory being','line_number':1054,'multiline':False]
['text':' processed. This avoids the need to construct unnecessary intermediate paths,','line_number':1055,'multiline':False]
['text':' as this algorithm works purely on file descriptors: the paths are only used','line_number':1056,'multiline':False]
['text':' for error reporting purposes, and therefore are only formatted at that','line_number':1057,'multiline':False]
['text':' point.','line_number':1058,'multiline':False]
['text':'','line_number':1059,'multiline':False]
['text':' Returns 0 on success. Returns -1 on error and posts an exception.','line_number':1060,'multiline':False]
['text':' On macOS and some other non-Linux OSes, on some filesystems, readdir(dir)','line_number':1074,'multiline':False]
['text':' may return NULL after an entry in dir is deleted even if not all files have','line_number':1075,'multiline':False]
['text':' been read yet - see','line_number':1076,'multiline':False]
['text':' https://pubs.opengroup.org/onlinepubs/9699919799/functions/readdir.html;','line_number':1077,'multiline':False]
['text':' "If a file is removed from or added to the directory after the most recent','line_number':1078,'multiline':False]
['text':' call to opendir() or rewinddir(), whether a subsequent call to readdir()','line_number':1079,'multiline':False]
['text':' returns an entry for that file is unspecified." We thus read all the names','line_number':1080,'multiline':False]
['text':' of dir's entries before deleting. We don't want to simply use fts(3)','line_number':1081,'multiline':False]
['text':' because we want to be able to chmod at any point in the directory hierarchy','line_number':1082,'multiline':False]
['text':' to retry a filesystem operation after hitting an EACCES.','line_number':1083,'multiline':False]
['text':' If in the future we hit any problems here due to the unspecified behavior','line_number':1084,'multiline':False]
['text':' of readdir() when a file has been deleted by a different thread we can use','line_number':1085,'multiline':False]
['text':' some form of locking to make sure the threads don't try to clean up the','line_number':1086,'multiline':False]
['text':' same directory at the same time; or doing it in a loop until the directory','line_number':1087,'multiline':False]
['text':' is really empty.','line_number':1088,'multiline':False]
['text':' DeleteTreesBelow is recursive; don't hold on to file names unnecessarily.','line_number':1123,'multiline':False]
['text':' Prefer reporting the error encountered while processing entries,','line_number':1139,'multiline':False]
['text':' not the (unlikely) error on close.','line_number':1140,'multiline':False]
['text':' namespace','line_number':1148,'multiline':False]
['text':'
 * Class:     com.google.devtools.build.lib.unix.NativePosixFiles
 * Method:    deleteTreesBelow
 * Signature: (Ljava/lang/String;)V
 * Throws:    java.io.IOException
 ','line_number':1150,'multiline':True]
['text':'//////////////////////////////////////////////////////////////////////','line_number':1168,'multiline':False]
['text':' Linux extended file attributes','line_number':1169,'multiline':False]
['text':' TODO(bazel-team): on ERANGE, try again with larger buffer.','line_number':1182,'multiline':False]
['text':' Result may be NULL if allocation failed. In that case, we'll return the','line_number':1194,'multiline':False]
['text':' NULL and an OOME will be thrown when we are back in Java.','line_number':1195,'multiline':False]
['text':' namespace','line_number':1204,'multiline':False]
['text':' GetByteArrayRegion may raise ArrayIndexOutOfBoundsException if one of the','line_number':1264,'multiline':False]
['text':' indexes in the region is not valid. As we obtain the inidices from the','line_number':1265,'multiline':False]
['text':' caller, we have to check.','line_number':1266,'multiline':False]
['text':'
 * Class:     com_google_devtools_build_lib_platform_SleepPreventionModule_SleepPrevention
 * Method:    pushDisableSleep
 * Signature: ()I
 ','line_number':1285,'multiline':True]
['text':'
 * Class:     com_google_devtools_build_lib_platform_SleepPreventionModule_SleepPrevention
 * Method:    popDisableSleep
 * Signature: ()I
 ','line_number':1296,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemSuspensionModule
 * Method:    registerJNI
 * Signature: ()V
 ','line_number':1309,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemThermalModule
 * Method:    registerJNI
 * Signature: ()V
 ','line_number':1348,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemThermalModule
 * Method:    thermalLoad
 * Signature: ()I
 ','line_number':1385,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemLoadAdvisoryModule
 * Method:    registerJNI
 * Signature: ()V
 ','line_number':1398,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemLoadAdvisoryModule
 * Method:    systemLoadAdvisory
 * Signature: ()I
 ','line_number':1436,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemMemoryPressureMonitor
 * Method:    registerJNI
 * Signature: ()I
 ','line_number':1449,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemMemoryPressureMonitor
 * Method:    systemMemoryPressure
 * Signature: ()I
 ','line_number':1487,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemDiskSpaceModule
 * Method:    registerJNI
 * Signature: ()I
 ','line_number':1500,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemCPUSpeedModule
 * Method:    registerJNI
 * Signature: ()I
 ','line_number':1540,'multiline':True]
['text':'
 * Class:     Java_com_google_devtools_build_lib_platform_SystemCPUSpeedModule
 * Method:    cpuSpeed
 * Signature: ()I
 *
 * Returns 1-100 to represent CPU speed. Returns -1 in case of error.
 ','line_number':1577,'multiline':True]
['text':' namespace blaze_jni','line_number':1687,'multiline':False]
