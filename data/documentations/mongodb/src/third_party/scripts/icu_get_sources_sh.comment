['text':'!/bin/bash','line_number':1,'multiline':False]
['text':' This script fetches sources for ICU and builds custom ICU data files (one big-endian data file','line_number':3,'multiline':False]
['text':' and one-little endian data file).  Both the sources and the data files are trimmed down for size.','line_number':4,'multiline':False]
['text':'','line_number':5,'multiline':False]
['text':' This script can be run from anywhere within the root of the source repository.  This script','line_number':6,'multiline':False]
['text':' expects the ICU third-party directory (src/third_party/icu4c-xx.yy/) to exist and contain a','line_number':7,'multiline':False]
['text':' newline-separated language file in source/mongo_sources/languages.txt.  This language file must','line_number':8,'multiline':False]
['text':' list each locale for which collation data should be packaged as part of the generated custom data','line_number':9,'multiline':False]
['text':' file.','line_number':10,'multiline':False]
['text':'','line_number':11,'multiline':False]
['text':' The script accepts a single optional argument, which is the path to the .dat archive to use as the','line_number':12,'multiline':False]
['text':' source of the trimmed-down ICU .dat files generated as output. If omitted, the .dat archive which','line_number':13,'multiline':False]
['text':' is included in the ICU source code is used by default. The included .dat file included with some','line_number':14,'multiline':False]
['text':' versions of ICU does not contain all the collations needed by mongodb. If this script fails while','line_number':15,'multiline':False]
['text':' checking the data list for collations, it must be invoked with the path to our custom .dat','line_number':16,'multiline':False]
['text':' archive:','line_number':17,'multiline':False]
['text':' ./src/third_party/scripts/icu_get_sources.sh \','line_number':18,'multiline':False]
['text':'      $(pwd)/src/third_party/icu4c-57.1/source/mongo_sources/icudt57l.dat','line_number':19,'multiline':False]
['text':'','line_number':20,'multiline':False]
['text':' That archive can be generated by the ICU tool here: http://apps.icu-project.org/datacustom/, you','line_number':21,'multiline':False]
['text':' should check all the boxes and download the zipfile for the major version of ICU. This script','line_number':22,'multiline':False]
['text':' will strip out anything that isn't needed.','line_number':23,'multiline':False]
['text':'','line_number':24,'multiline':False]
['text':' This script returns a zero exit code on success.','line_number':25,'multiline':False]
['text':' Expect 0 or 1 arguments.','line_number':30,'multiline':False]
['text':' Set value of original .dat archive from the first argument.','line_number':36,'multiline':False]
['text':'','line_number':61,'multiline':False]
['text':' Set up temp directory.','line_number':62,'multiline':False]
['text':'','line_number':63,'multiline':False]
['text':'','line_number':73,'multiline':False]
['text':' Download and extract tarball into temp directory.','line_number':74,'multiline':False]
['text':'','line_number':75,'multiline':False]
['text':'','line_number':81,'multiline':False]
['text':' Build and install ICU in temp directory, in order to use data packaging tools.','line_number':82,'multiline':False]
['text':'','line_number':83,'multiline':False]
['text':'','line_number':90,'multiline':False]
['text':' Generate trimmed-down list of data to include in custom data files.','line_number':91,'multiline':False]
['text':'','line_number':92,'multiline':False]
['text':' If the original data file wasn't passed as an argument, use the one from the ICU source tree.','line_number':94,'multiline':False]
['text':' Collation data sets','line_number':105,'multiline':False]
['text':' Using grep to sanity-check that the file indeed appears in the original data list.','line_number':112,'multiline':False]
['text':' Ditto above.','line_number':116,'multiline':False]
['text':' UStringPrepProfile: USPREP_RFC4013_SASLPREP and NFKC normalization.','line_number':123,'multiline':False]
['text':'','line_number':128,'multiline':False]
['text':' Extract desired data, and use it to build custom data files.','line_number':129,'multiline':False]
['text':'','line_number':130,'multiline':False]
['text':'','line_number':139,'multiline':False]
['text':' Re-extract pristine sources into final destination, prune unneeded sources.','line_number':140,'multiline':False]
['text':'','line_number':141,'multiline':False]
['text':' Build system.','line_number':144,'multiline':False]
['text':' Build system.','line_number':145,'multiline':False]
['text':' Build system.','line_number':146,'multiline':False]
['text':' Build system.','line_number':147,'multiline':False]
['text':' Build system.','line_number':148,'multiline':False]
['text':' Scripts.','line_number':149,'multiline':False]
['text':' Workspace and project files.','line_number':150,'multiline':False]
['text':' Build system.','line_number':151,'multiline':False]
['text':' Source data.','line_number':152,'multiline':False]
['text':' Non-supported API additions.','line_number':153,'multiline':False]
['text':' ICU I/O library.','line_number':154,'multiline':False]
['text':' ICU complex text layout engine.','line_number':155,'multiline':False]
['text':' ICU paragraph layout engine.','line_number':156,'multiline':False]
['text':' Sample programs.','line_number':157,'multiline':False]
['text':' Test suites.','line_number':158,'multiline':False]
['text':' Tools for generating the data files.','line_number':159,'multiline':False]
