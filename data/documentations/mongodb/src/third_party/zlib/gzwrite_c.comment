['text':' gzwrite.c -- zlib functions for writing gzip files
 * Copyright (C) 2004-2019 Mark Adler
 * For conditions of distribution and use, see copyright notice in zlib.h
 ','line_number':1,'multiline':True]
['text':' Initialize state for writing a gzip file.  Mark initialization by setting
   state->size to non-zero.  Return -1 on a memory allocation failure, or 0 on
   success. ','line_number':8,'multiline':True]
['text':' allocate input buffer (double size for gzprintf) ','line_number':15,'multiline':True]
['text':' only need output buffer and deflate state if compressing ','line_number':22,'multiline':True]
['text':' allocate output buffer ','line_number':24,'multiline':True]
['text':' allocate deflate memory, set up for gzip compression ','line_number':32,'multiline':True]
['text':' mark state as initialized ','line_number':47,'multiline':True]
['text':' initialize write buffer if compressing ','line_number':50,'multiline':True]
['text':' Compress whatever is at avail_in and next_in and write to the output file.
   Return -1 if there is an error writing to the output file or if gz_init()
   fails to allocate memory, otherwise 0.  flush is assumed to be a valid
   deflate() flush value.  If flush is Z_FINISH, then the deflate() state is
   reset to start a new gzip stream.  If gz->direct is true, then simply write
   to the output file without compressing, and ignore flush. ','line_number':59,'multiline':True]
['text':' allocate memory if this is the first time through ','line_number':70,'multiline':True]
['text':' write directly if requested ','line_number':74,'multiline':True]
['text':' check for a pending reset ','line_number':89,'multiline':True]
['text':' don't start a new gzip member unless there is data to write ','line_number':91,'multiline':True]
['text':' run deflate() on provided input until it produces no more output ','line_number':98,'multiline':True]
['text':' write out current buffer contents if full, or if flushing, but if
           doing Z_FINISH then don't write until we get to Z_STREAM_END ','line_number':101,'multiline':True]
['text':' compress ','line_number':122,'multiline':True]
['text':' if that completed a deflate stream, allow another to start ','line_number':133,'multiline':True]
['text':' all done, no errors ','line_number':137,'multiline':True]
['text':' Compress len zeros to output.  Return -1 on a write error or memory
   allocation failure by gz_comp(), or 0 on success. ','line_number':141,'multiline':True]
['text':' consume whatever's left in the input buffer ','line_number':148,'multiline':True]
['text':' compress len zeros (len guaranteed > 0) ','line_number':152,'multiline':True]
['text':' Write len bytes from buf to file.  Return the number of bytes written.  If
   the returned value is less than len, then there was an error. ','line_number':171,'multiline':True]
['text':' if len is zero, avoid unnecessary operations ','line_number':176,'multiline':True]
['text':' allocate memory if this is the first time through ','line_number':180,'multiline':True]
['text':' check for seek request ','line_number':184,'multiline':True]
['text':' for small len, copy to input buffer, otherwise compress directly ','line_number':191,'multiline':True]
['text':' copy to input buffer, compress when full ','line_number':193,'multiline':True]
['text':' consume whatever's left in the input buffer ','line_number':214,'multiline':True]
['text':' directly compress user buffer to file ','line_number':218,'multiline':True]
['text':' input was all buffered or compressed ','line_number':232,'multiline':True]
['text':' -- see zlib.h -- ','line_number':236,'multiline':True]
['text':' get internal structure ','line_number':240,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':245,'multiline':True]
['text':' since an int is returned, make sure len fits in one, otherwise return
       with an error (this avoids a flaw in the interface) ','line_number':249,'multiline':True]
['text':' write len bytes from buf (the return value will fit in an int) ','line_number':256,'multiline':True]
['text':' -- see zlib.h -- ','line_number':260,'multiline':True]
['text':' get internal structure ','line_number':266,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':271,'multiline':True]
['text':' compute bytes to read -- error on overflow ','line_number':275,'multiline':True]
['text':' write len bytes to buf, return the number of full items written ','line_number':282,'multiline':True]
['text':' -- see zlib.h -- ','line_number':286,'multiline':True]
['text':' get internal structure ','line_number':293,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':299,'multiline':True]
['text':' check for seek request ','line_number':303,'multiline':True]
['text':' try writing to input buffer for speed (state->size == 0 if buffer not
       initialized) ','line_number':310,'multiline':True]
['text':' no room in buffer or not initialized, use gz_write() ','line_number':324,'multiline':True]
['text':' -- see zlib.h -- ','line_number':331,'multiline':True]
['text':' get internal structure ','line_number':336,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':341,'multiline':True]
['text':' write string ','line_number':345,'multiline':True]
['text':' -- see zlib.h -- ','line_number':358,'multiline':True]
['text':' get internal structure ','line_number':366,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':372,'multiline':True]
['text':' make sure we have some buffer space ','line_number':376,'multiline':True]
['text':' check for seek request ','line_number':380,'multiline':True]
['text':' do the printf() into the input buffer, put length in len -- the input
       buffer is double-sized just for this function, so there is guaranteed to
       be state->size bytes available after the current contents ','line_number':387,'multiline':True]
['text':' check that printf() results fit in buffer ','line_number':411,'multiline':True]
['text':' update buffer and position, compress first half if past that ','line_number':415,'multiline':True]
['text':' !STDC && !Z_HAVE_STDARG_H ','line_number':440,'multiline':True]
['text':' -- see zlib.h -- ','line_number':442,'multiline':True]
['text':' get internal structure ','line_number':452,'multiline':True]
['text':' check that can really pass pointer in ints ','line_number':458,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':462,'multiline':True]
['text':' make sure we have some buffer space ','line_number':466,'multiline':True]
['text':' check for seek request ','line_number':470,'multiline':True]
['text':' do the printf() into the input buffer, put length in len -- the input
       buffer is double-sized just for this function, so there is guaranteed to
       be state->size bytes available after the current contents ','line_number':477,'multiline':True]
['text':' check that printf() results fit in buffer ','line_number':506,'multiline':True]
['text':' update buffer and position, compress first half if past that ','line_number':510,'multiline':True]
['text':' -- see zlib.h -- ','line_number':527,'multiline':True]
['text':' get internal structure ','line_number':531,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':536,'multiline':True]
['text':' check flush parameter ','line_number':540,'multiline':True]
['text':' check for seek request ','line_number':544,'multiline':True]
['text':' compress remaining data with requested flush ','line_number':551,'multiline':True]
['text':' -- see zlib.h -- ','line_number':556,'multiline':True]
['text':' get internal structure ','line_number':561,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':567,'multiline':True]
['text':' if no change is requested, then do nothing ','line_number':571,'multiline':True]
['text':' check for seek request ','line_number':575,'multiline':True]
['text':' change compression parameters for subsequent input ','line_number':582,'multiline':True]
['text':' flush previous input with previous parameters before changing ','line_number':584,'multiline':True]
['text':' -- see zlib.h -- ','line_number':594,'multiline':True]
['text':' get internal structure ','line_number':599,'multiline':True]
['text':' check that we're writing ','line_number':604,'multiline':True]
['text':' check for seek request ','line_number':608,'multiline':True]
['text':' flush, free memory, and close file ','line_number':615,'multiline':True]
