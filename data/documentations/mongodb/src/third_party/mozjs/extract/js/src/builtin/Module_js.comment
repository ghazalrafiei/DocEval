['text':' -*- Mode: javascript; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 4 -*- ','line_number':1,'multiline':True]
['text':' This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. ','line_number':2,'multiline':True]
['text':' https://tc39.es/ecma262/#sec-getexportednames','line_number':15,'multiline':False]
['text':' ES2020 15.2.1.17.2 GetExportedNames','line_number':16,'multiline':False]
['text':' Step 3','line_number':24,'multiline':False]
['text':' Step 4','line_number':27,'multiline':False]
['text':' Step 5','line_number':31,'multiline':False]
['text':' Step 6','line_number':34,'multiline':False]
['text':' Step 7','line_number':38,'multiline':False]
['text':' Step 8','line_number':45,'multiline':False]
['text':' Step 9','line_number':52,'multiline':False]
['text':' Note that under OOM conditions we can fail the module instantiation','line_number':76,'multiline':False]
['text':' process even after modules have been marked as instantiated.','line_number':77,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-getexportednames','line_number':86,'multiline':False]
['text':' ES2020 15.2.1.17.3 ResolveExport','line_number':87,'multiline':False]
['text':'','line_number':88,'multiline':False]
['text':' Returns an object describing the location of the resolved export or','line_number':89,'multiline':False]
['text':' indicating a failure.','line_number':90,'multiline':False]
['text':'','line_number':91,'multiline':False]
['text':' On success this returns a resolved binding record: { module, bindingName }','line_number':92,'multiline':False]
['text':'','line_number':93,'multiline':False]
['text':' There are two failure cases:','line_number':94,'multiline':False]
['text':'','line_number':95,'multiline':False]
['text':'  - If no definition was found or the request is found to be circular, *null*','line_number':96,'multiline':False]
['text':'    is returned.','line_number':97,'multiline':False]
['text':'','line_number':98,'multiline':False]
['text':'  - If the request is found to be ambiguous, the string `"ambiguous"` is','line_number':99,'multiline':False]
['text':'    returned.','line_number':100,'multiline':False]
['text':'','line_number':101,'multiline':False]
['text':' Step 3','line_number':111,'multiline':False]
['text':' Step 4','line_number':114,'multiline':False]
['text':' This is a circular import request.','line_number':118,'multiline':False]
['text':' Step 5','line_number':123,'multiline':False]
['text':' Step 6','line_number':126,'multiline':False]
['text':' Step 7','line_number':134,'multiline':False]
['text':' Step 8','line_number':149,'multiline':False]
['text':' A default export cannot be provided by an export *.','line_number':151,'multiline':False]
['text':' Step 9','line_number':155,'multiline':False]
['text':' Step 10','line_number':158,'multiline':False]
['text':' Step 11','line_number':181,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-getmodulenamespace','line_number':192,'multiline':False]
['text':' ES2020 15.2.1.21 GetModuleNamespace','line_number':193,'multiline':False]
['text':' Step 1','line_number':196,'multiline':False]
['text':' Step 2','line_number':199,'multiline':False]
['text':' Step 3','line_number':203,'multiline':False]
['text':' Step 4','line_number':206,'multiline':False]
['text':' Step 5','line_number':219,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-modulenamespacecreate','line_number':223,'multiline':False]
['text':' ES2020 9.4.6.11 ModuleNamespaceCreate','line_number':224,'multiline':False]
['text':' Pre-compute all binding mappings now instead of on each access.','line_number':231,'multiline':False]
['text':' See: ES2020 9.4.6.7 Module Namespace Exotic Object [[Get]]','line_number':232,'multiline':False]
['text':' ES2020 9.4.6.7 Module Namespace Exotic Object [[Get]], Step 10.','line_number':237,'multiline':False]
['text':' The spec uses an immutable binding here but we have already','line_number':241,'multiline':False]
['text':' generated bytecode for an indirect binding. Instead, use an','line_number':242,'multiline':False]
['text':' indirect binding to "*namespace*" slot of the target environment.','line_number':243,'multiline':False]
['text':' Reset the module to the "unlinked" state. Don't reset the','line_number':290,'multiline':False]
['text':' environment slot as the environment object will be required by any','line_number':291,'multiline':False]
['text':' possible future instantiation attempt.','line_number':292,'multiline':False]
['text':' 15.2.1.16.4 ModuleInstantiate()','line_number':298,'multiline':False]
['text':' Step 1','line_number':304,'multiline':False]
['text':' Step 2','line_number':307,'multiline':False]
['text':' Step 3','line_number':314,'multiline':False]
['text':' Steps 4-5','line_number':317,'multiline':False]
['text':' Handle OOM when appending to the stack or over-recursion errors.','line_number':328,'multiline':False]
['text':' Step 6','line_number':339,'multiline':False]
['text':' Step 7','line_number':345,'multiline':False]
['text':' Step 8','line_number':349,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-InnerModuleLinking','line_number':353,'multiline':False]
['text':' ES2020 15.2.1.16.1.1 InnerModuleLinking','line_number':354,'multiline':False]
['text':' Step 1','line_number':357,'multiline':False]
['text':' TODO: Support module records other than Cyclic Module Records.','line_number':358,'multiline':False]
['text':' 1. If module is not a Cyclic Module Record, then','line_number':359,'multiline':False]
['text':'     a. Perform ? module.Link().','line_number':360,'multiline':False]
['text':'     b. Return index.','line_number':361,'multiline':False]
['text':' Step 2','line_number':363,'multiline':False]
['text':' Step 3. Assert: module.[[Status]] is unlinked.','line_number':372,'multiline':False]
['text':' Step 4. Set module.[[Status]] to linking.','line_number':376,'multiline':False]
['text':' Step 5. Set module.[[DFSIndex]] to index.','line_number':379,'multiline':False]
['text':' Step 6. Set module.[[DFSAncestorIndex]] to index.','line_number':381,'multiline':False]
['text':' Step 7. Set index to index + 1.','line_number':383,'multiline':False]
['text':' Step 8. Append module to stack.','line_number':386,'multiline':False]
['text':' Step 9. For each String required that is an element of module.[[RequestedModules]], do','line_number':389,'multiline':False]
['text':' Step 9.a','line_number':392,'multiline':False]
['text':' Step 9.b','line_number':396,'multiline':False]
['text':' TODO: Check if requiredModule is a Cyclic Module Record','line_number':399,'multiline':False]
['text':' Step 9.c.i','line_number':400,'multiline':False]
['text':' Step 9.c.ii','line_number':407,'multiline':False]
['text':' Step 9.c.iii','line_number':415,'multiline':False]
['text':' Step 10','line_number':423,'multiline':False]
['text':' Step 11','line_number':426,'multiline':False]
['text':' Step 12','line_number':429,'multiline':False]
['text':' Step 13','line_number':433,'multiline':False]
['text':' 13.b.i-ii','line_number':437,'multiline':False]
['text':' TODO: 13.b.ii. Assert: requiredModule is a Cyclic Module Record.','line_number':439,'multiline':False]
['text':' Step 13.b.iv','line_number':440,'multiline':False]
['text':' Step 14','line_number':445,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-source-text-module-record-initialize-environment','line_number':449,'multiline':False]
['text':' ES2020 15.2.1.17.4 InitializeEnvironment','line_number':450,'multiline':False]
['text':' Step 1','line_number':453,'multiline':False]
['text':' Step 2-3','line_number':456,'multiline':False]
['text':' Omitting steps 4-5, for practical purposes it is impossible for a realm to be','line_number':467,'multiline':False]
['text':' undefined at this point.','line_number':468,'multiline':False]
['text':' Step 6-8','line_number':470,'multiline':False]
['text':' Note that we have already created the environment by this point.','line_number':471,'multiline':False]
['text':' Step 9','line_number':474,'multiline':False]
['text':' Step 9.c-9.d','line_number':480,'multiline':False]
['text':' This should be CreateNamespaceBinding, but we have already','line_number':495,'multiline':False]
['text':' generated bytecode assuming an indirect binding. Instead,','line_number':496,'multiline':False]
['text':' ensure a special "*namespace*"" binding exists on the target','line_number':497,'multiline':False]
['text':' module's environment. We then generate an indirect binding to','line_number':498,'multiline':False]
['text':' this synthetic binding.','line_number':499,'multiline':False]
['text':' Steps 10-26','line_number':510,'multiline':False]
['text':' Some of these do not need to happen for practical purposes. For steps 21-23, the bindings','line_number':511,'multiline':False]
['text':' that can be handled in a similar way to regulars scripts are done separately. Function','line_number':512,'multiline':False]
['text':' Declarations are special due to hoisting and are handled within this function.','line_number':513,'multiline':False]
['text':' See ModuleScope and ModuleEnvironmentObject for further details.','line_number':514,'multiline':False]
['text':' Step 24.a.iii is handled here.','line_number':516,'multiline':False]
['text':' In order to have the functions correctly hoisted we need to do this separately.','line_number':517,'multiline':False]
['text':' Set the module's EvaluationError slot to indicate a failed module','line_number':556,'multiline':False]
['text':' evaluation.','line_number':557,'multiline':False]
['text':' It would be nice to assert that |error| is the same as the one we','line_number':563,'multiline':False]
['text':' previously recorded, but that's not always true in the case of out of','line_number':564,'multiline':False]
['text':' memory and over-recursion errors.','line_number':565,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-moduleevaluation','line_number':573,'multiline':False]
['text':' ES2020 15.2.1.16.2 ModuleEvaluate','line_number':574,'multiline':False]
['text':' Step 2','line_number':582,'multiline':False]
['text':' Step 3','line_number':585,'multiline':False]
['text':' Top-level Await Step 4','line_number':595,'multiline':False]
['text':' Top-level Await Step 5','line_number':600,'multiline':False]
['text':' Step 4','line_number':608,'multiline':False]
['text':' Steps 5-6','line_number':611,'multiline':False]
['text':' Steps 7-8','line_number':618,'multiline':False]
['text':' Handle OOM when appending to the stack or over-recursion errors.','line_number':632,'multiline':False]
['text':' Step 9','line_number':646,'multiline':False]
['text':' https://tc39.es/ecma262/#sec-innermoduleevaluation','line_number':650,'multiline':False]
['text':' ES2020 15.2.1.16.2.1 InnerModuleEvaluation','line_number':651,'multiline':False]
['text':' Step 1','line_number':656,'multiline':False]
['text':' TODO: Support module records other than Cyclic Module Records.','line_number':657,'multiline':False]
['text':' Step 2','line_number':659,'multiline':False]
['text':' Step 3','line_number':666,'multiline':False]
['text':' Step 4','line_number':670,'multiline':False]
['text':' Step 5','line_number':674,'multiline':False]
['text':' Steps 6-8','line_number':677,'multiline':False]
['text':' Step 9','line_number':687,'multiline':False]
['text':' Step 10','line_number':690,'multiline':False]
['text':' Step 11','line_number':744,'multiline':False]
['text':' Step 12','line_number':748,'multiline':False]
['text':' Step 13','line_number':752,'multiline':False]
['text':' Step 14','line_number':756,'multiline':False]
['text':' Step 15','line_number':767,'multiline':False]
['text':' https://tc39.es/proposal-top-level-await/#sec-gather-async-parent-completions','line_number':771,'multiline':False]
['text':' Step 5.','line_number':775,'multiline':False]
['text':' asyncParentModules is a list, and doesn't have a .length. Might be worth changing','line_number':776,'multiline':False]
['text':' later on.','line_number':777,'multiline':False]
['text':' https://tc39.es/proposal-top-level-await/#sec-execute-async-module','line_number':803,'multiline':False]
['text':' Steps 1-3.','line_number':805,'multiline':False]
['text':' Step 4-11 done in AsyncAwait opcode','line_number':808,'multiline':False]
