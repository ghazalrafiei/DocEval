['text':'!/usr/bin/env python','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' Public Domain 2014-present MongoDB, Inc.','line_number':3,'multiline':False]
['text':' Public Domain 2008-2014 WiredTiger, Inc.','line_number':4,'multiline':False]
['text':'','line_number':5,'multiline':False]
['text':' This is free and unencumbered software released into the public domain.','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':' Anyone is free to copy, modify, publish, use, compile, sell, or','line_number':8,'multiline':False]
['text':' distribute this software, either in source code form or as a compiled','line_number':9,'multiline':False]
['text':' binary, for any purpose, commercial or non-commercial, and by any','line_number':10,'multiline':False]
['text':' means.','line_number':11,'multiline':False]
['text':'','line_number':12,'multiline':False]
['text':' In jurisdictions that recognize copyright laws, the author or authors','line_number':13,'multiline':False]
['text':' of this software dedicate any and all copyright interest in the','line_number':14,'multiline':False]
['text':' software to the public domain. We make this dedication for the benefit','line_number':15,'multiline':False]
['text':' of the public at large and to the detriment of our heirs and','line_number':16,'multiline':False]
['text':' successors. We intend this dedication to be an overt act of','line_number':17,'multiline':False]
['text':' relinquishment in perpetuity of all present and future rights to this','line_number':18,'multiline':False]
['text':' software under copyright law.','line_number':19,'multiline':False]
['text':'','line_number':20,'multiline':False]
['text':' THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,','line_number':21,'multiline':False]
['text':' EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF','line_number':22,'multiline':False]
['text':' MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.','line_number':23,'multiline':False]
['text':' IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR','line_number':24,'multiline':False]
['text':' OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,','line_number':25,'multiline':False]
['text':' ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR','line_number':26,'multiline':False]
['text':' OTHER DEALINGS IN THE SOFTWARE.','line_number':27,'multiline':False]
['text':'','line_number':28,'multiline':False]
['text':' test_txn24.py','line_number':29,'multiline':False]
['text':'   Transactions and eviction: Test if using snapshot isolation for eviction threads helps with','line_number':30,'multiline':False]
['text':'   cache stuck issue.','line_number':31,'multiline':False]
['text':'','line_number':32,'multiline':False]
['text':' The default (non-zero) value of rollbacks_allowed will retry up to that number of rollbacks before failing.','line_number':48,'multiline':False]
['text':' However, for this test it is better to generate an error immediately for any rollback, so we disallow them','line_number':49,'multiline':False]
['text':' by setting rollbacks_allowed to 0 here.','line_number':50,'multiline':False]
['text':' We want to either eliminate or keep the application thread role in eviction to minimum.','line_number':54,'multiline':False]
['text':' This will ensure that the dedicated eviction threads are doing the heavy lifting.','line_number':55,'multiline':False]
['text':' FIXME-WT-9575','line_number':62,'multiline':False]
['text':' Skip this test on MacOS/Darwin as it causes WT_ROLLBACKs to occur frequently, and they generate errors.','line_number':63,'multiline':False]
['text':' Create and populate a table.','line_number':66,'multiline':False]
['text':' Values are 1/240 the size, but as in-memory updates are considerably larger, we','line_number':71,'multiline':False]
['text':' shouldn't just use 240x the number of rows. For now go with 3x, a number pulled from','line_number':72,'multiline':False]
['text':' thin air that also makes it just about 3x slower than the VLCS case. It isn't clear','line_number':73,'multiline':False]
['text':' whether it's really working as intended, and should maybe check deeper or use some','line_number':74,'multiline':False]
['text':' kind of stats feedback to figure out how many rows to pump out instead of choosing','line_number':75,'multiline':False]
['text':' in advance.','line_number':76,'multiline':False]
['text':' Perform a checkpoint. There should be no dirty content in the cache after this.','line_number':91,'multiline':False]
['text':' Start a transaction, make an update and keep it running.','line_number':94,'multiline':False]
['text':' Start few sessions and transactions, make updates and try committing them.','line_number':99,'multiline':False]
['text':' At this point in time, we have made roughly 90% cache dirty. If we are not using','line_number':114,'multiline':False]
['text':' snapshots for eviction threads, the cache state will remain like this forever and we may','line_number':115,'multiline':False]
['text':' never reach this part of code. We might get a rollback error by now or WT will panic with','line_number':116,'multiline':False]
['text':' cache stuck error.','line_number':117,'multiline':False]
['text':'','line_number':118,'multiline':False]
['text':' Even if we don't get an error by now and if we try to insert new data at this point in','line_number':119,'multiline':False]
['text':' time, dirty cache usage will exceed 100% if eviction threads are not using snapshot','line_number':120,'multiline':False]
['text':' isolation. In that case, we will eventually get a rollback error for sure.','line_number':121,'multiline':False]
['text':' If we have done all operations error free so far, eviction threads have been successful.','line_number':131,'multiline':False]
