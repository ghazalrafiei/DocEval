['text':'!/usr/bin/env python3','line_number':1,'multiline':False]
['text':' The type's name will be something like 'PAGE_ROLLBACK'.','line_number':13,'multiline':False]
['text':' Construct the name of the function call from the opname, e.g. __apply_check_page_rollback.','line_number':16,'multiline':False]
['text':' The '_Checker' bit is the class name.','line_number':17,'multiline':False]
['text':' Call the function we found.','line_number':22,'multiline':False]
['text':' reset a bunch of internal state','line_number':26,'multiline':False]
['text':' FIXME - PM-3095 This check should be ignored until PM-3095.','line_number':34,'multiline':False]
['text':' if tree in self.visited_trees:','line_number':35,'multiline':False]
['text':'     raise Exception(f"visited file {operation.file} again, operation={operation}")','line_number':36,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':44,'multiline':False]
['text':' raise Exception(f"unnecessary visit to {operation.file}")','line_number':45,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':48,'multiline':False]
['text':' if operation.durable_gt_stable and not operation.durable > operation.stable:','line_number':49,'multiline':False]
['text':'     raise Exception(f"incorrect timestamp comparison: thought {operation.durable} > {operation.stable}, but it isn't")','line_number':50,'multiline':False]
['text':' if not operation.durable_gt_stable and not operation.stable >= operation.durable:','line_number':51,'multiline':False]
['text':'     raise Exception(f"incorrect timestamp comparison: thought {operation.durable} <= {operation.stable}, but it isn't")','line_number':52,'multiline':False]
['text':' if operation.stable != self.stable:','line_number':54,'multiline':False]
['text':'     raise Exception(f"stable timestamp spuriously changed from {self.stable} to {operation.stable} while rolling back {operation.file}")','line_number':55,'multiline':False]
['text':' TODO expand this out','line_number':58,'multiline':False]
['text':' if operation.file != self.current_tree.file:','line_number':59,'multiline':False]
['text':'     raise Exception(f"spurious visit to {operation.file}")','line_number':60,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':63,'multiline':False]
['text':' raise Exception(f"{operation.file} spuriously changed btree logging state")','line_number':64,'multiline':False]
['text':' TODO expand this out - not always spurious for the history store.','line_number':71,'multiline':False]
['text':' if operation.file != self.current_tree.file:','line_number':72,'multiline':False]
['text':'     raise Exception(f"spurious visit to {operation.file}")','line_number':73,'multiline':False]
['text':' if page in self.visited_pages:','line_number':77,'multiline':False]
['text':'     raise Exception(f"visited page {operation.addr} again")','line_number':78,'multiline':False]
['text':' TODO expand this out - not always spurious for the history store.','line_number':82,'multiline':False]
['text':' if operation.file != self.current_tree.file:','line_number':83,'multiline':False]
['text':'     raise Exception(f"spurious visit to {operation.file}")','line_number':84,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':89,'multiline':False]
['text':' raise Exception(f"aborted update with txnid={operation.txnid} for no reason")','line_number':90,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':93,'multiline':False]
['text':' if operation.stable_lt_durable and not operation.stable < operation.durable:','line_number':94,'multiline':False]
['text':'     raise Exception(f"incorrect timestamp comparison: thought {operation.stable} < {operation.durable}, but it isn't")','line_number':95,'multiline':False]
['text':' if not operation.stable_lt_durable and not operation.stable >= operation.durable:','line_number':96,'multiline':False]
['text':'     raise Exception(f"incorrect timestamp comparison: thought {operation.stable} >= {operation.durable}, but it isn't")','line_number':97,'multiline':False]
['text':' TODO expand this out','line_number':100,'multiline':False]
['text':' if operation.file != self.current_tree.file:','line_number':101,'multiline':False]
['text':'     raise Exception(f"spurious visit to {operation.file}, {operation=}")','line_number':102,'multiline':False]
['text':' TODO print session recovery flags to check the other way this can be wrong','line_number':104,'multiline':False]
['text':' if should_rollback and not operation.needs_abort:','line_number':106,'multiline':False]
['text':'     raise Exception(f"incorrectly skipped rolling back page with ref={operation.ref}")','line_number':107,'multiline':False]
['text':' TODO be a little smarter about storing page state. the decision we make about rolling back','line_number':109,'multiline':False]
['text':' can be stored, and checked against future log lines to e.g. make sure we don't change our','line_number':110,'multiline':False]
['text':' mind at some point.','line_number':111,'multiline':False]
['text':' TODO can  probably use the txn ID somehow.','line_number':113,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':117,'multiline':False]
['text':' raise Exception(f"spurious visit to {operation.file}, operation={operation}")','line_number':118,'multiline':False]
['text':' TODO print session recovery flags to check the other way this can be wrong','line_number':121,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':124,'multiline':False]
['text':' raise Exception(f"incorrectly skipped rolling back page with ref={operation.ref}")','line_number':125,'multiline':False]
['text':' TODO can likely expand on these','line_number':128,'multiline':False]
['text':' FIXME - PM-3095 Ignore this until the verifier is fully working.','line_number':129,'multiline':False]
['text':' if operation.restored_stable != self.stable:','line_number':130,'multiline':False]
['text':'     raise Exception("stable timestamp spuriously moved forward")','line_number':131,'multiline':False]
['text':' if operation.removed_commit < self.stable:','line_number':133,'multiline':False]
['text':'     raise Exception("aborted an update from before the stable timestamp?!")','line_number':134,'multiline':False]
['text':' TODO expand this out','line_number':137,'multiline':False]
['text':' if operation.file != self.current_tree.file:','line_number':138,'multiline':False]
['text':'     raise Exception(f"spurious visit to {operation.file}, {operation=}")','line_number':139,'multiline':False]
['text':' TODO expand this out','line_number':143,'multiline':False]
['text':' if operation.file != self.current_tree.file:','line_number':147,'multiline':False]
['text':'     raise Exception(f"spurious visit to {operation.file}")','line_number':148,'multiline':False]
['text':' if operation.shutdown_rts_error:','line_number':150,'multiline':False]
['text':'     raise Exception("Rollback to stable during shutdown failed")','line_number':151,'multiline':False]
['text':' TODO expand this out','line_number':155,'multiline':False]
['text':' TODO expand this out','line_number':159,'multiline':False]
['text':' TODO expand this out','line_number':163,'multiline':False]
['text':' TODO expand this out','line_number':167,'multiline':False]
['text':' TODO expand this out','line_number':171,'multiline':False]
['text':' TODO expand this out','line_number':175,'multiline':False]
['text':' TODO expand this out','line_number':179,'multiline':False]
['text':' TODO expand this out','line_number':183,'multiline':False]
['text':' TODO expand this out','line_number':187,'multiline':False]
['text':' TODO expand this out','line_number':191,'multiline':False]
['text':' TODO expand this out','line_number':195,'multiline':False]
['text':' TODO expand this out','line_number':199,'multiline':False]
['text':' TODO expand this out','line_number':203,'multiline':False]
['text':' TODO expand this out','line_number':207,'multiline':False]
['text':' TODO expand this out','line_number':211,'multiline':False]
['text':' TODO expand this out','line_number':215,'multiline':False]
['text':' TODO expand this out','line_number':219,'multiline':False]
['text':' TODO expand this out','line_number':223,'multiline':False]
['text':' TODO expand this out','line_number':227,'multiline':False]
['text':' TODO expand this out','line_number':231,'multiline':False]
['text':' TODO expand this out','line_number':235,'multiline':False]
['text':' TODO expand this out','line_number':239,'multiline':False]
['text':' TODO expand this out','line_number':243,'multiline':False]
['text':' TODO expand this out','line_number':247,'multiline':False]
['text':' TODO expand this out','line_number':251,'multiline':False]
['text':' TODO expand this out','line_number':255,'multiline':False]
['text':' TODO expand this out','line_number':259,'multiline':False]
['text':' TODO expand this out','line_number':263,'multiline':False]
['text':' TODO expand this out','line_number':267,'multiline':False]
['text':' TODO expand this out','line_number':271,'multiline':False]
['text':' TODO expand this out','line_number':275,'multiline':False]
['text':' TODO expand this out','line_number':279,'multiline':False]
['text':' TODO expand this out','line_number':283,'multiline':False]
['text':' TODO expand this out','line_number':287,'multiline':False]
['text':' TODO expand this out','line_number':291,'multiline':False]
