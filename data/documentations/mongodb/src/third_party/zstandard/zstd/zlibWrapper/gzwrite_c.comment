['text':' gzwrite.c contains minimal changes required to be compiled with zlibWrapper:
 * - gz_statep was converted to union to work with -Wstrict-aliasing=1      ','line_number':1,'multiline':True]
['text':' gzwrite.c -- zlib functions for writing gzip files
 * Copyright (C) 2004-2017 Mark Adler
 * For conditions of distribution and use, see https://www.zlib.net/zlib_license.html
 ','line_number':4,'multiline':True]
['text':' Local functions ','line_number':13,'multiline':True]
['text':' Initialize state for writing a gzip file.  Mark initialization by setting
   state.state->size to non-zero.  Return -1 on a memory allocation failure, or 0 on
   success. ','line_number':19,'multiline':True]
['text':' allocate input buffer (double size for gzprintf) ','line_number':28,'multiline':True]
['text':' only need output buffer and deflate state if compressing ','line_number':35,'multiline':True]
['text':' allocate output buffer ','line_number':37,'multiline':True]
['text':' allocate deflate memory, set up for gzip compression ','line_number':45,'multiline':True]
['text':' mark state as initialized ','line_number':60,'multiline':True]
['text':' initialize write buffer if compressing ','line_number':63,'multiline':True]
['text':' Compress whatever is at avail_in and next_in and write to the output file.
   Return -1 if there is an error writing to the output file or if gz_init()
   fails to allocate memory, otherwise 0.  flush is assumed to be a valid
   deflate() flush value.  If flush is Z_FINISH, then the deflate() state is
   reset to start a new gzip stream.  If gz->direct is true, then simply write
   to the output file without compressing, and ignore flush. ','line_number':72,'multiline':True]
['text':' allocate memory if this is the first time through ','line_number':86,'multiline':True]
['text':' write directly if requested ','line_number':90,'multiline':True]
['text':' run deflate() on provided input until it produces no more output ','line_number':105,'multiline':True]
['text':' write out current buffer contents if full, or if flushing, but if
           doing Z_FINISH then don't write until we get to Z_STREAM_END ','line_number':108,'multiline':True]
['text':' compress ','line_number':129,'multiline':True]
['text':' if that completed a deflate stream, allow another to start ','line_number':140,'multiline':True]
['text':' all done, no errors ','line_number':144,'multiline':True]
['text':' Compress len zeros to output.  Return -1 on a write error or memory
   allocation failure by gz_comp(), or 0 on success. ','line_number':148,'multiline':True]
['text':' consume whatever's left in the input buffer ','line_number':158,'multiline':True]
['text':' compress len zeros (len guaranteed > 0) ','line_number':162,'multiline':True]
['text':' Write len bytes from buf to file.  Return the number of bytes written.  If
   the returned value is less than len, then there was an error. ','line_number':181,'multiline':True]
['text':' if len is zero, avoid unnecessary operations ','line_number':190,'multiline':True]
['text':' allocate memory if this is the first time through ','line_number':194,'multiline':True]
['text':' check for seek request ','line_number':198,'multiline':True]
['text':' for small len, copy to input buffer, otherwise compress directly ','line_number':205,'multiline':True]
['text':' copy to input buffer, compress when full ','line_number':207,'multiline':True]
['text':' consume whatever's left in the input buffer ','line_number':228,'multiline':True]
['text':' directly compress user buffer to file ','line_number':232,'multiline':True]
['text':' input was all buffered or compressed ','line_number':246,'multiline':True]
['text':' -- see zlib.h -- ','line_number':250,'multiline':True]
['text':' get internal structure ','line_number':258,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':263,'multiline':True]
['text':' since an int is returned, make sure len fits in one, otherwise return
       with an error (this avoids a flaw in the interface) ','line_number':267,'multiline':True]
['text':' write len bytes from buf (the return value will fit in an int) ','line_number':274,'multiline':True]
['text':' -- see zlib.h -- ','line_number':278,'multiline':True]
['text':' get internal structure ','line_number':288,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':294,'multiline':True]
['text':' compute bytes to read -- error on overflow ','line_number':298,'multiline':True]
['text':' write len bytes to buf, return the number of full items written ','line_number':305,'multiline':True]
['text':' -- see zlib.h -- ','line_number':309,'multiline':True]
['text':' get internal structure ','line_number':319,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':325,'multiline':True]
['text':' check for seek request ','line_number':329,'multiline':True]
['text':' try writing to input buffer for speed (state.state->size == 0 if buffer not
       initialized) ','line_number':336,'multiline':True]
['text':' no room in buffer or not initialized, use gz_write() ','line_number':350,'multiline':True]
['text':' -- see zlib.h -- ','line_number':357,'multiline':True]
['text':' get internal structure ','line_number':366,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':371,'multiline':True]
['text':' write string ','line_number':375,'multiline':True]
['text':' -- see zlib.h -- ','line_number':384,'multiline':True]
['text':' get internal structure ','line_number':393,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':399,'multiline':True]
['text':' make sure we have some buffer space ','line_number':403,'multiline':True]
['text':' check for seek request ','line_number':407,'multiline':True]
['text':' do the printf() into the input buffer, put length in len -- the input
       buffer is double-sized just for this function, so there is guaranteed to
       be state.state->size bytes available after the current contents ','line_number':414,'multiline':True]
['text':' check that printf() results fit in buffer ','line_number':438,'multiline':True]
['text':' update buffer and position, compress first half if past that ','line_number':442,'multiline':True]
['text':' !STDC && !Z_HAVE_STDARG_H ','line_number':468,'multiline':True]
['text':' -- see zlib.h -- ','line_number':470,'multiline':True]
['text':' get internal structure ','line_number':483,'multiline':True]
['text':' check that can really pass pointer in ints ','line_number':489,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':493,'multiline':True]
['text':' make sure we have some buffer space ','line_number':497,'multiline':True]
['text':' check for seek request ','line_number':501,'multiline':True]
['text':' do the printf() into the input buffer, put length in len -- the input
       buffer is double-sized just for this function, so there is guaranteed to
       be state.state->size bytes available after the current contents ','line_number':508,'multiline':True]
['text':' check that printf() results fit in buffer ','line_number':537,'multiline':True]
['text':' update buffer and position, compress first half if past that ','line_number':541,'multiline':True]
['text':' -- see zlib.h -- ','line_number':558,'multiline':True]
['text':' get internal structure ','line_number':565,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':570,'multiline':True]
['text':' check flush parameter ','line_number':574,'multiline':True]
['text':' check for seek request ','line_number':578,'multiline':True]
['text':' compress remaining data with requested flush ','line_number':585,'multiline':True]
['text':' -- see zlib.h -- ','line_number':590,'multiline':True]
['text':' get internal structure ','line_number':599,'multiline':True]
['text':' check that we're writing and that there's no error ','line_number':605,'multiline':True]
['text':' if no change is requested, then do nothing ','line_number':609,'multiline':True]
['text':' check for seek request ','line_number':613,'multiline':True]
['text':' change compression parameters for subsequent input ','line_number':620,'multiline':True]
['text':' flush previous input with previous parameters before changing ','line_number':622,'multiline':True]
['text':' -- see zlib.h -- ','line_number':632,'multiline':True]
['text':' get internal structure ','line_number':639,'multiline':True]
['text':' check that we're writing ','line_number':644,'multiline':True]
['text':' check for seek request ','line_number':648,'multiline':True]
['text':' flush, free memory, and close file ','line_number':655,'multiline':True]
