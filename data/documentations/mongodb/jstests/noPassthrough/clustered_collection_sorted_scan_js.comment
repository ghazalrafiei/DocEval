['text':'*
 * Tests that clustered collections can be used for sorted scanning without inserting
 * a blocking scan operator.
 ','line_number':1,'multiline':True]
['text':' Generate a clustered collection for the remainder of the testing','line_number':18,'multiline':False]
['text':' Generate a non-clustered collection for comparison','line_number':23,'multiline':False]
['text':' Put something in the collections so the planner has something to chew on.','line_number':27,'multiline':False]
['text':' Generate a clustered collection for the remainder of the testing','line_number':75,'multiline':False]
['text':' Put something in the collection so the planner has something to chew on.','line_number':83,'multiline':False]
['text':'','line_number':95,'multiline':False]
['text':' Some queries need an explicit sort only when the query/collection collations do not match.','line_number':96,'multiline':False]
['text':'','line_number':97,'multiline':False]
['text':' Empty match.','line_number':106,'multiline':False]
['text':' Comparison against a field other than the cluster field.','line_number':110,'multiline':False]
['text':' Query which contains an unsupported match expression.','line_number':114,'multiline':False]
['text':' Conjunction with one child which is an unsupported match expression and another which is a','line_number':118,'multiline':False]
['text':' comparison against a field other than the cluster field.','line_number':119,'multiline':False]
['text':' Match which compares the cluster field to a string.','line_number':124,'multiline':False]
['text':' Match which compares the cluster field to an object containing a string.','line_number':128,'multiline':False]
['text':' Match which compares the cluster field to an array containing a string.','line_number':132,'multiline':False]
['text':' $in query where one of the elements is a string.','line_number':136,'multiline':False]
['text':' Conjunction with one child which compares the cluster field to a string and another which','line_number':140,'multiline':False]
['text':' is a comparison against a field other than the cluster field.','line_number':141,'multiline':False]
['text':' Conjunction with one $in child which compares the cluster field to a string and another','line_number':145,'multiline':False]
['text':' which is a comparison against a field other than the cluster field.','line_number':146,'multiline':False]
['text':'','line_number':150,'multiline':False]
['text':' Some queries can omit the explicit sort regardless of collations. This is the case when','line_number':151,'multiline':False]
['text':' we can exclude string values of the cluster key in the output.','line_number':152,'multiline':False]
['text':'','line_number':153,'multiline':False]
['text':' Simple comparison on cluster key which omits strings.','line_number':155,'multiline':False]
['text':' Conjunction with multiple comparisons on cluster key which omits strings.','line_number':163,'multiline':False]
['text':' $in query against cluster key which omits strings.','line_number':167,'multiline':False]
['text':' Conjunction of $in query against cluster key and another comparison on a field other than','line_number':171,'multiline':False]
['text':' the cluster key. The first conjunct omits strings.','line_number':172,'multiline':False]
['text':' Conjunction with one comparison against the cluster key and one against another field. The','line_number':176,'multiline':False]
['text':' second conjunct omits strings.','line_number':177,'multiline':False]
['text':' Conjunction with one child which is an unsupported match expression and another which is','line_number':181,'multiline':False]
['text':' a comparison against the cluster field. The second conjunct omits strings.','line_number':182,'multiline':False]
['text':' Conjunction which contains a comparison of the cluster field to a string and a comparison','line_number':191,'multiline':False]
['text':' of the cluster field to a number. The second conjunct omits strings.','line_number':192,'multiline':False]
['text':' Conjunction which contains a $in comparison of the cluster field to a string and a $in','line_number':196,'multiline':False]
['text':' comparison of the cluster field to a number. The second conjunct omits strings.','line_number':197,'multiline':False]
['text':' Min and max are only supported on forward collection scans.','line_number':206,'multiline':False]
['text':' Min and max should be between 0 and collection size','line_number':208,'multiline':False]
['text':' inclusive','line_number':209,'multiline':False]
['text':' not inclusive','line_number':210,'multiline':False]
['text':' Ensure that the plan gets cached correctly','line_number':238,'multiline':False]
['text':' Because of the _a index above, we should have two alternatves -- filter via the','line_number':249,'multiline':False]
['text':' index then a blocking sort, or filter during a collection scan. Because of the blocking','line_number':250,'multiline':False]
['text':' sort and the fact that "a" doesnt actually filter anything, we expect the','line_number':251,'multiline':False]
['text':' collection scan to win.','line_number':252,'multiline':False]
['text':' Now run the query and verify that the results are expected. Run it a few times so that the','line_number':260,'multiline':False]
['text':' cached plan will be used.','line_number':261,'multiline':False]
['text':' Verify that there's a cache entry for this query','line_number':272,'multiline':False]
['text':' Actually run all the tests:','line_number':280,'multiline':False]
['text':' direction = ','line_number':284,'multiline':True]
['text':' direction = ','line_number':285,'multiline':True]
['text':'','line_number':290,'multiline':False]
['text':' Show that the direction of the sort does not affect the plans we are able to provide. Also show','line_number':291,'multiline':False]
['text':' the collation conditions under which we can avoid explicit sorts in the final plan.','line_number':292,'multiline':False]
['text':'','line_number':293,'multiline':False]
['text':' for collection ','line_number':304,'multiline':True]
['text':' for query ','line_number':304,'multiline':True]
['text':' direction = ','line_number':304,'multiline':True]
['text':' for collection ','line_number':306,'multiline':True]
['text':' for query ','line_number':306,'multiline':True]
['text':' direction = ','line_number':306,'multiline':True]
['text':' for collection ','line_number':308,'multiline':True]
['text':' for query ','line_number':308,'multiline':True]
['text':' direction = ','line_number':308,'multiline':True]
['text':' for collection ','line_number':310,'multiline':True]
['text':' for query ','line_number':310,'multiline':True]
['text':' direction = ','line_number':310,'multiline':True]
['text':' for collection ','line_number':312,'multiline':True]
['text':' for query ','line_number':312,'multiline':True]
['text':' direction = ','line_number':312,'multiline':True]
['text':' for collection ','line_number':314,'multiline':True]
['text':' for query ','line_number':314,'multiline':True]
['text':' direction = ','line_number':314,'multiline':True]
['text':' direction = ','line_number':318,'multiline':True]
['text':' direction = ','line_number':319,'multiline':True]
['text':' If we're sorting on multiple columns, we still need an explicit sort','line_number':321,'multiline':False]
