['text':'*
 * Tests query/command option $maxTimeMS.
 *
 * Creates a sharded cluster.
 * @tags: [
 *   requires_sharding,
 * ]
 ','line_number':1,'multiline':True]
['text':' Also set it on mongos (or if we're not connected to mongos, the primary).','line_number':22,'multiline':False]
['text':'','line_number':26,'multiline':False]
['text':' Simple positive test for query: a ~100 second query with a 100ms time limit should be','line_number':27,'multiline':False]
['text':' aborted.','line_number':28,'multiline':False]
['text':'','line_number':29,'multiline':False]
['text':'','line_number':47,'multiline':False]
['text':' Simple negative test for query: a ~300ms query with a 10s time limit should not hit the time','line_number':48,'multiline':False]
['text':' limit.','line_number':49,'multiline':False]
['text':'','line_number':50,'multiline':False]
['text':'','line_number':67,'multiline':False]
['text':' Simple positive test for getmore:','line_number':68,'multiline':False]
['text':' - Issue a find() that returns 2 batches: a fast batch, then a slow batch.','line_number':69,'multiline':False]
['text':' - The find() has a 4-second time limit; the first batch should run "instantly", but the','line_number':70,'multiline':False]
['text':' second','line_number':71,'multiline':False]
['text':'   batch takes ~15 seconds, so the getmore should be aborted.','line_number':72,'multiline':False]
['text':'','line_number':73,'multiline':False]
['text':' fast batch','line_number':77,'multiline':False]
['text':' slow batch','line_number':79,'multiline':False]
['text':'','line_number':103,'multiline':False]
['text':' Simple negative test for getmore:','line_number':104,'multiline':False]
['text':' - Issue a find() that returns 2 batches: a fast batch, then a slow batch.','line_number':105,'multiline':False]
['text':' - The find() has a 10-second time limit; the first batch should run "instantly", and the','line_number':106,'multiline':False]
['text':' second','line_number':107,'multiline':False]
['text':'   batch takes only ~2 seconds, so both the query and getmore should not hit the time limit.','line_number':108,'multiline':False]
['text':'','line_number':109,'multiline':False]
['text':' fast batch','line_number':113,'multiline':False]
['text':' slow batch','line_number':114,'multiline':False]
['text':'','line_number':137,'multiline':False]
['text':' Many-batch positive test for getmore:','line_number':138,'multiline':False]
['text':' - Issue a many-batch find() with a 6-second time limit where the results take 10 seconds to','line_number':139,'multiline':False]
['text':'   generate; one of the later getmore ops should be aborted.','line_number':140,'multiline':False]
['text':'','line_number':141,'multiline':False]
['text':'','line_number':165,'multiline':False]
['text':' Many-batch negative test for getmore:','line_number':166,'multiline':False]
['text':' - Issue a many-batch find() with a 20-second time limit where the results take 10 seconds to','line_number':167,'multiline':False]
['text':'   generate; the find() should not hit the time limit.','line_number':168,'multiline':False]
['text':'','line_number':169,'multiline':False]
['text':' SERVER-40305: Add some additional logging here in case this fails to help us track','line_number':187,'multiline':False]
['text':' down why it failed.','line_number':188,'multiline':False]
['text':'','line_number':195,'multiline':False]
['text':' Simple positive test for commands: a ~300ms command with a 100ms time limit should be','line_number':196,'multiline':False]
['text':' aborted.','line_number':197,'multiline':False]
['text':'','line_number':198,'multiline':False]
['text':' Test-only sleep command is not supported on mongos.','line_number':201,'multiline':False]
['text':'','line_number':209,'multiline':False]
['text':' Simple negative test for commands: a ~300ms command with a 10s time limit should not hit the','line_number':210,'multiline':False]
['text':' time limit.','line_number':211,'multiline':False]
['text':'','line_number':212,'multiline':False]
['text':' Test-only sleep command is not supported on mongos.','line_number':215,'multiline':False]
['text':'','line_number':222,'multiline':False]
['text':' Tests for input validation.','line_number':223,'multiline':False]
['text':'','line_number':224,'multiline':False]
['text':' Verify lower boundary for acceptable input (0 is acceptable, 1 isn't).','line_number':229,'multiline':False]
['text':' Verify upper boundary for acceptable input (2^31-1 is acceptable, 2^31 isn't).','line_number':258,'multiline':False]
['text':' Verify invalid values are rejected.','line_number':291,'multiline':False]
['text':' Verify that the server rejects invalid command argument $maxTimeMS.','line_number':320,'multiline':False]
['text':'','line_number':325,'multiline':False]
['text':' Tests for fail points maxTimeAlwaysTimeOut and maxTimeNeverTimeOut.','line_number':326,'multiline':False]
['text':'','line_number':327,'multiline':False]
['text':' maxTimeAlwaysTimeOut positive test for command.','line_number':329,'multiline':False]
['text':' maxTimeNeverTimeOut positive test for command. Don't run on mongos because there's no','line_number':341,'multiline':False]
['text':' sleep command.','line_number':342,'multiline':False]
['text':' maxTimeAlwaysTimeOut positive test for query.','line_number':355,'multiline':False]
['text':' maxTimeNeverTimeOut positive test for query.','line_number':366,'multiline':False]
['text':' maxTimeAlwaysTimeOut positive test for getmore.','line_number':386,'multiline':False]
['text':' maxTimeNeverTimeOut positive test for getmore.','line_number':405,'multiline':False]
['text':' fast batch','line_number':408,'multiline':False]
['text':' slow batch','line_number':410,'multiline':False]
['text':'','line_number':440,'multiline':False]
['text':' Test that maxTimeMS is accepted by commands that have an option allowlist.','line_number':441,'multiline':False]
['text':'','line_number':442,'multiline':False]
['text':' The namespace must exist for collMod to work.','line_number':445,'multiline':False]
['text':' "aggregate" command.','line_number':448,'multiline':False]
['text':' "collMod" command.','line_number':452,'multiline':False]
['text':' "createIndexes" command.','line_number':455,'multiline':False]
['text':'','line_number':460,'multiline':False]
['text':' Test count shell helper (see SERVER-13334).','line_number':461,'multiline':False]
['text':'','line_number':462,'multiline':False]
