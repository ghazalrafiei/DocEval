['text':'*
 * Tests the behavior of $merge being run on a secondary.
 *
 * @tags: [
 *   assumes_unsharded_collection,
 *   requires_replication,
 * ]
 ','line_number':1,'multiline':True]
['text':' Make sure $merge succeeds with all combinations of merge modes in which it is expected to.','line_number':31,'multiline':False]
['text':' Skip when whenNotMatchedMode is 'fail' since the output collection is empty, so this','line_number':33,'multiline':False]
['text':' will cause the aggregation to fail.','line_number':34,'multiline':False]
['text':' Verify that writeErrors are promoted to top-level errors.','line_number':64,'multiline':False]
