['text':'*
 * Tests the maxAwaitTimeMS and topologyVersion parameters of the hello command, and its aliases,
 * isMaster and ismaster.
 * @tags: [requires_replication]
 ','line_number':1,'multiline':True]
['text':' ErrorCodes','line_number':9,'multiline':False]
['text':' runTest takes in the hello command or its aliases, isMaster and ismaster.','line_number':12,'multiline':False]
['text':' Check the command response contains a topologyVersion even if maxAwaitTimeMS and','line_number':14,'multiline':False]
['text':' topologyVersion are not included in the request.','line_number':15,'multiline':False]
['text':' Check that the command succeeds when passed a valid topologyVersion and maxAwaitTimeMS. In','line_number':23,'multiline':False]
['text':' this case, use the topologyVersion from the previous command response. The topologyVersion','line_number':24,'multiline':False]
['text':' field is expected to be of the form {processId: <ObjectId>, counter: <long>}.','line_number':25,'multiline':False]
['text':' Ensure the command waits for at least maxAwaitTimeMS before returning, and doesn't appear in','line_number':29,'multiline':False]
['text':' slow query log even if it takes many seconds.','line_number':30,'multiline':False]
['text':' Get the slow query log failpoint for the command, to know the current timesEntered before','line_number':35,'multiline':False]
['text':' the command runs.','line_number':36,'multiline':False]
['text':' Allow for some clock imprecision between the server and the jstest.','line_number':42,'multiline':False]
['text':' Get the slow query log failpoint for the command, to make sure that it didn't get hit during','line_number':48,'multiline':False]
['text':' the command run by checking that timesEntered is the same as before.','line_number':49,'multiline':False]
['text':' Check that the command appears in the slow query log if it's unexpectedly slow.','line_number':53,'multiline':False]
['text':' Use a skip of 1, since the parallel shell runs hello when it starts.','line_number':62,'multiline':False]
['text':' Make the command hang for a second in the parallel shell.','line_number':68,'multiline':False]
['text':' Wait for the parallel shell to finish.','line_number':71,'multiline':False]
['text':' Wait for the command to be logged.','line_number':74,'multiline':False]
['text':' Check that when a different processId is given, the server responds immediately.','line_number':77,'multiline':False]
['text':' Check that when a different processId is given, a higher counter is allowed.','line_number':90,'multiline':False]
['text':' Check that when the same processId is given, a higher counter is not allowed.','line_number':98,'multiline':False]
['text':' Check that passing a topologyVersion not of type object fails.','line_number':109,'multiline':False]
['text':' Check that a topologyVersion with an invalid processId and valid counter fails.','line_number':114,'multiline':False]
['text':' Check that a topologyVersion with a valid processId and invalid counter fails.','line_number':122,'multiline':False]
['text':' Check that a topologyVersion with a valid processId but missing counter fails.','line_number':130,'multiline':False]
['text':' Check that a topologyVersion with a missing processId and valid counter fails.','line_number':138,'multiline':False]
['text':' Check that a topologyVersion with a valid processId and negative counter fails.','line_number':146,'multiline':False]
['text':' Check that the command fails if there is an extra field in its topologyVersion.','line_number':154,'multiline':False]
['text':' A client following the awaitable hello/isMaster protocol must include topologyVersion in','line_number':166,'multiline':False]
['text':' their request if and only if they include maxAwaitTimeMS. Check that the command fails if','line_number':167,'multiline':False]
['text':' there is a topologyVersion but no maxAwaitTimeMS field.','line_number':168,'multiline':False]
['text':' Check that the command fails if there is a maxAwaitTimeMS field but no topologyVersion.','line_number':172,'multiline':False]
['text':' Check that the command fails if there is a valid topologyVersion but invalid maxAwaitTimeMS','line_number':175,'multiline':False]
['text':' type.','line_number':176,'multiline':False]
['text':' Check that the command fails if there is a valid topologyVersion but negative maxAwaitTimeMS.','line_number':184,'multiline':False]
['text':' getting BadValue when binary is > 7.1, else kIDLParserComparisonError','line_number':196,'multiline':False]
['text':' Set command log verbosity to 0 to avoid logging *all* commands in the "slow query" log.','line_number':199,'multiline':False]
