['text':' Test that 'atClusterTime' triggers a noop write to advance the lastApplied optime if','line_number':1,'multiline':False]
['text':' necessary.  This covers the case where a read is done at a cluster time that is only present','line_number':2,'multiline':False]
['text':' as an actual opTime on another shard.','line_number':3,'multiline':False]
['text':' @tags: [','line_number':4,'multiline':False]
['text':'   requires_sharding,','line_number':5,'multiline':False]
['text':'   uses_atclustertime,','line_number':6,'multiline':False]
['text':'   uses_transactions,','line_number':7,'multiline':False]
['text':' ]','line_number':8,'multiline':False]
['text':' The ShardingUptimeReporter only exists on mongos.','line_number':20,'multiline':False]
['text':' Create database "test0" on shard 0.','line_number':36,'multiline':False]
['text':' Create a database "test1" on shard 1.','line_number':42,'multiline':False]
['text':' Perform a write on the fromDB and get its op time.','line_number':59,'multiline':False]
['text':' Propagate 'clusterTime' to toRS or the config server. This ensures that its next','line_number':65,'multiline':False]
['text':' write will be at time >= 'clusterTime'. We cannot use toDBFromMongos to propagate','line_number':66,'multiline':False]
['text':' 'clusterTime' to the config server, because mongos only routes to the config server','line_number':67,'multiline':False]
['text':' for the 'config' and 'admin' databases.','line_number':68,'multiline':False]
['text':' Attempt a snapshot read at 'clusterTime' on toRS. Test that it performs a noop write','line_number':75,'multiline':False]
['text':' to advance its lastApplied optime past 'clusterTime'. The snapshot read itself may','line_number':76,'multiline':False]
['text':' fail if the noop write advances the node's majority commit point past 'clusterTime'','line_number':77,'multiline':False]
['text':' and it releases that snapshot.','line_number':78,'multiline':False]
['text':'','line_number':100,'multiline':False]
['text':' Test noop write. Read from the destination shard.','line_number':101,'multiline':False]
['text':'','line_number':102,'multiline':False]
