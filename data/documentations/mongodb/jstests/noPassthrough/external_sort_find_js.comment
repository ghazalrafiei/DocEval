['text':'*
 * Test that the find command can spill to disk while executing a blocking sort.
 ','line_number':1,'multiline':True]
['text':' Only allow blocking sort execution to use 100 kB of memory.','line_number':7,'multiline':False]
['text':' Construct a document that is just over 1 kB.','line_number':23,'multiline':False]
['text':' Insert data into the collection without exceeding the memory threshold.','line_number':29,'multiline':False]
['text':' We should be able to successfully sort the collection with or without disk use allowed.','line_number':35,'multiline':False]
['text':' Use getPlanStage() instead of getAggPlanStage(), because the pipeline is optimized away for','line_number':55,'multiline':False]
['text':' this query.','line_number':56,'multiline':False]
['text':' Explain should report that less than 100 kB of memory was used, and we did not spill to disk.','line_number':68,'multiline':False]
['text':' Test that this result is the same whether or not 'allowDiskUse' is set.','line_number':69,'multiline':False]
['text':' Add enough data to exceed the memory threshold.','line_number':79,'multiline':False]
['text':' The sort should fail if disk use is not allowed, but succeed if disk use is allowed.','line_number':85,'multiline':False]
['text':' Explain should report that the SORT stage failed if disk use is not allowed.','line_number':93,'multiline':False]
['text':' SBE will not report the 'failed' field within sort stats.','line_number':96,'multiline':False]
['text':' Explain should report that >=100 kB of memory was used, and that we spilled to disk.','line_number':106,'multiline':False]
['text':' If disk use is not allowed but there is a limit, we should be able to avoid exceeding the memory','line_number':112,'multiline':False]
['text':' limit.','line_number':113,'multiline':False]
['text':' Create a view on top of the collection. When a find command is run against the view without disk','line_number':121,'multiline':False]
['text':' use allowed, the command should fail with the expected error code. When the find command allows','line_number':122,'multiline':False]
['text':' disk use, however, the command should succeed.','line_number':123,'multiline':False]
['text':' Computing the expected number of spills based on the approximate document size. At this moment','line_number':133,'multiline':False]
['text':' the number of documents in the collection is 'kNumDocsExceedingMemLimit'','line_number':134,'multiline':False]
['text':' Verify that performing sorting on the collection using find that exceeds the memory limit results','line_number':139,'multiline':False]
['text':' in 'expectedNumberOfSpills' when allowDiskUse is set to true.','line_number':140,'multiline':False]
['text':' Verify that performing sorting on the collection using aggregate that exceeds the memory limit','line_number':145,'multiline':False]
['text':' and can be optimized away results in 'expectedNumberOfSpills' when allowDiskUse is set to true.','line_number':146,'multiline':False]
['text':' Verify that performing sorting on the collection using aggregate pipeline that exceeds the memory','line_number':155,'multiline':False]
['text':' limit and can not be optimized away results in 'expectedNumberOfSpills' when allowDiskUse is set','line_number':156,'multiline':False]
['text':' to true.','line_number':157,'multiline':False]
