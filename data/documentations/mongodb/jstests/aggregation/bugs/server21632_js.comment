['text':' Cannot implicitly shard accessed collections because the coll.stats() output from a mongod when','line_number':1,'multiline':False]
['text':' run against a sharded collection is wrapped in a "shards" object with keys for each shard.','line_number':2,'multiline':False]
['text':' @tags: [','line_number':3,'multiline':False]
['text':'   assumes_unsharded_collection,','line_number':4,'multiline':False]
['text':'   not_allowed_with_signed_security_token,','line_number':5,'multiline':False]
['text':' ]','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':' This test is designed to stress $sample, and any optimizations a storage engine might provide.','line_number':8,'multiline':False]
['text':'','line_number':9,'multiline':False]
['text':' A $sample stage as the first stage in a pipeline should ideally have a uniform distribution, so','line_number':10,'multiline':False]
['text':' should at least have the following properties:','line_number':11,'multiline':False]
['text':'   1. In a collection of N documents, we have a high probability of seeing at least N/4 distinct','line_number':12,'multiline':False]
['text':'      documents after sampling N times.','line_number':13,'multiline':False]
['text':'   2. We should not see any duplicate documents in any one $sample (this is only guaranteed if','line_number':14,'multiline':False]
['text':'      there are no ongoing write operations).','line_number':15,'multiline':False]
['text':' If there is no collection, or no documents in the collection, we should not get any results','line_number':21,'multiline':False]
['text':' from a sample.','line_number':22,'multiline':False]
['text':' If we are performing secondary reads against a replica set, we need to wait for the created','line_number':28,'multiline':False]
['text':' collection to replicate to all of the secondaries before we attempt to run coll.stats() on it','line_number':29,'multiline':False]
['text':' since coll.stats() is not causally consistent.','line_number':30,'multiline':False]
['text':' Test if we are running WT + LSM and if so, skip the test.','line_number':35,'multiline':False]
['text':' WiredTiger LSM random cursor implementation doesn't currently give random enough','line_number':36,'multiline':False]
['text':' distribution to pass this test case, so disable the test when checking an LSM','line_number':37,'multiline':False]
['text':' configuration for now. We will need revisit this before releasing WiredTiger LSM','line_number':38,'multiline':False]
['text':' as a supported file type. (See: WT-2403 for details on forthcoming changes)','line_number':39,'multiline':False]
['text':' If there is only one document, we should get that document.','line_number':50,'multiline':False]
['text':' Insert a bunch of documents.','line_number':57,'multiline':False]
['text':' Will contain a document's _id as a key if we've ever seen that document.','line_number':65,'multiline':False]
['text':' Repeatedly ask for small samples of documents to get a cumulative sample of size 'nDocs'.','line_number':72,'multiline':False]
['text':' Check that there are no duplicate documents in the result of any single sample.','line_number':78,'multiline':False]
['text':' An implementation would have to be very broken for this assertion to fail.','line_number':90,'multiline':False]
['text':' Make sure we can return all documents in the collection.','line_number':93,'multiline':False]
