['text':' This is the test for $documents stage in aggregation pipeline.','line_number':1,'multiline':False]
['text':' The $documents follows these rules:','line_number':2,'multiline':False]
['text':' * $documents must be in the beginning of the pipeline,','line_number':3,'multiline':False]
['text':' * $documents content must evaluate into an array of objects.','line_number':4,'multiline':False]
['text':' @tags: [','line_number':5,'multiline':False]
['text':'   do_not_wrap_aggregations_in_facets','line_number':6,'multiline':False]
['text':' ]','line_number':7,'multiline':False]
['text':' $documents given an array of objects.','line_number':22,'multiline':False]
['text':' $documents evaluates to an array of objects.','line_number':29,'multiline':False]
['text':' $documents evaluates to an array of objects.','line_number':39,'multiline':False]
['text':' $documents with const objects inside $unionWith (no "coll").','line_number':54,'multiline':False]
['text':' $documents with const objects inside $lookup (no "coll", explicit $match).','line_number':64,'multiline':False]
['text':' $documents with const objects inside $lookup (no "coll", + localField/foreignField).','line_number':98,'multiline':False]
['text':' Must fail when $document appears in the top level collection pipeline.','line_number':122,'multiline':False]
['text':' Must fail due to misplaced $document.','line_number':127,'multiline':False]
['text':' Must fail due to misplaced $document when database doesn't exist.','line_number':132,'multiline':False]
['text':' Must fail due to misplaced $document when database doesn't exist and no collection specified.','line_number':138,'multiline':False]
['text':' $unionWith must fail because it requires a collection even when database does not exist','line_number':143,'multiline':False]
['text':' $unionWith must fail due to no $document','line_number':151,'multiline':False]
['text':' Test that $lookup fails due to no 'from' argument and no $documents stage.','line_number':156,'multiline':False]
['text':' Test that $lookup fails due to no 'from' argument and no pipeline field.','line_number':168,'multiline':False]
['text':' Test that $documents fails due to producing array of non-objects.','line_number':173,'multiline':False]
['text':' Now with one object and one scalar.','line_number':177,'multiline':False]
['text':' Test that $documents fails due when provided a non-array.','line_number':182,'multiline':False]
['text':' Test that $documents succeeds when given a singleton object.','line_number':187,'multiline':False]
