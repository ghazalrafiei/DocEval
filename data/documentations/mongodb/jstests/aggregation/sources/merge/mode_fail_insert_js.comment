['text':' Tests the behavior of $merge with whenMatched: "fail" and whenNotMatched: "insert".','line_number':1,'multiline':False]
['text':'','line_number':15,'multiline':False]
['text':' Test $merge with a non-existent output collection.','line_number':16,'multiline':False]
['text':'','line_number':17,'multiline':False]
['text':'','line_number':23,'multiline':False]
['text':' Test $merge with an existing output collection.','line_number':24,'multiline':False]
['text':'','line_number':25,'multiline':False]
['text':'','line_number':31,'multiline':False]
['text':' Test that $merge fails if there's a duplicate key error.','line_number':32,'multiline':False]
['text':'','line_number':33,'multiline':False]
['text':'','line_number':36,'multiline':False]
['text':' Test that $merge will preserve the indexes and options of the output collection.','line_number':37,'multiline':False]
['text':'','line_number':38,'multiline':False]
['text':'','line_number':57,'multiline':False]
['text':' Test that $merge fails if it violates a unique index constraint.','line_number':58,'multiline':False]
['text':'','line_number':59,'multiline':False]
['text':'','line_number':67,'multiline':False]
['text':' Test that a $merge aggregation succeeds even if the _id is stripped out and the "unique key"','line_number':68,'multiline':False]
['text':' is the document key, which will be _id for a new collection.','line_number':69,'multiline':False]
['text':'','line_number':70,'multiline':False]
['text':'','line_number':80,'multiline':False]
['text':' Test that a $merge aggregation succeeds even if the _id is stripped out and _id is included','line_number':81,'multiline':False]
['text':' in the "on" fields.','line_number':82,'multiline':False]
['text':'','line_number':83,'multiline':False]
['text':'','line_number':101,'multiline':False]
['text':' Tests that a $merge aggregation fails with an error message indicating the duplicate key error','line_number':102,'multiline':False]
['text':' occured during the $merge.','line_number':103,'multiline':False]
['text':'','line_number':104,'multiline':False]
['text':' This time we should fail due to a collision on the "on" fields.','line_number':111,'multiline':False]
['text':' This time we should fail due to a collision on the "_id" field.','line_number':125,'multiline':False]
['text':'','line_number':139,'multiline':False]
['text':' Tests for $merge to a database that differs from the aggregation database.','line_number':140,'multiline':False]
['text':'','line_number':141,'multiline':False]
['text':'','line_number':163,'multiline':False]
['text':' Test that $merge implicitly creates a new database when the output collection's database','line_number':164,'multiline':False]
['text':' doesn't exist.','line_number':165,'multiline':False]
['text':'','line_number':166,'multiline':False]
['text':' Implicit database creation is prohibited in a cluster.','line_number':170,'multiline':False]
['text':' Explicitly create the collection and database, then fall through to the test below.','line_number':174,'multiline':False]
['text':'','line_number':178,'multiline':False]
['text':' Re-run the $merge aggregation, which should merge with the existing contents of the','line_number':179,'multiline':False]
['text':' collection. We rely on implicit _id generation to give us unique _id values.','line_number':180,'multiline':False]
['text':'','line_number':181,'multiline':False]
