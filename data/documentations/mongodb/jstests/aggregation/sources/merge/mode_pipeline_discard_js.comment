['text':' Tests the behaviour of the $merge stage with whenMatched=[pipeline] and whenNotMatched=discard.','line_number':1,'multiline':False]
['text':'','line_number':2,'multiline':False]
['text':' Cannot implicitly shard accessed collections because a collection can be implictly created and','line_number':3,'multiline':False]
['text':' exists when none is expected.','line_number':4,'multiline':False]
['text':' A helper function to create a pipeline with a $merge stage using a custom 'updatePipeline'','line_number':9,'multiline':False]
['text':' for the whenMatched mode. If 'initialStages' array is specified, the $merge stage will be','line_number':10,'multiline':False]
['text':' appended to this array and the result returned to the caller, otherwise an array with a','line_number':11,'multiline':False]
['text':' single $merge stage is returned. An output collection for the $merge stage is specified','line_number':12,'multiline':False]
['text':' in the 'target', and the $merge stage 'on' fields in the 'on' parameter.','line_number':13,'multiline':False]
['text':' Test $merge when some documents in the source collection don't have a matching document in','line_number':25,'multiline':False]
['text':' the target collection. The merge operation should succeed and unmatched documents discarded.','line_number':26,'multiline':False]
['text':' Single document without a match.','line_number':31,'multiline':False]
['text':' Multiple documents without a match.','line_number':40,'multiline':False]
['text':' Test $merge when all documents in the source collection have a matching document in the','line_number':47,'multiline':False]
['text':' target collection.','line_number':48,'multiline':False]
['text':' Source has a single element with a match in the target.','line_number':53,'multiline':False]
['text':' Source has multiple documents with matches in the target.','line_number':62,'multiline':False]
['text':' Test $merge when the source collection is empty. The target collection should not be','line_number':74,'multiline':False]
['text':' modified.','line_number':75,'multiline':False]
['text':' Test $merge does not insert a new document into the target collection if it was inserted','line_number':87,'multiline':False]
['text':' into the source collection.','line_number':88,'multiline':False]
['text':' Insert and merge a single document.','line_number':93,'multiline':False]
['text':' Insert and merge multiple documents.','line_number':99,'multiline':False]
['text':' Test $merge doesn't modify the target collection if a document has been removed from the','line_number':107,'multiline':False]
['text':' source collection.','line_number':108,'multiline':False]
['text':' Test $merge with an explicit 'on' field over a single or multiple document fields which','line_number':118,'multiline':False]
['text':' differ from the _id field.','line_number':119,'multiline':False]
['text':' Skip this test if the collection sharded, because an implicitly created sharded','line_number':122,'multiline':False]
['text':' key of {_id: 1} will not be covered by a unique index created in this test, which','line_number':123,'multiline':False]
['text':' is not allowed.','line_number':124,'multiline':False]
['text':' The 'on' fields contains a single document field.','line_number':135,'multiline':False]
['text':' The 'on' fields contains multiple document fields.','line_number':161,'multiline':False]
['text':' Test $merge with a dotted path in the 'on' field.','line_number':183,'multiline':False]
['text':' Skip this test if the collection sharded, because an implicitly created sharded','line_number':186,'multiline':False]
['text':' key of {_id: 1} will not be covered by a unique index created in this test, which','line_number':187,'multiline':False]
['text':' is not allowed.','line_number':188,'multiline':False]
['text':' Test $merge when the _id field is removed from the aggregate projection but is used in the','line_number':218,'multiline':False]
['text':' $merge's 'on' field.','line_number':219,'multiline':False]
['text':' The _id is a single 'on' field (a default one).','line_number':227,'multiline':False]
['text':' The _id is part of the compound 'on' field.','line_number':242,'multiline':False]
['text':' Test that variables referencing the fields in the source document can be specified in the','line_number':253,'multiline':False]
['text':' 'let' argument and referenced in the update pipeline.','line_number':254,'multiline':False]
