['text':'*
 * Test that densify works for partitions.
 * @tags: [
 *   # Needed as $densify is a 51 feature.
 *   requires_fcv_51,
 * ]
 ','line_number':1,'multiline':True]
['text':' Two docs in each of two partitions.','line_number':17,'multiline':False]
['text':' Same as test one, but partitions are interleaved.','line_number':75,'multiline':False]
['text':' Two larger partitions, interleaved.','line_number':102,'multiline':False]
['text':' Should have every document below 16 in first partition and 15 in the second.','line_number':114,'multiline':False]
['text':' Five small partitions.','line_number':135,'multiline':False]
['text':' Add an initial document to each partition.','line_number':141,'multiline':False]
['text':' Add a top document to each partition.','line_number':150,'multiline':False]
['text':' Verify the following test works in the full case without partitions.','line_number':166,'multiline':False]
['text':' Add an initial document.','line_number':171,'multiline':False]
['text':' Multiple partition fields.','line_number':191,'multiline':False]
['text':' Add an initial document to each partition.','line_number':198,'multiline':False]
['text':' Add a max document to each partition.','line_number':209,'multiline':False]
['text':' One partition doesn't need densifying.','line_number':229,'multiline':False]
['text':' Test partitioning with full where partitions need to be densified at the end.','line_number':256,'multiline':False]
['text':' Three partitions, each with only one document.','line_number':257,'multiline':False]
['text':' Add an initial document.','line_number':262,'multiline':False]
['text':' Test partitioning with dates with full where partitions need to be densified at the end.','line_number':284,'multiline':False]
['text':' Three partitions, each with only one document.','line_number':285,'multiline':False]
['text':' Add an initial document.','line_number':290,'multiline':False]
['text':' Same as above, but with extra documents in the middle of each partition somewhere.','line_number':319,'multiline':False]
['text':' Add an initial document.','line_number':324,'multiline':False]
['text':' Two partitions with no documents in the range.','line_number':349,'multiline':False]
['text':' Upper bound on range which is off-step from lower bound.','line_number':378,'multiline':False]
['text':' Three partitions, each with different documents w/respect to the range.','line_number':409,'multiline':False]
['text':' Test $densify with partitions and explicit bounds that are inside the collection's total range of','line_number':474,'multiline':False]
['text':' values for the field we are densifying.','line_number':475,'multiline':False]
['text':' Total range is [-2995, 3000] so [-399, -19] is within that.','line_number':492,'multiline':False]
['text':' Test negative numbers.','line_number':503,'multiline':False]
['text':' Add an initial document.','line_number':508,'multiline':False]
['text':' Test a single document collection.','line_number':529,'multiline':False]
['text':' Dots are interpreted as path separators.','line_number':571,'multiline':False]
['text':' Because dotted fields are interpreted as paths, when we write to 'metadata.sensorId'','line_number':584,'multiline':False]
['text':' it should create a nested document.','line_number':585,'multiline':False]
['text':' In this case, the dot in 'metadata.sensorId' traverses through an array, because','line_number':614,'multiline':False]
['text':' the whole 'metadata' subdocument is an array.','line_number':615,'multiline':False]
['text':' In this case, the dot does not traverse an array. But the path evaluates to an array,','line_number':628,'multiline':False]
['text':' so this is also an error.','line_number':629,'multiline':False]
