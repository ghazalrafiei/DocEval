['text':' 1 day ','line_number':8,'multiline':True]
['text':' Verify that the placementHistory document matches the related content stored in','line_number':60,'multiline':False]
['text':' config.databases.','line_number':61,'multiline':False]
['text':' after a movePrimary, the timestamp of the placementHistory document should be greater','line_number':67,'multiline':False]
['text':' since the timestamp associated to the config.databases document does not change (only','line_number':68,'multiline':False]
['text':' lastMod is updated).','line_number':69,'multiline':False]
['text':' No UUID field for DB namespaces','line_number':73,'multiline':False]
['text':' Verify that there is consistent placement info on the sharded collection and its parent DB.','line_number':84,'multiline':False]
['text':' Shard the collection. Ensure enough chunks to cover all shards.','line_number':110,'multiline':False]
['text':' Verify that a consistent document has been added to config.placementHistory and that its list','line_number':113,'multiline':False]
['text':' of shards matches the current content of config.shards','line_number':114,'multiline':False]
['text':' Setup - All the data are contained by a single chunk on the primary shard','line_number':120,'multiline':False]
['text':' Create two chunks, then move 1 to shard1 -> the recipient should be present in a new','line_number':129,'multiline':False]
['text':' placement entry','line_number':130,'multiline':False]
['text':' Move out the last chunk from shard0 to shard2 - a new placement entry should appear, where','line_number':141,'multiline':False]
['text':' the donor has been removed and the recipient inserted','line_number':142,'multiline':False]
['text':' Create a third chunk in shard1, then move it to shard2: since this migration does not alter','line_number':152,'multiline':False]
['text':' the subset of shards owning collection data, no new record should be inserted','line_number':153,'multiline':False]
['text':' Setup - All the data are contained by a single chunk on the primary shard','line_number':162,'multiline':False]
['text':' Move half of the existing chunk to shard 1 -> the recipient should be added to the placement','line_number':171,'multiline':False]
['text':' data','line_number':172,'multiline':False]
['text':' Move the other half to shard 1 -> shard 0 should be removed from the placement data','line_number':183,'multiline':False]
['text':' Create the database','line_number':195,'multiline':False]
['text':' Move the primary shard','line_number':198,'multiline':False]
['text':' Verify that the new primary shard is the one specified in the command.','line_number':201,'multiline':False]
['text':' isInitialPlacement ','line_number':202,'multiline':True]
['text':' Drop the collection','line_number':216,'multiline':False]
['text':' Verify that a single entry gets added with the expected content.','line_number':219,'multiline':False]
['text':' Verify that no placement entry gets added if dropCollection is repeated','line_number':227,'multiline':False]
['text':' Verify that no records get added in case an unsharded collection gets dropped','line_number':231,'multiline':False]
['text':'dropTarget','line_number':259,'multiline':True]
['text':' The old collection shouldn't be served by any shard anymore','line_number':261,'multiline':False]
['text':' The target collection should have','line_number':266,'multiline':False]
['text':' - an entry for its old incarnation (no shards should serve its data) at T1','line_number':267,'multiline':False]
['text':' - an entry for its renamed incarnation (with the same properties of','line_number':268,'multiline':False]
['text':' initialPlacementForOldColl) at T2 > T1','line_number':269,'multiline':False]
['text':'dropTarget','line_number':296,'multiline':True]
['text':' Create the database','line_number':303,'multiline':False]
['text':' Create an unsharded collection','line_number':307,'multiline':False]
['text':' Create a sharded collection','line_number':312,'multiline':False]
['text':' Drop the database','line_number':318,'multiline':False]
['text':' Verify that a new entry with an empty set of shards has been inserted for both dbName and','line_number':321,'multiline':False]
['text':' shardedCollName...','line_number':322,'multiline':False]
['text':' ...And that unshardedCollName stays untracked.','line_number':335,'multiline':False]
['text':' Start with a collection with a single chunk on shard0.','line_number':345,'multiline':False]
['text':' Create a set of zones that will force the new set of chunk to be distributed across all the','line_number':352,'multiline':False]
['text':' shards of the cluster.','line_number':353,'multiline':False]
['text':' Launch the reshard operation.','line_number':361,'multiline':False]
['text':' A single new placement document should have been added (the temp collection created by','line_number':368,'multiline':False]
['text':' resharding does not get tracked in config.placementHistory).','line_number':369,'multiline':False]
['text':' Verify that the latest placement info matches the expectations.','line_number':372,'multiline':False]
['text':' The resharded collection maintains its nss, but changes its uuid.','line_number':376,'multiline':False]
['text':' Create a new replica set and populate it with some initial DBs','line_number':381,'multiline':False]
['text':' Run addShard(); pre-existing collections in the replica set should be treated as unsharded','line_number':393,'multiline':False]
['text':' collections, while their parent DBs should appear in config.placementHistory with consistent','line_number':394,'multiline':False]
['text':' details.','line_number':395,'multiline':False]
['text':' Execute the test case teardown','line_number':409,'multiline':False]
