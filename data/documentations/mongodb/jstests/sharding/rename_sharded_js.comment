['text':'*
 * Test all the possible succeed/fail cases around sharded collections renaming.
 ','line_number':1,'multiline':True]
['text':'*
 * Initialize a "from" sharded collection with 2 chunks - on 2 different nodes - each containing 1
 * document. Rename to `toNs` with the provided options and get sure it succeeds/fails as expected.
 ','line_number':7,'multiline':True]
['text':' Never use the third shard, but leave it in order to indirectly check that rename participants','line_number':53,'multiline':False]
['text':' properly handle the following cases:','line_number':54,'multiline':False]
['text':' - Locally unknown source collection to rename','line_number':55,'multiline':False]
['text':' - Locally unknown target collection to drop','line_number':56,'multiline':False]
['text':' Rename non-existing source collection to a target collection/view (dropTarget=false) must','line_number':61,'multiline':False]
['text':' fail with NamespaceNotFound. Make sure the check on the source is done before any check on the','line_number':62,'multiline':False]
['text':' target for consistency with replicaset. We cannot delegate this to passthrough suite since in','line_number':63,'multiline':False]
['text':' those suites any non-existing collection will always be implicitely sharded at the first access','line_number':64,'multiline':False]
['text':' Rename non-existing source to non-existing target','line_number':70,'multiline':False]
['text':' Rename non-existing source to existing collection','line_number':76,'multiline':False]
['text':' Rename non-existing source to existing view','line_number':85,'multiline':False]
['text':' Rename to existing sharded target collection with dropTarget=true must succeed','line_number':94,'multiline':False]
['text':' dropTarget ','line_number':115,'multiline':True]
['text':' mustFail ','line_number':115,'multiline':True]
['text':' Rename to existing unsharded target collection with dropTarget=true must succeed','line_number':117,'multiline':False]
['text':' dropTarget ','line_number':126,'multiline':True]
['text':' mustFail ','line_number':126,'multiline':True]
['text':' Rename to existing unsharded target collection with dropTarget=false must fail','line_number':129,'multiline':False]
['text':' dropTarget ','line_number':138,'multiline':True]
['text':' mustFail ','line_number':138,'multiline':True]
['text':' Rename unsharded collection to sharded target collection with dropTarget=true must succeed','line_number':141,'multiline':False]
['text':' dropTarget ','line_number':162,'multiline':True]
['text':' Source collection just has documents with field `x`','line_number':164,'multiline':False]
['text':' Source collection just has documents with field `a`','line_number':166,'multiline':False]
['text':' Successful rename must pass tags from source to the target collection','line_number':170,'multiline':False]
['text':' dropTarget ','line_number':191,'multiline':True]
['text':' Compare field by field because keys can potentially be in different order','line_number':203,'multiline':False]
['text':' Rename to target collection with tags must fail','line_number':217,'multiline':False]
['text':' dropTarget','line_number':231,'multiline':True]
['text':' Rename to target collection with very a long name','line_number':234,'multiline':False]
['text':' dropTarget ','line_number':243,'multiline':True]
['text':' mustFail ','line_number':243,'multiline':True]
['text':' dropTarget ','line_number':246,'multiline':True]
['text':' mustFail ','line_number':246,'multiline':True]
['text':' For C2C: rename of existing collection with correct uuid as argument must succeed','line_number':250,'multiline':False]
['text':' (Also creating target collection to test target UUID internal check)','line_number':251,'multiline':False]
['text':' The command succeeds when the correct UUID is provided.','line_number':269,'multiline':False]
['text':' Rename between DBs after movePrimary works correctly','line_number':278,'multiline':False]
