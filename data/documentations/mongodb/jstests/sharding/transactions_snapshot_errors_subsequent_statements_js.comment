['text':' Tests mongos behavior on snapshot errors encountered during subsequent statements in a','line_number':1,'multiline':False]
['text':' multi-statement transaction. In particular, verifies that snapshot errors beyond the first','line_number':2,'multiline':False]
['text':' command in a transaction are fatal to the entire transaction.','line_number':3,'multiline':False]
['text':'','line_number':4,'multiline':False]
['text':' Runs against an unsharded collection, a sharded collection with all chunks on one shard, and a','line_number':5,'multiline':False]
['text':' sharded collection with one chunk on both shards.','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':' @tags: [requires_sharding, uses_transactions, uses_multi_shard_transaction]','line_number':8,'multiline':False]
['text':' findAndModify can only target one shard, even in the two shard case.','line_number':27,'multiline':False]
['text':' We cannot test killCursors because mongos discards the response from any killCursors','line_number':43,'multiline':False]
['text':' requests that may be sent to shards.','line_number':44,'multiline':False]
['text':' Distinct isn't allowed on sharded collections in a multi-document transaction.','line_number':56,'multiline':False]
['text':' Successfully start a transaction on one shard.','line_number':61,'multiline':False]
['text':' Verify the command must fail on a snapshot error from a subsequent statement.','line_number':65,'multiline':False]
['text':' Single shard case simulates the storage engine discarding an in-use snapshot.','line_number':88,'multiline':False]
['text':' isSharded ','line_number':90,'multiline':True]
['text':' Set up 2 chunks, [minKey, 10), [10, maxKey), each with one document (includes the document','line_number':95,'multiline':False]
['text':' already inserted).','line_number':96,'multiline':False]
['text':' isSharded ','line_number':109,'multiline':True]
['text':' Multi shard case simulates adding a new participant that can no longer support the already','line_number':120,'multiline':False]
['text':' chosen read timestamp.','line_number':121,'multiline':False]
['text':' isSharded ','line_number':123,'multiline':True]
