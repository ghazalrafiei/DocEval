['text':'*
 * This is the test for $documents stage in aggregation pipeline on a sharded collection.
 * @tags: [ do_not_wrap_aggregations_in_facets, requires_fcv_51 ]
 *
 ','line_number':1,'multiline':True]
['text':' Create sharded collections.','line_number':14,'multiline':False]
['text':' $documents given an array of objects.','line_number':24,'multiline':False]
['text':' $documents evaluates to an array of objects.','line_number':31,'multiline':False]
['text':' $documents evaluates to an array of objects.','line_number':40,'multiline':False]
['text':' $documents with const objects inside $unionWith.','line_number':54,'multiline':False]
['text':' $documents with const objects inside $lookup (no "coll", explicit $match).','line_number':64,'multiline':False]
['text':' $documents with const objects inside $lookup (no "coll", + localField/foreignField).','line_number':98,'multiline':False]
['text':' Must fail when $document appears in the top level collection pipeline.','line_number':123,'multiline':False]
['text':' Must fail due to misplaced $document.','line_number':128,'multiline':False]
['text':' Test that $documents fails due to producing array of non-objects.','line_number':133,'multiline':False]
['text':' Now with one object and one scalar.','line_number':138,'multiline':False]
['text':' Test that $documents fails due when provided a non-array.','line_number':143,'multiline':False]
['text':' Test that $documents succeeds when given a singleton object.','line_number':148,'multiline':False]
['text':' Must fail when $document appears in the top level collection pipeline.','line_number':151,'multiline':False]
