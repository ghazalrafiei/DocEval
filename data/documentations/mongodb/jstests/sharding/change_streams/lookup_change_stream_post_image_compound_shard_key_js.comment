['text':' Tests the behavior of looking up the post image for change streams on collections which are','line_number':1,'multiline':False]
['text':' sharded with a compound shard key.','line_number':2,'multiline':False]
['text':' @tags: [','line_number':3,'multiline':False]
['text':'   requires_majority_read_concern,','line_number':4,'multiline':False]
['text':'   uses_change_streams,','line_number':5,'multiline':False]
['text':' ]','line_number':6,'multiline':False]
['text':' Use a higher frequency for periodic noops to speed up the test.','line_number':12,'multiline':False]
['text':' Enable sharding on the test DB and ensure its primary is st.shard0.shardName.','line_number':22,'multiline':False]
['text':' Shard the test collection with a compound shard key: a, b, c. Then split it into two chunks,','line_number':26,'multiline':False]
['text':' and put one chunk on each shard.','line_number':27,'multiline':False]
['text':' Split the collection into 2 chunks:','line_number':31,'multiline':False]
['text':' [{a: MinKey, b: MinKey, c: MinKey}, {a: 1,      b: MinKey, c: MinKey})','line_number':32,'multiline':False]
['text':' and','line_number':33,'multiline':False]
['text':' [{a: 1,      b: MinKey, c: MinKey}, {a: MaxKey, b: MaxKey, c: MaxKey}).','line_number':34,'multiline':False]
['text':' Move the upper chunk to shard 1.','line_number':38,'multiline':False]
['text':' This shard key function results in 1/3rd of documents on shard0 and 2/3rds on shard1.','line_number':51,'multiline':False]
['text':' Do some writes.','line_number':56,'multiline':False]
['text':' Test that the change stream can still see the updated post image, even if a chunk is','line_number':82,'multiline':False]
['text':' migrated.','line_number':83,'multiline':False]
['text':' Move the upper chunk back to shard 0.','line_number':89,'multiline':False]
