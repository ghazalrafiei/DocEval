['text':'*
 * Basic test from the drop collection command on a sharded cluster that verifies collections are
 * cleaned up properly.
 ','line_number':1,'multiline':True]
['text':' No more documents','line_number':23,'multiline':False]
['text':' No more tags','line_number':27,'multiline':False]
['text':' Sharding metadata checks','line_number':32,'multiline':False]
['text':' No more coll entry','line_number':34,'multiline':False]
['text':' No more chunks','line_number':40,'multiline':False]
['text':' Verify that persisted cached metadata was removed as part of the dropCollection','line_number':47,'multiline':False]
['text':' Create the collection','line_number':61,'multiline':False]
['text':' Drop the collection','line_number':64,'multiline':False]
['text':' Create the database','line_number':73,'multiline':False]
['text':' Add a zone','line_number':75,'multiline':False]
['text':' Create the collection','line_number':80,'multiline':False]
['text':' Drop the collection','line_number':82,'multiline':False]
['text':' Create the database','line_number':91,'multiline':False]
['text':' Create the collection','line_number':94,'multiline':False]
['text':' Drop the collection','line_number':99,'multiline':False]
['text':' Create the database','line_number':110,'multiline':False]
['text':' Add a zone','line_number':112,'multiline':False]
['text':' Drop the collection','line_number':117,'multiline':False]
['text':' Spread chunks on all the shards','line_number':130,'multiline':False]
['text':' Insert two documents','line_number':134,'multiline':False]
['text':' Check that data is in place','line_number':138,'multiline':False]
['text':' Drop the collection','line_number':142,'multiline':False]
['text':' Call drop again to verify that the command is idempotent.','line_number':147,'multiline':False]
['text':' Spread chunks on all the shards','line_number':159,'multiline':False]
['text':' Add tags','line_number':163,'multiline':False]
['text':' Checks that data and metadata are in place','line_number':171,'multiline':False]
['text':' Drop the collection','line_number':178,'multiline':False]
['text':' Call drop again to verify that the command is idempotent.','line_number':183,'multiline':False]
['text':'
 * Test that moving database primary works after dropping and recreating the same sharded
 * collection.
 * The new primary never owned a chunk of the sharded collection.
 ','line_number':188,'multiline':True]
['text':'
 * Test that moving database primary works after dropping and recreating the same sharded
 * collection.
 * The new primary previously owned a chunk of the original collection.
 ','line_number':224,'multiline':True]
['text':' Create a non-sharded collection','line_number':281,'multiline':False]
['text':' Drop the collection','line_number':286,'multiline':False]
['text':' Verify that the drop collection start event has been logged','line_number':290,'multiline':False]
['text':' Verify that the drop collection end event has been logged','line_number':295,'multiline':False]
['text':' Create a sharded collection','line_number':303,'multiline':False]
['text':' Distribute the chunks among the shards','line_number':310,'multiline':False]
['text':' Drop the collection','line_number':317,'multiline':False]
['text':' Verify that the drop collection start event has been logged','line_number':322,'multiline':False]
['text':' Verify that the drop collection end event has been logged','line_number':327,'multiline':False]
['text':' Create a sharded collection','line_number':335,'multiline':False]
['text':' At this point only one shard has valid filtering information (i.e. the one that has data).','line_number':343,'multiline':False]
['text':' Below we are forcing to all shards to have their valid filtering information. For the shard','line_number':344,'multiline':False]
['text':' that doesn't own any data, that means having a filtering information stating that no chunks','line_number':345,'multiline':False]
['text':' are owned by that shard.','line_number':346,'multiline':False]
['text':' Drop the collection','line_number':352,'multiline':False]
['text':' Requires all primary shard nodes to be running the latest version','line_number':362,'multiline':False]
['text':' Create a sharded collection','line_number':375,'multiline':False]
['text':' Pause before first range deletion task','line_number':383,'multiline':False]
['text':' Distribute the chunks among the shards','line_number':386,'multiline':False]
['text':' Drop the collection','line_number':396,'multiline':False]
['text':' Verify that the range deletion documents are deleted','line_number':401,'multiline':False]
['text':' Allow everything to finish','line_number':404,'multiline':False]
