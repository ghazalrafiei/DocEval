['text':' Tests that commands like find, aggregate and update accepts a 'let' parameter which defines','line_number':1,'multiline':False]
['text':' variables for use in expressions within the command.','line_number':2,'multiline':False]
['text':' @tags: [','line_number':3,'multiline':False]
['text':'   # Before 7.2, $rand was evaluated more than once in sharded find (SERVER-75927).','line_number':4,'multiline':False]
['text':'   requires_fcv_72,','line_number':5,'multiline':False]
['text':' ]','line_number':6,'multiline':False]
['text':'','line_number':7,'multiline':False]
['text':' TODO SERVER-80226: Remove this import','line_number':10,'multiline':False]
['text':' Aggregate tests','line_number':56,'multiline':False]
['text':' Test that running explain on the agg command works as expected.','line_number':87,'multiline':False]
['text':' TODO SERVER-77719: Extend the testing for unwind operator to CQF optimizer.','line_number':94,'multiline':False]
['text':' TODO SERVER-80226: Remove 'featureFlagSbeFull' used by $unwind Pushdown feature.','line_number':96,'multiline':False]
['text':' $unwind should be pushed down to SBE.','line_number':98,'multiline':False]
['text':' Test that if runtimeConstants and let are both specified, both will coexist.','line_number':109,'multiline':False]
['text':' Runtime constants are not allowed on mongos passthroughs.','line_number':110,'multiline':False]
['text':' Test that undefined let params in the pipeline fail gracefully.','line_number':121,'multiline':False]
['text':' Test null and empty let parameters','line_number':130,'multiline':False]
['text':' Test that $project stage can use 'let' variables','line_number':158,'multiline':False]
['text':' Test that $project stage can access command-level 'let' variables.','line_number':186,'multiline':False]
['text':' Test that $project stage can use stage-level and command-level 'let' variables in same command.','line_number':210,'multiline':False]
['text':' Test that $project stage follows variable scoping rules with stage-level and command-level 'let'','line_number':239,'multiline':False]
['text':' variables.','line_number':240,'multiline':False]
['text':' Test that the find command works correctly with a let parameter argument.','line_number':269,'multiline':False]
['text':' Test that let parameters work as expected when the find is run as an explain.','line_number':288,'multiline':False]
['text':' Delete tests with let params will delete a record, assert that a point-wise find yields an','line_number':302,'multiline':False]
['text':' empty result, and then restore the collection state for further tests down the line. We can't','line_number':303,'multiline':False]
['text':' exercise a multi-delete here (limit: 0) because of failures in sharded txn passthrough tests.','line_number':304,'multiline':False]
['text':' Test that explain of a delete command works as expected with 'let' parameters.','line_number':319,'multiline':False]
['text':' TODO SERVER-77719: Extend the testing for CQF optimizer.','line_number':329,'multiline':False]
['text':' Test that the .remove() shell helper supports let parameters.','line_number':335,'multiline':False]
['text':' Test that reserved names are not allowed as let variable names.','line_number':347,'multiline':False]
['text':' Test that let variables can be used within views.','line_number':377,'multiline':False]
['text':' Test that explain of findAndModify works correctly with let parameters.','line_number':392,'multiline':False]
['text':' Querying on _id field for sharded collection passthroughs.','line_number':397,'multiline':False]
['text':' TODO SERVER-77719: Extend the testing for CQF optimizer.','line_number':404,'multiline':False]
['text':' Test that findAndModify works correctly with let parameter arguments.','line_number':411,'multiline':False]
['text':' Querying on _id field for sharded collection passthroughs.','line_number':415,'multiline':False]
['text':' Querying on _id field for sharded collection passthroughs.','line_number':429,'multiline':False]
['text':' Test that explain of update works correctly with let parameters.','line_number':441,'multiline':False]
['text':' TODO SERVER-77719: Extend the testing for CQF optimizer.','line_number':453,'multiline':False]
['text':' Test that update respects different parameters in both the query and update part.','line_number':460,'multiline':False]
['text':' Test that update respects runtime constants and parameters.','line_number':480,'multiline':False]
['text':' This forces a multi-statement transaction to commit if this test is running in one of the','line_number':500,'multiline':False]
['text':' multi-statement transaction passthrough suites. We need to do this to ensure the updates','line_number':501,'multiline':False]
['text':' above commit before running an update that will fail, as the failed update aborts the entire','line_number':502,'multiline':False]
['text':' transaction and rolls back the updates above.','line_number':503,'multiline':False]
['text':' Test that undefined let params in the update's query part fail gracefully.','line_number':506,'multiline':False]
['text':' Test that undefined let params in the update's update part fail gracefully.','line_number':517,'multiline':False]
['text':' Test that the .update() shell helper supports let parameters.','line_number':528,'multiline':False]
['text':' Test that let variables can be initialized with an expression.','line_number':544,'multiline':False]
['text':' Test that the expression cannot refer to any fields or variables.','line_number':556,'multiline':False]
['text':' Test that each expression can refer to previously defined let variables.','line_number':570,'multiline':False]
['text':' Test that $rand is allowed in the initializer.','line_number':586,'multiline':False]
['text':' Test that each initializer expression is evaluated separately.','line_number':599,'multiline':False]
['text':' Test that the expressions are evaluated once up front.','line_number':621,'multiline':False]
['text':' Test that expressions wrapped with $literal are serialized correctly when run in sharded cluster','line_number':635,'multiline':False]
['text':' environments.','line_number':636,'multiline':False]
