['text':' Confirms expected index use when performing a match with a $expr statement.','line_number':1,'multiline':False]
['text':' @tags: [','line_number':2,'multiline':False]
['text':'   assumes_read_concern_local,','line_number':3,'multiline':False]
['text':'   requires_fcv_63,','line_number':4,'multiline':False]
['text':' ]','line_number':5,'multiline':False]
['text':'*
 * Executes the expression 'expr' as both a find and an aggregate. Then confirms
 * 'metricsToCheck', which is an object containing:
 *  - nReturned:        The number of documents the pipeline is expected to return.
 *  - expectedIndex:    Either an index specification object when index use is expected or
 *                      'null' if a collection scan is expected.
 ','line_number':55,'multiline':True]
['text':' Verify that $expr returns the correct number of results when run inside the $match stage','line_number':73,'multiline':False]
['text':' of an aggregate.','line_number':74,'multiline':False]
['text':' Verify that $expr returns the correct number of results when run in a find command.','line_number':77,'multiline':False]
['text':' Verify that $expr returns the correct number of results when evaluated inside a $project,','line_number':84,'multiline':False]
['text':' with optimizations inhibited. We expect the plan to be COLLSCAN.','line_number':85,'multiline':False]
['text':' useQueryPlannerSection ','line_number':93,'multiline':True]
['text':' Verifies that there are no rejected plans, and that the winning plan uses the expected','line_number':96,'multiline':False]
['text':' index.','line_number':97,'multiline':False]
['text':'','line_number':98,'multiline':False]
['text':' 'getPlanStageFunc' is a function which can be called to obtain stage-specific information','line_number':99,'multiline':False]
['text':' from the explain output. There are different versions of this function for find and','line_number':100,'multiline':False]
['text':' aggregate explain output.','line_number':101,'multiline':False]
['text':' Comparison of field and constant.','line_number':126,'multiline':False]
['text':' $and with both children eligible for index use.','line_number':138,'multiline':False]
['text':' $and with one child eligible for index use and one that is not.','line_number':144,'multiline':False]
['text':' $and with one child eligible for index use and a second child containing a $or where one of','line_number':150,'multiline':False]
['text':' the two children are eligible.','line_number':151,'multiline':False]
['text':' Comparison against non-multikey dotted path field is expected to use an index.','line_number':159,'multiline':False]
['text':' $in, $ne, and $cmp are not expected to use an index. This is because we','line_number':164,'multiline':False]
['text':' have not yet implemented a rewrite of these operators to indexable MatchExpression.','line_number':165,'multiline':False]
['text':' Comparison with an array value is not expected to use an index.','line_number':170,'multiline':False]
['text':' A constant expression is not expected to use an index.','line_number':178,'multiline':False]
['text':' Comparison of 2 fields is not expected to use an index.','line_number':188,'multiline':False]
['text':' Comparison against multikey field not expected to use an index.','line_number':195,'multiline':False]
['text':' Comparison against a non-multikey field of a multikey index can use an index','line_number':206,'multiline':False]
['text':' Comparison to NaN can use an index.','line_number':223,'multiline':False]
['text':' Comparison to undefined and comparison to missing cannot use an index.','line_number':230,'multiline':False]
['text':' Comparison to null can use an index.','line_number':242,'multiline':False]
['text':' Comparison inside a nested object can use a non-multikey index.','line_number':249,'multiline':False]
['text':' Test that the collation is respected. Since the collations do not match, we should not use','line_number':256,'multiline':False]
['text':' the index.','line_number':257,'multiline':False]
['text':' Test equality queries against a hashed index.','line_number':268,'multiline':False]
['text':' Equality match against text index prefix is expected to fail. Equality predicates are','line_number':277,'multiline':False]
['text':' required against the prefix fields of a text index, but currently $eq inside $expr does not','line_number':278,'multiline':False]
['text':' qualify.','line_number':279,'multiline':False]
['text':' Test that comparison match in $expr respects the collection's default collation, both when','line_number':283,'multiline':False]
['text':' there is an index with a matching collation and when there isn't.','line_number':284,'multiline':False]
['text':' Test that comparisons to subobjects containing undefined and array types succeed.','line_number':303,'multiline':False]
