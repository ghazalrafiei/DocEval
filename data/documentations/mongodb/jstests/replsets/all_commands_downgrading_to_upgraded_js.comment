['text':'*
 * This file defines tests for all existing commands and their expected behavior when run against a
 * node that is in the downgrading FCV state.
 *
 * @tags: [
 *   # Tagged as multiversion-incompatible as the list of commands will vary depending on version.
 *   multiversion_incompatible,
 *   # Cannot compact when using the in-memory storage engine.
 *   requires_persistence,
 * ]
 ','line_number':1,'multiline':True]
['text':' This will verify the completeness of our map and run all tests.','line_number':13,'multiline':False]
['text':' Pre-written reasons for skipping a test.','line_number':23,'multiline':False]
['text':' TODO SERVER-73029 remove','line_number':58,'multiline':False]
['text':' Skipping command because it requires testing through a parallel shell.','line_number':156,'multiline':False]
['text':' Skipping command because it requires testing through a parallel shell.','line_number':160,'multiline':False]
['text':' Start the transaction.','line_number':170,'multiline':False]
['text':' Skipping command because it requires testing through a parallel shell.','line_number':191,'multiline':False]
['text':' Skipping command because it requires additional authentication setup.','line_number':267,'multiline':False]
['text':' TODO SERVER-67711: Remove check when this feature flag is removed.','line_number':311,'multiline':False]
['text':' TODO SERVER-70396: Remove check when this feature flag is removed.','line_number':336,'multiline':False]
['text':' This would not actually create any orphaned data so the command will be a noop, but','line_number':355,'multiline':False]
['text':' this will be tested through the sharding FCV upgrade/downgrade passthrough.','line_number':356,'multiline':False]
['text':' Skipping command because it requires additional setup through a failed resharding','line_number':371,'multiline':False]
['text':' operation.','line_number':372,'multiline':False]
['text':' Create sufficient documents to create a jumbo chunk, and use the same shard key in','line_number':385,'multiline':False]
['text':' all of','line_number':386,'multiline':False]
['text':' them so that the chunk cannot be split.','line_number':387,'multiline':False]
['text':' Start the transaction.','line_number':461,'multiline':False]
['text':' Skipping command as it requires additional Mongot mock setup (and is an enterprise','line_number':575,'multiline':False]
['text':' feature).','line_number':576,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs through tests in the replsets','line_number':655,'multiline':False]
['text':' and sharding directories.','line_number':656,'multiline':False]
['text':' Skipping command as it requires additional Mongot mock setup (and is an enterprise','line_number':682,'multiline':False]
['text':' feature).','line_number':683,'multiline':False]
['text':' only supported on serverless.','line_number':771,'multiline':False]
['text':' This command requires information that is created during the setUp portion (a cursor ID),','line_number':935,'multiline':False]
['text':' so we need to create the command in setUp. We set the command to an empty object in order','line_number':936,'multiline':False]
['text':' to indicate that the command created in setUp should be used instead.','line_number':937,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs through tests in the replsets','line_number':944,'multiline':False]
['text':' directory.','line_number':945,'multiline':False]
['text':' This command requires information that is created during the setUp portion (a session','line_number':956,'multiline':False]
['text':' ID),','line_number':957,'multiline':False]
['text':' so we need to create the command in setUp. We set the command to an empty object in order','line_number':958,'multiline':False]
['text':' to indicate that the command created in setUp should be used instead.','line_number':959,'multiline':False]
['text':' Skipping command as it requires additional Mongot mock setup (and is an enterprise','line_number':983,'multiline':False]
['text':' feature).','line_number':984,'multiline':False]
['text':' Skipping this command as it requires OIDC/OpenSSL setup.','line_number':1122,'multiline':False]
['text':' Skipping this command as it requires OIDC/OpenSSL setup.','line_number':1126,'multiline':False]
['text':' This command requires information that is created during the setUp portion (a session','line_number':1215,'multiline':False]
['text':' ID),','line_number':1216,'multiline':False]
['text':' so we need to create the command in setUp. We set the command to an empty object in order','line_number':1217,'multiline':False]
['text':' to indicate that the command created in setUp should be used instead.','line_number':1218,'multiline':False]
['text':' We cannot test removeShard because we need to be able to run addShard during set up.','line_number':1228,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs in the sharding','line_number':1229,'multiline':False]
['text':' directory.','line_number':1230,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs through the replsets directory.','line_number':1248,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs through the replsets directory.','line_number':1265,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs through tests in the replsets','line_number':1287,'multiline':False]
['text':' directory.','line_number':1288,'multiline':False]
['text':' This will be tested in FCV upgrade/downgrade passthroughs through tests in the replsets','line_number':1292,'multiline':False]
['text':' directory.','line_number':1293,'multiline':False]
['text':' Sync from primary again.','line_number':1302,'multiline':False]
['text':' setProfilingFilterGlobally command requires query knob to be enabled.','line_number':1421,'multiline':False]
['text':' only supported on serverless.','line_number':1436,'multiline':False]
['text':' TODO: SERVER-71537 Remove Feature Flag for PM-412.','line_number':1445,'multiline':False]
['text':' TODO: SERVER-71537 Remove Feature Flag for PM-412.','line_number':1456,'multiline':False]
['text':' Skipping command because it requires an actual file path for recording traffic to.','line_number':1510,'multiline':False]
['text':' Skipping command because it requires an actual file path for recording traffic to.','line_number':1521,'multiline':False]
['text':' This command uses addShard logic internally, so is not able to run with a transitionary','line_number':1538,'multiline':False]
['text':' FCV.','line_number':1539,'multiline':False]
['text':' In order to properly run this command, we'd need to add a shard or transition from a','line_number':1543,'multiline':False]
['text':' dedicated config server, which is not allowed in a transitionary FCV.','line_number':1544,'multiline':False]
['text':' Skipping command as it requires additional Mongot mock setup (and is an enterprise','line_number':1569,'multiline':False]
['text':' feature).','line_number':1570,'multiline':False]
['text':'*
 * Helper function for failing commands or writes that checks the result 'res' of either.
 * If 'code' is null we only check for failure, otherwise we confirm error code matches as
 * well. On assert 'msg' is printed.
 ','line_number':1646,'multiline':True]
['text':' Skip command if it does not run on this type of cluster.','line_number':1666,'multiline':False]
['text':' Skip command if its feature flag is not enabled.','line_number':1688,'multiline':False]
['text':' If fullScenario is defined, run full setup, command, and teardown in one function.','line_number':1709,'multiline':False]
['text':' Otherwise run setUp.','line_number':1715,'multiline':False]
['text':' For some commands (such as killSessions) the command requires information that is','line_number':1720,'multiline':False]
['text':' created during the setUp portion (such as a session ID), so we need to create the','line_number':1721,'multiline':False]
['text':' command in setUp. We set the command to an empty object in order to indicate that','line_number':1722,'multiline':False]
['text':' the command created in setUp should be used instead.','line_number':1723,'multiline':False]
['text':' Change cmdDb if necessary.','line_number':1729,'multiline':False]
['text':' Run test teardown.','line_number':1746,'multiline':False]
['text':' First check that the map contains all available commands.','line_number':1757,'multiline':False]
['text':' Coverage already guaranteed above, but check again just in case.','line_number':1768,'multiline':False]
['text':' Run all commands.','line_number':1776,'multiline':False]
['text':' Coverage already guaranteed above, but check again just in case.','line_number':1794,'multiline':False]
