['text':' Test the catch-up behavior of new primaries.','line_number':1,'multiline':False]
['text':' The default WC is majority and this test can't test catchup properly if it used majority writes.','line_number':32,'multiline':False]
['text':' Set verbosity for replication on all nodes.','line_number':36,'multiline':False]
['text':' Reconnect all nodes to make sure reconfig succeeds.','line_number':55,'multiline':False]
['text':' Wait for the config with the new term to propagate.','line_number':57,'multiline':False]
['text':' Reconfigure replica set to decrease catchup timeout.','line_number':59,'multiline':False]
['text':' Should complete transition to primary immediately.','line_number':75,'multiline':False]
['text':' Check that the 'numCatchUps' field has not been incremented in serverStatus.','line_number':79,'multiline':False]
['text':' Check that the 'numCatchUpsAlreadyCaughtUp' field has been incremented in serverStatus, and','line_number':83,'multiline':False]
['text':' that none of the other reasons for catchup concluding has been incremented.','line_number':84,'multiline':False]
['text':' Check that the 'electionCandidateMetrics' section of the replSetGetStatus response does not have','line_number':89,'multiline':False]
['text':' a 'targetCatchupOpTime' field if the target opTime for catchup is not set.','line_number':90,'multiline':False]
['text':' Check that the 'electionCandidateMetrics' section of the replSetGetStatus response has a','line_number':98,'multiline':False]
['text':' 'numCatchUpOps' field once the primary is caught up, and that it has the correct value.','line_number':99,'multiline':False]
['text':' Check that the 'electionCandidateMetrics' section of the replSetGetStatus response does not have','line_number':111,'multiline':False]
['text':' a 'newTermStartDate' field before the transition to primary is complete.','line_number':112,'multiline':False]
['text':' Disable fail point to allow replication.','line_number':120,'multiline':False]
['text':' getPrimary() blocks until the primary finishes drain mode.','line_number':122,'multiline':False]
['text':' Wait until the new primary completes the transition to primary and writes a no-op.','line_number':125,'multiline':False]
['text':' Check that the new primary's term has been updated because of the no-op.','line_number':127,'multiline':False]
['text':' Check that the 'electionCandidateMetrics' section of the replSetGetStatus response has a','line_number':130,'multiline':False]
['text':' 'newTermStartDate' field once the transition to primary is complete.','line_number':131,'multiline':False]
['text':' Check that the 'numCatchUps' field has been incremented in serverStatus.','line_number':139,'multiline':False]
['text':' Check that the 'numCatchUpsSucceeded' field has been incremented in serverStatus, and that','line_number':144,'multiline':False]
['text':' none of the other reasons for catchup concluding has been incremented.','line_number':145,'multiline':False]
['text':' Check that the 'electionCandidateMetrics' section of the replSetGetStatus response has the','line_number':150,'multiline':False]
['text':' 'targetCatchupOpTime' field once the primary is caught up, and that it has the correct values.','line_number':151,'multiline':False]
['text':' Wait for all secondaries to catch up','line_number':159,'multiline':False]
['text':' Check the latest op on old primary is preserved on the new one.','line_number':161,'multiline':False]
['text':' Reconfig the election timeout to be longer than 1 minute so that the third node will no','line_number':166,'multiline':False]
['text':' longer be denylisted by the new primary if it happened to be at the beginning of the test.','line_number':167,'multiline':False]
['text':' Disable fail point on the voter. Wait until it catches up with the old primary.','line_number':172,'multiline':False]
['text':' Wait until the new primary knows the last applied optime on the voter, so it will keep','line_number':176,'multiline':False]
['text':' catching up after the old primary is disconnected.','line_number':177,'multiline':False]
['text':' Disconnect the new primary and the old one.','line_number':184,'multiline':False]
['text':' Disable the failpoint, the new primary should sync from the other secondary.','line_number':186,'multiline':False]
['text':' Restore the broken connection','line_number':190,'multiline':False]
['text':' Reconfig to make the catchup timeout shorter.','line_number':198,'multiline':False]
['text':' Wait until the new primary completes the transition to primary and writes a no-op.','line_number':202,'multiline':False]
['text':' Check that the 'numCatchUpsTimedOut' field has been incremented in serverStatus, and that','line_number':207,'multiline':False]
['text':' none of the other reasons for catchup concluding has been incremented.','line_number':208,'multiline':False]
['text':' Wait for the no-op "new primary" after winning an election, so that we know it has','line_number':215,'multiline':False]
['text':' finished transition to primary.','line_number':216,'multiline':False]
['text':' The extra oplog entries on the old primary are not replicated to the new one.','line_number':221,'multiline':False]
['text':' Reconfig to make the catchup timeout infinite.','line_number':227,'multiline':False]
['text':' Abort catchup.','line_number':234,'multiline':False]
['text':' Check that the 'numCatchUpsFailedWithReplSetAbortPrimaryCatchUpCmd' field has been','line_number':237,'multiline':False]
['text':' incremented in serverStatus, and that none of the other reasons for catchup concluding has','line_number':238,'multiline':False]
['text':' been incremented.','line_number':239,'multiline':False]
['text':' Wait for the no-op "new primary" after winning an election, so that we know it has','line_number':246,'multiline':False]
['text':' finished transition to primary.','line_number':247,'multiline':False]
['text':' The extra oplog entries on the old primary are not replicated to the new one.','line_number':252,'multiline':False]
['text':' Step-down command should abort catchup.','line_number':264,'multiline':False]
['text':' Check that the 'numCatchUpsFailedWithError' field has been incremented in serverStatus, and','line_number':267,'multiline':False]
['text':' that none of the other reasons for catchup concluding has been incremented.','line_number':268,'multiline':False]
['text':' Rename the primary.','line_number':275,'multiline':False]
['text':' Enable data replication on the stepped down primary and make sure it syncs old writes.','line_number':280,'multiline':False]
